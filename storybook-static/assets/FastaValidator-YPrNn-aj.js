import{a as u,t as _,h as Ue,i as ue}from"./template-Bf37FghY.js";import{p as it,O as ct,P as ot,s as o,V as i,a as vt,T as V,n as e,X as Q,f as re,Q as ie,U as je,R as A,W as dt,B as $e}from"./runtime-D_5eIJdB.js";import{i as C,s as S}from"./if-qkq15gDy.js";import{e as ce,i as oe}from"./each-BHgmS7vF.js";import{i as pt,e as P}from"./store-DSaKCGfv.js";import{t as he}from"./class-BhzPnwhT.js";import{a as Se}from"./input-BUIXpOkk.js";import{b as ut}from"./select-BhYEdWed.js";import{p as Ee}from"./props-Byy7dS6_.js";import{c as ht,o as ft}from"./index-client-DTALjsIX.js";import"./index-BzKHlfNo.js";const Pe=new Set("ACGTUNRYSWKMBDHVacgtunryswkmbdhv-."),He=new Set("ACDEFGHIKLMNPQRSTVWYacdefghiklmnpqrstvwy-.*X"),I={EMPTY_FILE:{code:"FASTA-001",message:"File is empty"},NO_HEADER:{code:"FASTA-002",message:"FASTA header line (starting with >) not found"},INVALID_HEADER:{code:"FASTA-003",message:"Invalid FASTA header format"},EMPTY_SEQUENCE:{code:"FASTA-004",message:"Sequence is empty"},INCONSISTENT_LENGTH:{code:"FASTA-005",message:"Inconsistent sequence lengths in alignment"},INVALID_CHARACTERS:{code:"FASTA-006",message:"Invalid characters in sequence"},DUPLICATE_HEADERS:{code:"FASTA-007",message:"Duplicate sequence headers"},STOP_CODONS:{code:"FASTA-008",message:"Stop codons found in coding sequence"},MIXED_CASE:{code:"FASTA-009",message:"Mixed case used in sequences (could indicate issues)"},WHITESPACE_IN_SEQUENCE:{code:"FASTA-010",message:"Whitespace found in sequence"},HEADER_WITHOUT_SEQUENCE:{code:"FASTA-011",message:"Header without corresponding sequence"}};function mt(t){if(!t||!t.trim())throw new we(I.EMPTY_FILE.code,I.EMPTY_FILE.message);const n=t.split(/\\r?\\n/),l=[];let r=null;const p=new Set,h=[];for(let a=0;a<n.length;a++){const s=n[a].trim();if(s)if(s.startsWith(">")){r&&r.sequence.length===0&&h.push({type:I.EMPTY_SEQUENCE,details:`Empty sequence for header: ${r.header}`,line:a});const c=s.substring(1).trim();c||h.push({type:I.INVALID_HEADER,details:"Empty header found",line:a+1}),p.has(c)&&h.push({type:I.DUPLICATE_HEADERS,details:`Duplicate header found: ${c}`,line:a+1}),p.add(c),r={header:c,description:c,sequence:"",lineStart:a+1},l.push(r)}else r?(/\\s/.test(s)&&h.push({type:I.WHITESPACE_IN_SEQUENCE,details:"Whitespace found in sequence line",line:a+1}),r.sequence+=s.replace(/\\s/g,"")):h.push({type:I.NO_HEADER,details:"Sequence data found before any header",line:a+1})}if(l.length===0)throw new we(I.NO_HEADER.code,I.NO_HEADER.message);return r&&r.sequence.length===0&&h.push({type:I.EMPTY_SEQUENCE,details:`Empty sequence for header: ${r.header}`,line:r.lineStart}),{sequences:l,warnings:h}}function gt(t,n={}){const{checkConsistentLength:l=!0,sequenceType:r="auto",checkStopCodons:p=!0,checkCase:h=!0}=n,a={valid:!0,errors:[],warnings:[],stats:{sequenceCount:t.length,minLength:1/0,maxLength:0,totalLength:0,detectedType:null}};let s=r;if(s==="auto"&&t.length>0){const m=t[0].sequence;s=[...m].filter(E=>"ACGTUacgtu".includes(E)).length/m.length>.9?"nucleotide":"amino"}a.stats.detectedType=s;const c=s==="nucleotide"?Pe:He;for(let m=0;m<t.length;m++){const v=t[m],E=v.sequence.length;a.stats.minLength=Math.min(a.stats.minLength,E),a.stats.maxLength=Math.max(a.stats.maxLength,E),a.stats.totalLength+=E;const b=new Set;for(const y of v.sequence)c.has(y)||b.add(y);if(b.size>0&&(a.errors.push({type:I.INVALID_CHARACTERS,details:`Invalid characters found in sequence ${m+1} (${v.header}): ${[...b].join(", ")}`,sequence:m,chars:[...b]}),a.valid=!1),h){const y=/[A-Z]/.test(v.sequence),d=/[a-z]/.test(v.sequence);y&&d&&a.warnings.push({type:I.MIXED_CASE,details:`Mixed case found in sequence ${m+1} (${v.header})`,sequence:m})}if(p&&s==="nucleotide"&&E%3===0){const y=["TAA","TAG","TGA","UAA","UAG","UGA"];let d=[];for(let L=0;L<E-2;L+=3){const H=v.sequence.substring(L,L+3).toUpperCase();y.includes(H)&&d.push(L)}d.length>0&&(d.length===1&&d[0]===E-3||a.warnings.push({type:I.STOP_CODONS,details:`Stop codons found in sequence ${m+1} (${v.header}) at positions: ${d.join(", ")}`,sequence:m,positions:d}))}}return l&&t.length>1&&a.stats.minLength!==a.stats.maxLength&&(a.errors.push({type:I.INCONSISTENT_LENGTH,details:`Sequences have inconsistent lengths (min: ${a.stats.minLength}, max: ${a.stats.maxLength})`,minLength:a.stats.minLength,maxLength:a.stats.maxLength}),a.valid=!1),t.length>0&&(a.stats.averageLength=a.stats.totalLength/t.length),a}function xt(t,n={}){const{normalizeCase:l=!0,padSequences:r=!0,removeInvalidChars:p=!0,removeWhitespace:h=!0,sequenceType:a="auto"}=n;let s=a;if(s==="auto"&&t.length>0){const b=t[0].sequence;s=[...b].filter(d=>"ACGTUacgtu".includes(d)).length/b.length>.9?"nucleotide":"amino"}const c=s==="nucleotide"?Pe:He;let m=0;if(r)for(const b of t)m=Math.max(m,b.sequence.length);const v=[];return{sequences:t.map((b,y)=>{const d={...b,sequence:b.sequence};if(h&&/\\s/.test(d.sequence)&&(d.sequence.length,d.sequence=d.sequence.replace(/\\s/g,""),v.push({type:"whitespace_removed",sequence:y,header:b.header,details:`Removed whitespace from sequence ${y+1}`})),l){const L=d.sequence;d.sequence=d.sequence.toUpperCase(),L!==d.sequence&&v.push({type:"case_normalized",sequence:y,header:b.header,details:`Normalized case to uppercase for sequence ${y+1}`})}if(p){const L=d.sequence;d.sequence=[...d.sequence].filter(H=>c.has(H)).join(""),L!==d.sequence&&v.push({type:"invalid_chars_removed",sequence:y,header:b.header,details:`Removed invalid characters from sequence ${y+1}`})}if(r&&d.sequence.length<m){const L=d.sequence.length,H="-";d.sequence=d.sequence.padEnd(m,H),v.push({type:"sequence_padded",sequence:y,header:b.header,details:`Padded sequence ${y+1} from ${L} to ${m} characters`})}return d}),repairs:v}}function _t(t,n={}){const{lineLength:l=60,includeDescription:r=!0}=n;let p="";for(const h of t){p+=">"+(r?h.header:h.header.split(/\\s+/)[0])+`
`;let a=h.sequence;for(let s=0;s<a.length;s+=l)p+=a.substring(s,s+l)+`
`}return p}function qe(t,n={}){try{const{sequences:l,warnings:r}=mt(t),p=gt(l,n);return p.warnings=[...r,...p.warnings],p.sequences=l,p}catch(l){return l instanceof we?{valid:!1,errors:[{type:{code:l.code,message:l.message},details:l.message}],warnings:[],sequences:[],stats:{sequenceCount:0}}:{valid:!1,errors:[{type:{code:"FASTA-999",message:"Unknown error"},details:l.message||"Unknown error occurred during validation"}],warnings:[],sequences:[],stats:{sequenceCount:0}}}}class we extends Error{constructor(n,l){super(l),this.code=n,this.name="ValidationError"}}function bt(t,n,l="json"){let r,p;switch(l.toLowerCase()){case"json":r=typeof t=="string"?t:JSON.stringify(t,null,2),p="application/json",n=n.endsWith(".json")?n:`${n}.json`;break;case"csv":r=yt(t),p="text/csv",n=n.endsWith(".csv")?n:`${n}.csv`;break;case"txt":default:r=typeof t=="string"?t:JSON.stringify(t,null,2),p="text/plain",n=n.endsWith(".txt")?n:`${n}.txt`;break}const h=new Blob([r],{type:p}),a=URL.createObjectURL(h),s=document.createElement("a");s.href=a,s.download=n,s.style.display="none",document.body.appendChild(s),s.click(),setTimeout(()=>{document.body.removeChild(s),URL.revokeObjectURL(a)},100)}function yt(t){if(!t)return"";if(t.FILE_INFO)return At(t);if(t.tested&&t.tested.sites)return St(t);if(Array.isArray(t)){if(t.length===0)return"";const n=Object.keys(t[0]),l=n.join(","),r=t.map(p=>n.map(h=>{const a=p[h];return fe(a)}).join(","));return[l,...r].join(`
`)}if(typeof t=="object"&&t!==null){const n=Object.keys(t),l=n.join(","),r=n.map(p=>fe(t[p])).join(",");return[l,r].join(`
`)}return""}function fe(t){return t==null?"":(typeof t=="object"&&(t=JSON.stringify(t)),t=String(t),(t.includes(",")||t.includes('"')||t.includes(`
`))&&(t='"'+t.replace(/"/g,'""')+'"'),t)}function At(t){const n=[];if(t.FILE_INFO){n.push("FILE INFO"),n.push("Property,Value");for(const[l,r]of Object.entries(t.FILE_INFO))typeof r!="object"&&n.push(`${l},${fe(r)}`);n.push("")}if(t.FILE_PARTITION_INFO){n.push("PARTITION INFO"),n.push("Partition,Sites,Sequences");for(const[l,r]of Object.entries(t.FILE_PARTITION_INFO))n.push(`${l},${r.sites||0},${r.sequences||0}`)}return n.join(`
`)}function St(t){const n=[];if(n.push("ANALYSIS INFO"),n.push("Property,Value"),t.input&&(n.push(`Method,${t.input.analysis.type||"Unknown"}`),n.push(`Version,${t.input.version||"Unknown"}`),n.push(`Created,${t.input.timestamp||"Unknown"}`),n.push(`Alignment,${t.input.file||"Unknown"}`),n.push(`Sites,${t.input.sites||0}`),n.push(`Sequences,${t.input.sequences||0}`)),n.push(""),t.tested&&t.tested.sites&&t.tested.sites.length>0){n.push("SITE RESULTS");const l=t.tested.sites[0],r=Object.keys(l);n.push(r.join(","));for(const p of t.tested.sites){const h=r.map(a=>fe(p[a])).join(",");n.push(h)}}return n.join(`
`)}var Et=_('<p class="text-gray-500 svelte-xccvlp">No file selected for validation</p>'),qt=_('<div class="flex items-center svelte-xccvlp"><div class="loader mr-3 svelte-xccvlp"></div> <p class="svelte-xccvlp"> </p></div>'),wt=_('<span class="mx-1 svelte-xccvlp">|</span> <span class="font-medium svelte-xccvlp">Type:</span> <span class="mx-1 svelte-xccvlp">|</span> <span class="font-medium svelte-xccvlp">Length:</span> <!>',1),Ct=_('<p class="text-sm svelte-xccvlp"><span class="font-medium svelte-xccvlp">Sequences:</span> <!></p>'),Tt=_('<p class="mt-1 text-xs svelte-xccvlp"> </p>'),It=_('<li class="mb-1 rounded border-l-4 border-red-400 bg-red-50 p-2 text-sm svelte-xccvlp"><div class="flex items-start justify-between svelte-xccvlp"><div class="svelte-xccvlp"><span class="font-mono text-xs text-red-800 svelte-xccvlp"> </span> <span class="ml-2 font-medium svelte-xccvlp"> </span></div></div> <!></li>'),Lt=_('<p class="mt-1 text-xs svelte-xccvlp"> </p>'),Ft=_('<li class="mb-1 rounded border-l-4 border-yellow-400 bg-yellow-50 p-2 text-sm svelte-xccvlp"><div class="flex items-start justify-between svelte-xccvlp"><div class="svelte-xccvlp"><span class="font-mono text-xs text-yellow-800 svelte-xccvlp"> </span> <span class="ml-2 font-medium svelte-xccvlp"> </span></div></div> <!></li>'),kt=_('<div class="issues-list svelte-xccvlp"><div class="mb-2 flex items-center justify-between svelte-xccvlp"><h5 class="font-medium svelte-xccvlp">Issues Found</h5> <button class="text-xs text-blue-600 hover:text-blue-800 hover:underline svelte-xccvlp"> </button></div> <ul class="max-h-48 overflow-y-auto svelte-xccvlp"><!> <!></ul></div>'),Nt=_('<p class="text-green-600 svelte-xccvlp">No issues found in the file</p>'),Rt=_('<button class="flex items-center rounded bg-blue-500 px-3 py-1 text-white hover:bg-blue-600 svelte-xccvlp"><svg xmlns="http://www.w3.org/2000/svg" class="mr-1 h-4 w-4 svelte-xccvlp" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd" class="svelte-xccvlp"></path></svg> Repair FASTA File</button>'),Ot=_('<li class="svelte-xccvlp"> </li>'),Dt=_('<li class="text-gray-500 svelte-xccvlp"> </li>'),Vt=_('<div class="mb-3 svelte-xccvlp"><h5 class="mb-1 font-medium svelte-xccvlp">Repairs Applied:</h5> <ul class="ml-4 list-disc text-sm svelte-xccvlp"><!> <!></ul></div>'),Ut=_('<li class="text-red-600 svelte-xccvlp"> </li>'),jt=_('<li class="text-yellow-600 svelte-xccvlp"> </li>'),$t=_('<div class="mb-3 svelte-xccvlp"><h5 class="mb-1 font-medium svelte-xccvlp">Remaining Issues:</h5> <ul class="ml-4 list-disc text-sm svelte-xccvlp"><!> <!></ul></div>'),Pt=_('<div class="mb-3 rounded bg-green-100 p-2 text-green-700 svelte-xccvlp"><p class="font-medium svelte-xccvlp">File Repaired Successfully</p> <p class="text-sm svelte-xccvlp"><!></p></div> <!> <!> <div class="flex flex-wrap gap-2 svelte-xccvlp"><button class="flex items-center rounded bg-green-500 px-3 py-1 text-white hover:bg-green-600 svelte-xccvlp"><svg xmlns="http://www.w3.org/2000/svg" class="mr-1 h-4 w-4 svelte-xccvlp" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" class="svelte-xccvlp"></path></svg> Export Repaired FASTA</button> <button class="flex items-center rounded bg-blue-500 px-3 py-1 text-white hover:bg-blue-600 svelte-xccvlp"><svg xmlns="http://www.w3.org/2000/svg" class="mr-1 h-4 w-4 svelte-xccvlp" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" class="svelte-xccvlp"></path></svg> Use Repaired Version</button></div>',1),Ht=_('<div class="repair-section mb-4 rounded border border-gray-200 p-3 svelte-xccvlp"><h4 class="mb-2 font-medium svelte-xccvlp">Repair Options</h4> <!></div>'),Mt=_('<div class="mb-4 rounded border border-gray-200 p-3 svelte-xccvlp"><h4 class="mb-2 font-medium svelte-xccvlp">Validation Options</h4> <div class="grid grid-cols-1 gap-2 sm:grid-cols-2 svelte-xccvlp"><label class="flex items-center svelte-xccvlp"><input type="checkbox" class="mr-2 svelte-xccvlp"> <span class="svelte-xccvlp">Check consistent length</span></label> <label class="flex items-center svelte-xccvlp"><input type="checkbox" class="mr-2 svelte-xccvlp"> <span class="svelte-xccvlp">Check stop codons</span></label> <label class="flex items-center svelte-xccvlp"><input type="checkbox" class="mr-2 svelte-xccvlp"> <span class="svelte-xccvlp">Check case consistency</span></label> <div class="svelte-xccvlp"><label class="mb-1 block svelte-xccvlp">Sequence type:</label> <select class="w-full rounded border border-gray-300 px-2 py-1 svelte-xccvlp"><option class="svelte-xccvlp">Auto-detect</option><option class="svelte-xccvlp">Nucleotide</option><option class="svelte-xccvlp">Amino Acid</option></select></div></div></div> <div class="mb-4 rounded border border-gray-200 p-3 svelte-xccvlp"><h4 class="mb-2 font-medium svelte-xccvlp">Validation Summary</h4> <div class="mb-3 rounded p-2 svelte-xccvlp"><p class="font-medium svelte-xccvlp"> </p> <!></div> <!></div> <!>',1),Wt=_('<div class="fasta-validator mb-6 rounded-lg border border-gray-200 bg-white p-4 shadow-sm svelte-xccvlp"><h3 class="mb-3 text-lg font-bold svelte-xccvlp">FASTA Validation</h3> <!></div>');function zt(t,n){it(n,!1);let l=Ee(n,"file",8,null),r=Ee(n,"autoValidate",8,!0),p=Ee(n,"showRepair",8,!0),h="",a=ie(!1),s=ie(null),c=ie(null),m=ie(!1),v=ie({checkConsistentLength:!0,sequenceType:"auto",checkStopCodons:!0,checkCase:!0});const E=ht();function b(g){return g&&g.code?g.code:"UNKNOWN"}async function y(){if(l()){V(a,!0);try{h=await l().text(),V(s,qe(h,e(v))),E("validated",e(s)),!e(s).valid&&p()?d():V(c,null)}catch(g){console.error("Error validating file:",g),V(s,{valid:!1,errors:[{type:{code:"FASTA-999",message:"Validation error"},details:g.message||"An error occurred during validation"}],warnings:[],sequences:[],stats:{sequenceCount:0}}),E("validated",e(s))}finally{V(a,!1)}}}function d(){if(!(!e(s)||!e(s).sequences))try{const g=xt(e(s).sequences,{normalizeCase:!0,padSequences:!0,removeInvalidChars:!0,removeWhitespace:!0,sequenceType:e(s).stats.detectedType||"auto"});V(c,{...g,fastaContent:_t(g.sequences)});const N=qe(e(c).fastaContent,e(v));Q(c,e(c).valid=N.valid),Q(c,e(c).remainingWarnings=N.warnings),Q(c,e(c).remainingErrors=N.errors),E("repaired",e(c))}catch(g){console.error("Error repairing FASTA data:",g),V(c,null)}}function L(){V(m,!e(m))}function H(){if(!(!e(c)||!e(c).fastaContent))try{const g=new Date().toISOString().replace(/[:.]/g,"-").substring(0,19),N=`repaired_${l().name||"sequence"}_${g}`;bt(e(c).fastaContent,N,"txt"),E("exported",{filename:N})}catch(g){console.error("Error exporting repaired FASTA:",g)}}function Me(){!e(c)||!e(c).fastaContent||E("useRepaired",{content:e(c).fastaContent,name:`repaired_${l().name||"sequence"}`})}function ve(){h&&(V(s,qe(h,e(v))),E("validated",e(s)),!e(s).valid&&p()?d():V(c,null))}ft(()=>{l()&&r()&&y()}),ct(()=>(je(l()),je(r())),()=>{l()&&r()&&y()}),ot(),pt();var Ce=Wt(),We=o(i(Ce),2);{var ze=g=>{var N=Et();u(g,N)},Ge=g=>{var N=Ue(),Ye=re(N);{var Qe=B=>{var ee=qt(),me=o(i(ee),2),ge=i(me);A(()=>S(ge,`Validating ${l().name??""}...`)),u(B,ee)},Be=B=>{var ee=Ue(),me=re(ee);{var ge=xe=>{var Te=Mt(),Ie=re(Te),Ke=o(i(Ie),2),Le=i(Ke),Fe=i(Le),ke=o(Le,2),Ne=i(ke),Re=o(ke,2),Oe=i(Re),Xe=o(Re,2),_e=o(i(Xe),2);A(()=>{e(v),dt(()=>{})});var be=i(_e);be.value=(be.__value="auto")==null?"":"auto";var ye=o(be);ye.value=(ye.__value="nucleotide")==null?"":"nucleotide";var De=o(ye);De.value=(De.__value="amino")==null?"":"amino";var Ve=o(Ie,2),de=o(i(Ve),2),pe=i(de),Je=i(pe),Ze=o(pe,2);{var et=x=>{var O=Ct(),M=o(i(O)),K=o(M);{var te=F=>{var R=wt(),W=o(re(R),3),z=o(W,5);{var q=T=>{var k=ue();A(()=>S(k,`${e(s).stats.minLength??""} bp`)),u(T,k)},U=T=>{var k=ue();A(()=>S(k,`${e(s).stats.minLength??""} - ${e(s).stats.maxLength??""} bp`)),u(T,k)};C(z,T=>{e(s).stats.minLength===e(s).stats.maxLength?T(q):T(U,!1)})}A(()=>S(W,` ${(e(s).stats.detectedType==="nucleotide"?"Nucleotide":"Amino Acid")??""} `)),u(F,R)};C(K,F=>{e(s).stats.sequenceCount>0&&F(te)})}A(()=>S(M,` ${e(s).stats.sequenceCount??""} `)),u(x,O)};C(Ze,x=>{e(s).stats&&x(et)})}var tt=o(de,2);{var st=x=>{var O=kt(),M=i(O),K=o(i(M),2),te=i(K),F=o(M,2),R=i(F);ce(R,1,()=>e(s).errors,oe,(z,q)=>{var U=It(),T=i(U),k=i(T),G=i(k),X=i(G),se=o(G,2),ne=i(se),J=o(T,2);{var Z=f=>{var w=Tt(),Y=i(w);A(()=>S(Y,e(q).details)),u(f,w)};C(J,f=>{e(m)&&e(q).details&&f(Z)})}A(f=>{S(X,f),S(ne,e(q).type?e(q).type.message:"Error")},[()=>b(e(q).type)],$e),u(z,U)});var W=o(R,2);ce(W,1,()=>e(s).warnings,oe,(z,q)=>{var U=Ft(),T=i(U),k=i(T),G=i(k),X=i(G),se=o(G,2),ne=i(se),J=o(T,2);{var Z=f=>{var w=Lt(),Y=i(w);A(()=>S(Y,e(q).details)),u(f,w)};C(J,f=>{e(m)&&e(q).details&&f(Z)})}A(f=>{S(X,f),S(ne,e(q).type?e(q).type.message:"Warning")},[()=>b(e(q).type)],$e),u(z,U)}),A(()=>S(te,e(m)?"Show Summary":"Show All Details")),P("click",K,L),u(x,O)},nt=x=>{var O=Nt();u(x,O)};C(tt,x=>{e(s).errors.length>0||e(s).warnings.length>0?x(st):x(nt,!1)})}var at=o(Ve,2);{var lt=x=>{var O=Ht(),M=o(i(O),2);{var K=F=>{var R=Rt();P("click",R,d),u(F,R)},te=F=>{var R=Pt(),W=re(R),z=o(i(W),2),q=i(z);{var U=f=>{var w=ue("All issues have been fixed.");u(f,w)},T=f=>{var w=ue("Some issues were fixed, but some may require manual attention.");u(f,w)};C(q,f=>{e(c).valid?f(U):f(T,!1)})}var k=o(W,2);{var G=f=>{var w=Vt(),Y=o(i(w),2),ae=i(Y);ce(ae,1,()=>e(c).repairs.slice(0,5),oe,(j,D)=>{var $=Ot(),rt=i($);A(()=>S(rt,e(D).details)),u(j,$)});var Ae=o(ae,2);{var le=j=>{var D=Dt(),$=i(D);A(()=>S($,`...and ${e(c).repairs.length-5} more repairs`)),u(j,D)};C(Ae,j=>{e(c).repairs.length>5&&j(le)})}u(f,w)};C(k,f=>{e(c).repairs.length>0&&f(G)})}var X=o(k,2);{var se=f=>{var w=$t(),Y=o(i(w),2),ae=i(Y);ce(ae,1,()=>e(c).remainingErrors,oe,(le,j)=>{var D=Ut(),$=i(D);A(()=>S($,e(j).type.message)),u(le,D)});var Ae=o(ae,2);ce(Ae,1,()=>e(c).remainingWarnings,oe,(le,j)=>{var D=jt(),$=i(D);A(()=>S($,e(j).type.message)),u(le,D)}),u(f,w)};C(X,f=>{(e(c).remainingErrors.length>0||e(c).remainingWarnings.length>0)&&f(se)})}var ne=o(X,2),J=i(ne),Z=o(J,2);A(()=>Z.disabled=!e(c).valid),P("click",J,H),P("click",Z,Me),u(F,R)};C(M,F=>{e(c)?F(te,!1):F(K)})}u(x,O)};C(at,x=>{p()&&!e(s).valid&&x(lt)})}A(()=>{he(de,"bg-green-100",e(s).valid),he(de,"bg-red-100",!e(s).valid),he(pe,"text-green-700",e(s).valid),he(pe,"text-red-700",!e(s).valid),S(Je,e(s).valid?"Valid FASTA file":"Invalid FASTA file")}),Se(Fe,()=>e(v).checkConsistentLength,x=>Q(v,e(v).checkConsistentLength=x)),P("change",Fe,ve),Se(Ne,()=>e(v).checkStopCodons,x=>Q(v,e(v).checkStopCodons=x)),P("change",Ne,ve),Se(Oe,()=>e(v).checkCase,x=>Q(v,e(v).checkCase=x)),P("change",Oe,ve),ut(_e,()=>e(v).sequenceType,x=>Q(v,e(v).sequenceType=x)),P("change",_e,ve),u(xe,Te)};C(me,xe=>{e(s)&&xe(ge)},!0)}u(B,ee)};C(Ye,B=>{e(a)?B(Qe):B(Be,!1)},!0)}u(g,N)};C(We,g=>{l()?g(Ge,!1):g(ze)})}u(t,Ce),vt()}zt.__docgen={version:3,name:"FastaValidator.svelte",data:[{name:"file",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"other",text:"null"},static:!1,readonly:!1,defaultValue:"null"},{name:"autoValidate",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"true"},{name:"showRepair",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"true"}],computed:[],methods:[],components:[],description:null,keywords:[],events:[{visibility:"public",description:null,keywords:[],name:"useRepaired"},{visibility:"public",description:null,keywords:[],name:"validated"}],slots:[],refs:[]};export{zt as default};
