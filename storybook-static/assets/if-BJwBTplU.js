import{ah as S,F as T,ai as k,C as A,j as m,p as C,b as V,o as w,i as F,E as P,D as g,k as N}from"./runtime-CsLX-Eqq.js";import{b as j,r as I,h as v}from"./store-CEga9lFI.js";import{U as y}from"./template-CIKGjA4E.js";const D=["touchstart","touchmove"];function M(r){return D.includes(r)}let L=!0;function W(r,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=n,r.nodeValue=n==null?"":n+"")}function Z(r,t){return R(r,t)}const f=new Map;function R(r,{target:t,anchor:n,props:l={},events:i,context:a,intro:c=!0}){S();var d=new Set,u=o=>{for(var e=0;e<o.length;e++){var s=o[e];if(!d.has(s)){d.add(s);var p=M(s);t.addEventListener(s,v,{passive:p});var b=f.get(s);b===void 0?(document.addEventListener(s,v,{passive:p}),f.set(s,1)):f.set(s,b+1)}}};u(T(j)),I.add(u);var _=void 0,h=k(()=>{var o=n??t.appendChild(A());return m(()=>{if(a){C({});var e=w;e.c=a}i&&(l.$$events=i),L=c,_=r(o,l)||{},L=!0,a&&V()}),()=>{var p;for(var e of d){t.removeEventListener(e,v);var s=f.get(e);--s===0?(document.removeEventListener(e,v),f.delete(e)):f.set(e,s)}I.delete(u),o!==n&&((p=o.parentNode)==null||p.removeChild(o))}});return E.set(_,h),_}let E=new WeakMap;function z(r,t){const n=E.get(r);return n?(E.delete(r),n(t)):Promise.resolve()}function B(r,t,n=!1){var l=r,i=null,a=null,c=y,d=n?P:0,u=!1;const _=(o,e=!0)=>{u=!0,h(e,o)},h=(o,e)=>{c!==(c=o)&&(c?(i?g(i):e&&(i=m(()=>e(l))),a&&N(a,()=>{a=null})):(a?g(a):e&&(a=m(()=>e(l))),i&&N(i,()=>{i=null})))};F(()=>{u=!1,t(_),u||h(null,null)},d)}export{L as a,B as i,Z as m,W as s,z as u};
