import{a as t,t as o,h as W}from"./template-Bf37FghY.js";import{p as ws,O as hs,P as bs,a as Ss,V as e,f as C,T as As,U as xs,s,R as w,Q as Ds,B as ae,n as P}from"./runtime-D_5eIJdB.js";import{i as n,s as r}from"./if-qkq15gDy.js";import{e as Is,i as Cs}from"./each-BHgmS7vF.js";import{c as Rs}from"./svelte-component-BW4CbnT0.js";import{s as Fs}from"./class-BhzPnwhT.js";import{i as ks}from"./store-DSaKCGfv.js";import{p as G}from"./props-Byy7dS6_.js";import{G as Os,F as Es,B as Ls,S as Vs,R as qs,c as zs,A as Ts,M as Ns,d as Bs}from"./GardVisualization-CWXL997O.js";/* empty css            */import"./index-BzKHlfNo.js";import"./html-CxodrJdO.js";import"./attributes-OnZxMmlQ.js";import"./input-BUIXpOkk.js";import"./select-BhYEdWed.js";import"./this-CWb_DT5z.js";import"./index-client-DTALjsIX.js";var Ms=o('<div class="flex flex-col items-center justify-center p-8 svelte-efv9ow"><div class="loader mb-4 svelte-efv9ow"></div> <p class="svelte-efv9ow">Loading analysis results...</p></div>'),js=o('<div class="error-container p-4 text-red-500 svelte-efv9ow"><h3 class="font-bold svelte-efv9ow">Error</h3> <p class="svelte-efv9ow"> </p></div>'),Us=o('<p class="svelte-efv9ow"> </p>'),Ps=o('<div class="hyphy-scope-container mb-4 svelte-efv9ow"><!></div>'),Gs=o('<div class="mb-4 svelte-efv9ow"><p class="svelte-efv9ow"><strong class="svelte-efv9ow">Type:</strong> </p> <p class="svelte-efv9ow"><strong class="svelte-efv9ow">Sequences:</strong> </p> <p class="svelte-efv9ow"><strong class="svelte-efv9ow">Sites:</strong> </p></div>'),Hs=o('<div class="mb-2 border-l-4 border-blue-500 pl-2 svelte-efv9ow"><p class="svelte-efv9ow"><strong class="svelte-efv9ow"> </strong></p> <p class="svelte-efv9ow"><strong class="svelte-efv9ow">Sites:</strong> </p> <p class="svelte-efv9ow"><strong class="svelte-efv9ow">Sequences:</strong> </p></div>'),Js=o('<h3 class="mb-2 text-lg font-bold svelte-efv9ow">Partition Information</h3> <div class="partition-info svelte-efv9ow"></div>',1),Ks=o('<div class="data-reader-results svelte-efv9ow"><h3 class="mb-2 text-lg font-bold svelte-efv9ow">File Information</h3> <!> <!></div>'),Qs=o('<div class="json-display svelte-efv9ow"><h3 class="mb-2 text-lg font-bold svelte-efv9ow">Analysis Results</h3> <pre class="max-h-96 overflow-auto bg-gray-100 p-2 text-sm svelte-efv9ow"> </pre></div>'),Ys=o("<!> <!>",1),Ws=o('<div class="flex flex-col items-center justify-center p-8 svelte-efv9ow"><div class="loader mb-4 svelte-efv9ow"></div> <p class="svelte-efv9ow"> </p></div>'),Xs=o('<p class="text-gray-600 svelte-efv9ow">No results available</p>'),Zs=o('<div class="analysis-container svelte-efv9ow"><div class="bg-gray-100 p-4 svelte-efv9ow"><div class="flex items-center justify-between svelte-efv9ow"><h2 class="text-xl font-bold svelte-efv9ow"> </h2></div> <div class="text-sm text-gray-600 svelte-efv9ow"><p class="svelte-efv9ow"> </p> <p class="svelte-efv9ow">Status: <span> </span></p> <p class="svelte-efv9ow"> </p> <!></div></div> <div class="result-content p-4 svelte-efv9ow"><!></div></div>'),$s=o('<p class="p-4 text-gray-500 svelte-efv9ow">Select an analysis to view results</p>'),et=o('<div class="analysis-viewer svelte-efv9ow"><!></div>');function oe(X,h){ws(h,!1);const H=Ds();let a=G(h,"analysis",24,()=>({})),re=G(h,"file",24,()=>({})),m=G(h,"resultData",24,()=>({})),Ke=G(h,"loading",8,!1),ie=G(h,"error",8,null);function le(d){return new Date(d).toLocaleString()}function Qe(d){switch(d.toLowerCase()){case"fel":return Bs;case"meme":return Ns;case"absrel":case"abserel":return Ts;case"busted":return zs;case"relax":return qs;case"slac":return Vs;case"bgm":return Ls;case"fade":return Es;case"gard":return Os;default:return null}}hs(()=>xs(a()),()=>{As(H,a().method?Qe(a().method):null)}),bs(),ks();var ne=et(),Ye=e(ne);{var We=d=>{var N=Ms();t(d,N)},Xe=d=>{var N=W(),Ze=C(N);{var $e=b=>{var B=js(),Z=s(e(B),2),$=e(Z);w(()=>r($,ie())),t(b,B)},es=b=>{var B=W(),Z=C(B);{var $=S=>{var J=Zs(),de=e(J),pe=e(de),ts=e(pe),as=e(ts),os=s(pe,2),ce=e(os),rs=e(ce),ve=s(ce,2),me=s(e(ve)),is=e(me),ue=s(ve,2),ls=e(ue),ns=s(ue,2);{var ds=i=>{var p=Us(),A=e(p);w(M=>r(A,`Completed: ${M??""}`),[()=>le(a().completedAt)],ae),t(i,p)};n(ns,i=>{a().completedAt&&i(ds)})}var ps=s(de,2),cs=e(ps);{var vs=i=>{var p=Ys(),A=C(p);{var M=l=>{var c=Ps(),D=e(c);Rs(D,()=>P(H),(j,y)=>{y(j,{get data(){return m()}})}),t(l,c)};n(A,l=>{P(H)&&l(M)})}var ee=s(A,2);{var f=l=>{var c=Ks(),D=s(e(c),2);{var j=u=>{var _=Gs(),I=e(_),se=s(e(I)),U=s(I,2),te=s(e(U)),Q=s(U,2),Y=s(e(Q));w(()=>{r(se,` ${m().FILE_INFO.type||"Unknown"}`),r(te,` ${m().FILE_INFO.sequences||0}`),r(Y,` ${m().FILE_INFO.sites||0}`)}),t(u,_)};n(D,u=>{m().FILE_INFO&&u(j)})}var y=s(D,2);{var K=u=>{var _=Js(),I=s(C(_),2);Is(I,5,()=>Object.entries(m().FILE_PARTITION_INFO),Cs,(se,U)=>{let te=()=>P(U)[0],Q=()=>P(U)[1];var Y=Hs(),fe=e(Y),us=e(fe),fs=e(us),ge=s(fe,2),gs=s(e(ge)),ys=s(ge,2),_s=s(e(ys));w(()=>{r(fs,`Partition ${te()??""}:`),r(gs,` ${Q().sites||0}`),r(_s,` ${Q().sequences||0}`)}),t(se,Y)}),t(u,_)};n(y,u=>{m().FILE_PARTITION_INFO&&u(K)})}t(l,c)},x=l=>{var c=W(),D=C(c);{var j=y=>{var K=Qs(),u=s(e(K),2),_=e(u);w(I=>r(_,I),[()=>JSON.stringify(m(),null,2)],ae),t(y,K)};n(D,y=>{P(H)||y(j)},!0)}t(l,c)};n(ee,l=>{a().method==="datareader"?l(f):l(x,!1)})}t(i,p)},ms=i=>{var p=W(),A=C(p);{var M=f=>{var x=Ws(),l=s(e(x),2),c=e(l);w(()=>r(c,`Analysis is ${a().status??""}...`)),t(f,x)},ee=f=>{var x=Xs();t(f,x)};n(A,f=>{["pending","running","mounting","processing","saving"].includes(a().status)?f(M):f(ee,!1)},!0)}t(i,p)};n(cs,i=>{a().status==="completed"&&m()?i(vs):i(ms,!1)})}w((i,p)=>{r(as,`${i??""} Analysis`),r(rs,`File: ${re().filename??""}`),Fs(me,`font-semibold capitalize ${(a().status==="completed"?"text-green-600":a().status==="pending"?"text-yellow-600":"text-gray-600")??""} svelte-efv9ow`),r(is,a().status==="completed"?"Completed":a().status),r(ls,`Created: ${p??""}`)},[()=>a().method.toUpperCase(),()=>le(a().createdAt)],ae),t(S,J)},ss=S=>{var J=$s();t(S,J)};n(Z,S=>{a()&&re()?S($):S(ss,!1)},!0)}t(b,B)};n(Ze,b=>{ie()?b($e):b(es,!1)},!0)}t(d,N)};n(Ye,d=>{Ke()?d(We):d(Xe,!1)})}t(X,ne),Ss()}oe.__docgen={version:3,name:"AnalysisResultsDemo.svelte",data:[{name:"analysis",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"{}"},static:!1,readonly:!1,defaultValue:"{}"},{name:"file",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"{}"},static:!1,readonly:!1,defaultValue:"{}"},{name:"resultData",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"{}"},static:!1,readonly:!1,defaultValue:"{}"},{name:"loading",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"error",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"other",text:"null"},static:!1,readonly:!1,defaultValue:"null"}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};const bt={title:"Analysis Results/Results Display",component:oe,argTypes:{analysis:{control:"object"},file:{control:"object"},resultData:{control:"object"},loading:{control:"boolean"},error:{control:"text"}},parameters:{docs:{description:{component:"Comprehensive display component for showing analysis results from various HyPhy methods including FEL, SLAC, MEME, BUSTED, and more. Uses hyphy-scope visualization components for interactive charts, plots, and data displays with fallback to manual table views for unsupported methods."}}}},g={filename:"sequences.fasta",size:1024,type:"fasta"},st={input:{file:"sequences.fasta",tree:"(seq1:0.1,seq2:0.2)",sequences:10,sites:300},fits:[{model:"Global MG94xREV",log_likelihood:-1234.56,parameters:23,AIC:2515.12},{model:"Full adaptive model",log_likelihood:-1220.34,parameters:45,AIC:2530.68}],tested:{sites:[{site_index:1,p:.001,alpha:.5,beta:2.1},{site_index:2,p:.15,alpha:1.2,beta:.8},{site_index:3,p:.03,alpha:2.8,beta:.4},{site_index:4,p:.002,alpha:.3,beta:3.2},{site_index:5,p:.8,alpha:.9,beta:1.1},{site_index:6,p:.025,alpha:.4,beta:2.8}]}},tt={input:{file:"sequences.fasta",sequences:8,sites:250},fits:[{model:"Unconstrained model",log_likelihood:-987.65,parameters:15,AIC:2005.3},{model:"Constrained model",log_likelihood:-995.43,parameters:12,AIC:2014.86}],test_results:{"p-value":.001,"likelihood ratio":15.56,"evidence for selection":"Strong evidence"}},at={FILE_INFO:{type:"FASTA nucleotide alignment",sequences:12,sites:450},FILE_PARTITION_INFO:{1:{sites:300,sequences:12,type:"codon"},2:{sites:150,sequences:12,type:"nucleotide"}}},v=X=>({Component:oe,props:X}),R=v.bind({});R.args={analysis:{method:"FEL",status:"completed",createdAt:new Date(Date.now()-24*60*60*1e3).toISOString(),completedAt:new Date().toISOString()},file:g,resultData:st};R.parameters={docs:{description:{story:"Shows a completed FEL (Fixed Effects Likelihood) analysis using the hyphy-scope FelVisualization component, featuring interactive plots, model fits, and site-specific results with selection pressure indicators."}}};const F=v.bind({});F.args={analysis:{method:"BUSTED",status:"completed",createdAt:new Date(Date.now()-2*60*60*1e3).toISOString(),completedAt:new Date().toISOString()},file:g,resultData:tt};F.parameters={docs:{description:{story:"Shows a completed BUSTED analysis using the hyphy-scope BustedVisualization component with interactive model comparison and test results visualization."}}};const k=v.bind({});k.args={analysis:{method:"datareader",status:"completed",createdAt:new Date(Date.now()-30*60*1e3).toISOString(),completedAt:new Date().toISOString()},file:g,resultData:at};k.parameters={docs:{description:{story:"Shows DataReader results displaying file information and partition details for uploaded sequences."}}};const O=v.bind({});O.args={analysis:{method:"SLAC",status:"completed",createdAt:new Date(Date.now()-3*60*60*1e3).toISOString(),completedAt:new Date().toISOString()},file:g,resultData:{input:{file:"alignment.fasta",sequences:6,sites:200},tested:{sites:[{site_index:1,p:.045,alpha:1.8,beta:.6},{site_index:2,p:.12,alpha:.9,beta:1.1},{site_index:3,p:.003,alpha:.2,beta:4.5},{site_index:4,p:.8,alpha:1,beta:1},{site_index:5,p:.01,alpha:3.2,beta:.1}]}}};O.parameters={docs:{description:{story:"Shows a completed SLAC analysis with site-specific selection results and alpha/beta parameters."}}};const E=v.bind({});E.args={analysis:{method:"MEME",status:"completed",createdAt:new Date(Date.now()-4*60*60*1e3).toISOString(),completedAt:new Date().toISOString()},file:g,resultData:{input:{file:"meme_data.fasta",sequences:15,sites:400},fits:[{model:"General model",log_likelihood:-2345.67,parameters:38,AIC:4767.34}],tested:{sites:[{site_index:1,p:.001,alpha:.1,beta:5.2},{site_index:2,p:.6,alpha:1.1,beta:.9},{site_index:3,p:.02,alpha:.3,beta:8.1}]}}};E.parameters={docs:{description:{story:"Shows a completed MEME analysis detecting episodic positive selection with site results."}}};const L=v.bind({});L.args={analysis:{method:"FUBAR",status:"running",createdAt:new Date(Date.now()-10*60*1e3).toISOString()},file:g,resultData:{}};L.parameters={docs:{description:{story:"Shows an analysis currently running with a loading indicator and status message."}}};const V=v.bind({});V.args={analysis:{method:"aBSREL",status:"pending",createdAt:new Date().toISOString()},file:g,resultData:{}};V.parameters={docs:{description:{story:"Shows an analysis in pending state waiting to be processed."}}};const q=v.bind({});q.args={analysis:{method:"CUSTOM",status:"completed",createdAt:new Date(Date.now()-60*60*1e3).toISOString(),completedAt:new Date().toISOString()},file:g,resultData:{custom_field:"Custom analysis result",parameters:{substitution_model:"HKY85",branch_lengths:"optimized",significance_level:.05},output:{total_sites_tested:156,significant_sites:12,positive_selection_sites:8,negative_selection_sites:4}}};q.parameters={docs:{description:{story:"Shows a generic analysis result that falls back to JSON display for custom or unsupported methods."}}};const z=v.bind({});z.args={loading:!0};z.parameters={docs:{description:{story:"Shows the loading state while analysis data is being fetched from the server."}}};const T=v.bind({});T.args={error:"Analysis not found or could not be loaded from the server"};T.parameters={docs:{description:{story:"Shows error state when analysis data cannot be loaded or is corrupted."}}};var ye,_e,we;R.parameters={...R.parameters,docs:{...(ye=R.parameters)==null?void 0:ye.docs,source:{originalSource:`args => ({
  Component: AnalysisResultsDemo,
  props: args
})`,...(we=(_e=R.parameters)==null?void 0:_e.docs)==null?void 0:we.source}}};var he,be,Se;F.parameters={...F.parameters,docs:{...(he=F.parameters)==null?void 0:he.docs,source:{originalSource:`args => ({
  Component: AnalysisResultsDemo,
  props: args
})`,...(Se=(be=F.parameters)==null?void 0:be.docs)==null?void 0:Se.source}}};var Ae,xe,De;k.parameters={...k.parameters,docs:{...(Ae=k.parameters)==null?void 0:Ae.docs,source:{originalSource:`args => ({
  Component: AnalysisResultsDemo,
  props: args
})`,...(De=(xe=k.parameters)==null?void 0:xe.docs)==null?void 0:De.source}}};var Ie,Ce,Re;O.parameters={...O.parameters,docs:{...(Ie=O.parameters)==null?void 0:Ie.docs,source:{originalSource:`args => ({
  Component: AnalysisResultsDemo,
  props: args
})`,...(Re=(Ce=O.parameters)==null?void 0:Ce.docs)==null?void 0:Re.source}}};var Fe,ke,Oe;E.parameters={...E.parameters,docs:{...(Fe=E.parameters)==null?void 0:Fe.docs,source:{originalSource:`args => ({
  Component: AnalysisResultsDemo,
  props: args
})`,...(Oe=(ke=E.parameters)==null?void 0:ke.docs)==null?void 0:Oe.source}}};var Ee,Le,Ve;L.parameters={...L.parameters,docs:{...(Ee=L.parameters)==null?void 0:Ee.docs,source:{originalSource:`args => ({
  Component: AnalysisResultsDemo,
  props: args
})`,...(Ve=(Le=L.parameters)==null?void 0:Le.docs)==null?void 0:Ve.source}}};var qe,ze,Te;V.parameters={...V.parameters,docs:{...(qe=V.parameters)==null?void 0:qe.docs,source:{originalSource:`args => ({
  Component: AnalysisResultsDemo,
  props: args
})`,...(Te=(ze=V.parameters)==null?void 0:ze.docs)==null?void 0:Te.source}}};var Ne,Be,Me;q.parameters={...q.parameters,docs:{...(Ne=q.parameters)==null?void 0:Ne.docs,source:{originalSource:`args => ({
  Component: AnalysisResultsDemo,
  props: args
})`,...(Me=(Be=q.parameters)==null?void 0:Be.docs)==null?void 0:Me.source}}};var je,Ue,Pe;z.parameters={...z.parameters,docs:{...(je=z.parameters)==null?void 0:je.docs,source:{originalSource:`args => ({
  Component: AnalysisResultsDemo,
  props: args
})`,...(Pe=(Ue=z.parameters)==null?void 0:Ue.docs)==null?void 0:Pe.source}}};var Ge,He,Je;T.parameters={...T.parameters,docs:{...(Ge=T.parameters)==null?void 0:Ge.docs,source:{originalSource:`args => ({
  Component: AnalysisResultsDemo,
  props: args
})`,...(Je=(He=T.parameters)==null?void 0:He.docs)==null?void 0:Je.source}}};const St=["FelAnalysisCompleted","BustedAnalysisCompleted","DataReaderResults","SlacAnalysisCompleted","MemeAnalysisCompleted","AnalysisRunning","AnalysisPending","GenericAnalysisResults","LoadingState","ErrorState"];export{V as AnalysisPending,L as AnalysisRunning,F as BustedAnalysisCompleted,k as DataReaderResults,T as ErrorState,R as FelAnalysisCompleted,q as GenericAnalysisResults,z as LoadingState,E as MemeAnalysisCompleted,O as SlacAnalysisCompleted,St as __namedExportsOrder,bt as default};
