import{U as b,u as k,r as u,V as i,q as t}from"./runtime-CsLX-Eqq.js";import{l as h}from"./store-CEga9lFI.js";import{i as y}from"./props-ucnq1n3h.js";function E(e,r,a=r){var o=b();h(e,"input",l=>{var f=l?e.defaultValue:e.value;if(f=_(e)?d(f):f,a(f),o&&f!==(f=r())){var c=e.selectionStart,s=e.selectionEnd;e.value=f??"",s!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(s,e.value.length))}}),k(r)==null&&e.value&&a(_(e)?d(e.value):e.value),u(()=>{var l=r();_(e)&&l===d(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}const n=new Set;function V(e,r,a,o,l=o){var f=a.getAttribute("type")==="checkbox",c=e;if(r!==null)for(var s of r)c=c[s]??(c[s]=[]);c.push(a),h(a,"change",()=>{var v=a.__value;f&&(v=S(c,v,a.checked)),l(v)},()=>l(f?[]:null)),u(()=>{var v=o();f?(v=v||[],a.checked=v.includes(a.__value)):a.checked=y(a.__value,v)}),i(()=>{var v=c.indexOf(a);v!==-1&&c.splice(v,1)}),n.has(c)||(n.add(c),t(()=>{c.sort((v,m)=>v.compareDocumentPosition(m)===4?-1:1),n.delete(c)})),t(()=>{})}function B(e,r,a=r){h(e,"change",o=>{var l=o?e.defaultChecked:e.checked;a(l)}),k(r)==null&&a(e.checked),u(()=>{var o=r();e.checked=!!o})}function S(e,r,a){for(var o=new Set,l=0;l<e.length;l+=1)e[l].checked&&o.add(e[l].__value);return a||o.delete(r),Array.from(o)}function _(e){var r=e.type;return r==="number"||r==="range"}function d(e){return e===""?null:+e}export{B as a,E as b,V as c};
