/* empty css            */import{h as de,a as d,t as v}from"./template-Bf37FghY.js";import{p as pe,O as x,P as me,f as ue,a as ve,n as e,Q as A,s as p,T as S,V as n,R as $}from"./runtime-D_5eIJdB.js";import{i as u,s as O}from"./if-qkq15gDy.js";import{i as ge,s as he,e as ye,a as fe}from"./store-DSaKCGfv.js";import{b as we}from"./analyses-DAMY3FoY.js";import{w as be}from"./index-BzKHlfNo.js";async function _e(...t){const T=new CustomEvent("storybook:goto",{detail:t});window.dispatchEvent(T)}var xe=v('<div class="flex items-center svelte-1h0lz1g"><span class="inline-flex items-center justify-center text-sm svelte-1h0lz1g"><span class="pulse-animation mr-1 h-2 w-2 rounded-full bg-blue-500 svelte-1h0lz1g"></span> <span class="font-medium text-blue-600 svelte-1h0lz1g"> </span></span></div>'),Ae=v('<span class="mx-1.5 text-gray-300 svelte-1h0lz1g">•</span>'),Se=v('<div class="flex items-center svelte-1h0lz1g"><!> <span class="inline-flex items-center justify-center text-sm svelte-1h0lz1g"><span class="mr-1 text-green-500 svelte-1h0lz1g">✓</span> <span class="font-medium text-green-600 svelte-1h0lz1g"> </span></span></div>'),ze=v('<span class="mx-1.5 text-gray-300 svelte-1h0lz1g">•</span>'),ke=v('<div class="flex items-center svelte-1h0lz1g"><!> <span class="inline-flex items-center justify-center text-sm svelte-1h0lz1g"><span class="mr-1 text-red-500 svelte-1h0lz1g">⚠</span> <span class="font-medium text-red-600 svelte-1h0lz1g"> </span></span></div>'),Te=v('<button class="flex items-center space-x-2 rounded-full border border-gray-200 bg-white px-3 py-1.5 shadow-sm transition-shadow duration-200 hover:shadow-md svelte-1h0lz1g" aria-label="View all analyses"><!> <!> <!></button>');function R(t,T){pe(T,!1);const[se,te]=he(),r=()=>fe(we,"$activeAnalyses",se),i=A(),m=A(),g=A(),j=A();function ae(){_e("/?tab=results")}const E=new Date;E.setHours(0,0,0,0),x(()=>r(),()=>{S(i,r()?r().filter(s=>s.status!=="completed"&&s.status!=="error"&&s.method!=="datareader").length:0)}),x(()=>r(),()=>{S(m,r()?r().filter(s=>s.status==="completed"&&s.completedAt&&new Date(s.completedAt)>=E&&s.method!=="datareader").length:0)}),x(()=>r(),()=>{S(g,r()?r().filter(s=>s.status==="error"&&s.method!=="datareader").length:0)}),x(()=>(e(i),e(m),e(g)),()=>{S(j,e(i)>0||e(m)>0||e(g)>0)}),me(),ge();var G=de(),ne=ue(G);{var re=s=>{var D=Te(),N=n(D);{var oe=a=>{var o=xe(),l=n(o),h=p(n(l),2),y=n(h);$(()=>O(y,e(i))),d(a,o)};u(N,a=>{e(i)>0&&a(oe)})}var F=p(N,2);{var ie=a=>{var o=Se(),l=n(o);{var h=c=>{var C=Ae();d(c,C)};u(l,c=>{e(i)>0&&c(h)})}var y=p(l,2),I=p(n(y),2),M=n(I);$(()=>O(M,e(m))),d(a,o)};u(F,a=>{e(m)>0&&a(ie)})}var le=p(F,2);{var ce=a=>{var o=ke(),l=n(o);{var h=c=>{var C=ze();d(c,C)};u(l,c=>{(e(i)>0||e(m)>0)&&c(h)})}var y=p(l,2),I=p(n(y),2),M=n(I);$(()=>O(M,e(g))),d(a,o)};u(le,a=>{e(g)>0&&a(ce)})}ye("click",D,ae),d(s,D)};u(ne,s=>{e(j)&&s(re)})}d(t,G),ve(),te()}R.__docgen={version:3,name:"AnalysisStatusIndicator.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};const z=t=>({subscribe:be(t).subscribe}),Y=[{id:"1",status:"running",startTime:new Date().toISOString()},{id:"2",status:"mounting",startTime:new Date().toISOString()}],Z=[{id:"3",status:"completed",completedAt:new Date().getTime()},{id:"4",status:"completed",completedAt:new Date().getTime()}],ee=[{id:"5",status:"error",completedAt:new Date().getTime()}],De=[...Y,...Z,...ee],Ee={title:"Analysis/StatusIndicator",component:R,parameters:{docs:{description:{component:`
          ## Analysis Status Indicator
          
          A streamlined status indicator that displays in the navigation bar, showing:
          - Number of running analyses with a blue dot (⚡)
          - Number of completed analyses today with a green checkmark (✓)
          - Number of failed analyses with a warning symbol (⚠)
          
          This component follows Dieter Rams design principles:
          - Good Design Is Unobtrusive: Simple counter that doesn't distract
          - Good Design Is Honest: Shows exactly what's happening without decoration
          - Good Design Is As Little Design As Possible: Minimal UI with only essential information
        `}}},argTypes:{}},k=t=>({Component:R,props:t}),f=t=>(window.activeAnalyses=z(Y),k.bind({})());f.parameters={docs:{description:{story:"Shows only running analyses with a blue pulsing dot."}}};const w=t=>(window.activeAnalyses=z(Z),k.bind({})());w.parameters={docs:{description:{story:"Shows only completed analyses with a green checkmark."}}};const b=t=>(window.activeAnalyses=z(ee),k.bind({})());b.parameters={docs:{description:{story:"Shows only failed analyses with a warning symbol."}}};const _=t=>(window.activeAnalyses=z(De),k.bind({})());_.parameters={docs:{description:{story:"Shows all types of analyses with their respective indicators."}}};var H,P,U;f.parameters={...f.parameters,docs:{...(H=f.parameters)==null?void 0:H.docs,source:{originalSource:`args => {
  // Override the store with our mock for this story
  window.activeAnalyses = createMockStore(runningAnalyses);
  return Template.bind({})();
}`,...(U=(P=f.parameters)==null?void 0:P.docs)==null?void 0:U.source}}};var V,L,Q;w.parameters={...w.parameters,docs:{...(V=w.parameters)==null?void 0:V.docs,source:{originalSource:`args => {
  window.activeAnalyses = createMockStore(completedAnalyses);
  return Template.bind({})();
}`,...(Q=(L=w.parameters)==null?void 0:L.docs)==null?void 0:Q.source}}};var q,B,J;b.parameters={...b.parameters,docs:{...(q=b.parameters)==null?void 0:q.docs,source:{originalSource:`args => {
  window.activeAnalyses = createMockStore(failedAnalyses);
  return Template.bind({})();
}`,...(J=(B=b.parameters)==null?void 0:B.docs)==null?void 0:J.source}}};var K,W,X;_.parameters={..._.parameters,docs:{...(K=_.parameters)==null?void 0:K.docs,source:{originalSource:`args => {
  window.activeAnalyses = createMockStore(mixedAnalyses);
  return Template.bind({})();
}`,...(X=(W=_.parameters)==null?void 0:W.docs)==null?void 0:X.source}}};const Ge=["Running","Completed","Failed","Mixed"];export{w as Completed,b as Failed,_ as Mixed,f as Running,Ge as __namedExportsOrder,Ee as default};
