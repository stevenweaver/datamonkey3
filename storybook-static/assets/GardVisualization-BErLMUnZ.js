import{a as bt,t as xt,b as Fa,c as xb}from"./template-CIKGjA4E.js";import{C as IE,i as OE,as as RE,p as $i,g as v,ad as Ge,s as ut,l as Yt,h as Oe,a as Ai,b as ki,m as gt,c as N,f as Qn,e as D,t as Ft,ac as Zr,d as Nn,at as wf,au as Ba}from"./runtime-CsLX-Eqq.js";import{i as Ht,s as Mt}from"./if-BJwBTplU.js";import{e as Pe,i as Ie}from"./each--pBB4YgF.js";import{h as Fw}from"./html-ynStkv79.js";import{s as un,a as zE}from"./attributes-DOIZIB14.js";import{t as mi,s as Sl}from"./class-BhzPnwhT.js";import{i as Ei,e as Ee}from"./store-CEga9lFI.js";import{a as Lo,c as Bw,b as aa}from"./input-e_bUZ-Vg.js";import{b as Qr}from"./select-BSQ0X8Fl.js";import{b as nn}from"./this-BvMMnuCv.js";import{p as Ye}from"./props-ucnq1n3h.js";import{c as FE,o as Ci,a as BE}from"./index-client-C32oe8zx.js";function DE(t){var e;e=document.head.appendChild(IE());try{OE(()=>t(e),RE)}finally{}}var Dw=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,UE=typeof self=="object"&&self&&self.Object===Object&&self,Ni=Dw||UE||Function("return this")(),xi=Ni.Symbol,Uw=Object.prototype,WE=Uw.hasOwnProperty,qE=Uw.toString,Ml=xi?xi.toStringTag:void 0;function HE(t){var e=WE.call(t,Ml),n=t[Ml];try{t[Ml]=void 0;var r=!0}catch{}var i=qE.call(t);return r&&(e?t[Ml]=n:delete t[Ml]),i}var VE=Object.prototype,YE=VE.toString;function GE(t){return YE.call(t)}var XE="[object Null]",KE="[object Undefined]",Sb=xi?xi.toStringTag:void 0;function Jo(t){return t==null?t===void 0?KE:XE:Sb&&Sb in Object(t)?HE(t):GE(t)}function Da(t){return t!=null&&typeof t=="object"}var jE="[object Symbol]";function ph(t){return typeof t=="symbol"||Da(t)&&Jo(t)==jE}function Qg(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var rr=Array.isArray,Mb=xi?xi.prototype:void 0,Tb=Mb?Mb.toString:void 0;function Ww(t){if(typeof t=="string")return t;if(rr(t))return Qg(t,Ww)+"";if(ph(t))return Tb?Tb.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var ZE=/\s/;function QE(t){for(var e=t.length;e--&&ZE.test(t.charAt(e)););return e}var JE=/^\s+/;function tC(t){return t&&t.slice(0,QE(t)+1).replace(JE,"")}function Ua(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var $b=NaN,eC=/^[-+]0x[0-9a-f]+$/i,nC=/^0b[01]+$/i,rC=/^0o[0-7]+$/i,iC=parseInt;function aC(t){if(typeof t=="number")return t;if(ph(t))return $b;if(Ua(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ua(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=tC(t);var n=nC.test(t);return n||rC.test(t)?iC(t.slice(2),n?2:8):eC.test(t)?$b:+t}var sC=1/0,oC=17976931348623157e292;function lC(t){if(!t)return t===0?t:0;if(t=aC(t),t===sC||t===-1/0){var e=t<0?-1:1;return e*oC}return t===t?t:0}function uC(t){var e=lC(t),n=e%1;return e===e?n?e-n:e:0}function Jg(t){return t}var cC="[object AsyncFunction]",fC="[object Function]",hC="[object GeneratorFunction]",dC="[object Proxy]";function qw(t){if(!Ua(t))return!1;var e=Jo(t);return e==fC||e==hC||e==cC||e==dC}var Ap=Ni["__core-js_shared__"],Ab=function(){var t=/[^.]+$/.exec(Ap&&Ap.keys&&Ap.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function pC(t){return!!Ab&&Ab in t}var gC=Function.prototype,vC=gC.toString;function Rs(t){if(t!=null){try{return vC.call(t)}catch{}try{return t+""}catch{}}return""}var mC=/[\\^$.*+?()[\]{}|]/g,yC=/^\[object .+?Constructor\]$/,bC=Function.prototype,_C=Object.prototype,wC=bC.toString,xC=_C.hasOwnProperty,SC=RegExp("^"+wC.call(xC).replace(mC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function MC(t){if(!Ua(t)||pC(t))return!1;var e=qw(t)?SC:yC;return e.test(Rs(t))}function TC(t,e){return t==null?void 0:t[e]}function zs(t,e){var n=TC(t,e);return MC(n)?n:void 0}var T0=zs(Ni,"WeakMap"),kb=Object.create,$C=function(){function t(){}return function(e){if(!Ua(e))return{};if(kb)return kb(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function AC(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Eb=function(){try{var t=zs(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Hw(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function kC(t,e,n,r){for(var i=t.length,a=n+-1;++a<i;)if(e(t[a],a,t))return a;return-1}var EC=9007199254740991,CC=/^(?:0|[1-9]\d*)$/;function Vw(t,e){var n=typeof t;return e=e??EC,!!e&&(n=="number"||n!="symbol"&&CC.test(t))&&t>-1&&t%1==0&&t<e}function Yw(t,e,n){e=="__proto__"&&Eb?Eb(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function tv(t,e){return t===e||t!==t&&e!==e}var NC=Object.prototype,PC=NC.hasOwnProperty;function Gw(t,e,n){var r=t[e];(!(PC.call(t,e)&&tv(r,n))||n===void 0&&!(e in t))&&Yw(t,e,n)}function gh(t,e,n,r){var i=!n;n||(n={});for(var a=-1,o=e.length;++a<o;){var u=e[a],c=void 0;c===void 0&&(c=t[u]),i?Yw(n,u,c):Gw(n,u,c)}return n}var LC=9007199254740991;function ev(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=LC}function wu(t){return t!=null&&ev(t.length)&&!qw(t)}var IC=Object.prototype;function nv(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||IC;return t===n}function OC(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var RC="[object Arguments]";function Cb(t){return Da(t)&&Jo(t)==RC}var Xw=Object.prototype,zC=Xw.hasOwnProperty,FC=Xw.propertyIsEnumerable,Kw=Cb(function(){return arguments}())?Cb:function(t){return Da(t)&&zC.call(t,"callee")&&!FC.call(t,"callee")};function BC(){return!1}var jw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Nb=jw&&typeof module=="object"&&module&&!module.nodeType&&module,DC=Nb&&Nb.exports===jw,Pb=DC?Ni.Buffer:void 0,UC=Pb?Pb.isBuffer:void 0,xf=UC||BC,WC="[object Arguments]",qC="[object Array]",HC="[object Boolean]",VC="[object Date]",YC="[object Error]",GC="[object Function]",XC="[object Map]",KC="[object Number]",jC="[object Object]",ZC="[object RegExp]",QC="[object Set]",JC="[object String]",tN="[object WeakMap]",eN="[object ArrayBuffer]",nN="[object DataView]",rN="[object Float32Array]",iN="[object Float64Array]",aN="[object Int8Array]",sN="[object Int16Array]",oN="[object Int32Array]",lN="[object Uint8Array]",uN="[object Uint8ClampedArray]",cN="[object Uint16Array]",fN="[object Uint32Array]",We={};We[rN]=We[iN]=We[aN]=We[sN]=We[oN]=We[lN]=We[uN]=We[cN]=We[fN]=!0;We[WC]=We[qC]=We[eN]=We[HC]=We[nN]=We[VC]=We[YC]=We[GC]=We[XC]=We[KC]=We[jC]=We[ZC]=We[QC]=We[JC]=We[tN]=!1;function hN(t){return Da(t)&&ev(t.length)&&!!We[Jo(t)]}function rv(t){return function(e){return t(e)}}var Zw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ql=Zw&&typeof module=="object"&&module&&!module.nodeType&&module,dN=ql&&ql.exports===Zw,kp=dN&&Dw.process,Io=function(){try{var t=ql&&ql.require&&ql.require("util").types;return t||kp&&kp.binding&&kp.binding("util")}catch{}}(),Lb=Io&&Io.isTypedArray,Qw=Lb?rv(Lb):hN,pN=Object.prototype,gN=pN.hasOwnProperty;function Jw(t,e){var n=rr(t),r=!n&&Kw(t),i=!n&&!r&&xf(t),a=!n&&!r&&!i&&Qw(t),o=n||r||i||a,u=o?OC(t.length,String):[],c=u.length;for(var f in t)(e||gN.call(t,f))&&!(o&&(f=="length"||i&&(f=="offset"||f=="parent")||a&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||Vw(f,c)))&&u.push(f);return u}function tx(t,e){return function(n){return t(e(n))}}var vN=tx(Object.keys,Object),mN=Object.prototype,yN=mN.hasOwnProperty;function bN(t){if(!nv(t))return vN(t);var e=[];for(var n in Object(t))yN.call(t,n)&&n!="constructor"&&e.push(n);return e}function Fs(t){return wu(t)?Jw(t):bN(t)}function _N(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var wN=Object.prototype,xN=wN.hasOwnProperty;function SN(t){if(!Ua(t))return _N(t);var e=nv(t),n=[];for(var r in t)r=="constructor"&&(e||!xN.call(t,r))||n.push(r);return n}function iv(t){return wu(t)?Jw(t,!0):SN(t)}var MN=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,TN=/^\w*$/;function av(t,e){if(rr(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||ph(t)?!0:TN.test(t)||!MN.test(t)||e!=null&&t in Object(e)}var Kl=zs(Object,"create");function $N(){this.__data__=Kl?Kl(null):{},this.size=0}function AN(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var kN="__lodash_hash_undefined__",EN=Object.prototype,CN=EN.hasOwnProperty;function NN(t){var e=this.__data__;if(Kl){var n=e[t];return n===kN?void 0:n}return CN.call(e,t)?e[t]:void 0}var PN=Object.prototype,LN=PN.hasOwnProperty;function IN(t){var e=this.__data__;return Kl?e[t]!==void 0:LN.call(e,t)}var ON="__lodash_hash_undefined__";function RN(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Kl&&e===void 0?ON:e,this}function Ms(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ms.prototype.clear=$N;Ms.prototype.delete=AN;Ms.prototype.get=NN;Ms.prototype.has=IN;Ms.prototype.set=RN;function zN(){this.__data__=[],this.size=0}function vh(t,e){for(var n=t.length;n--;)if(tv(t[n][0],e))return n;return-1}var FN=Array.prototype,BN=FN.splice;function DN(t){var e=this.__data__,n=vh(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():BN.call(e,n,1),--this.size,!0}function UN(t){var e=this.__data__,n=vh(e,t);return n<0?void 0:e[n][1]}function WN(t){return vh(this.__data__,t)>-1}function qN(t,e){var n=this.__data__,r=vh(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function da(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}da.prototype.clear=zN;da.prototype.delete=DN;da.prototype.get=UN;da.prototype.has=WN;da.prototype.set=qN;var jl=zs(Ni,"Map");function HN(){this.size=0,this.__data__={hash:new Ms,map:new(jl||da),string:new Ms}}function VN(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function mh(t,e){var n=t.__data__;return VN(e)?n[typeof e=="string"?"string":"hash"]:n.map}function YN(t){var e=mh(this,t).delete(t);return this.size-=e?1:0,e}function GN(t){return mh(this,t).get(t)}function XN(t){return mh(this,t).has(t)}function KN(t,e){var n=mh(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function pa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pa.prototype.clear=HN;pa.prototype.delete=YN;pa.prototype.get=GN;pa.prototype.has=XN;pa.prototype.set=KN;var jN="Expected a function";function sv(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(jN);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(sv.Cache||pa),n}sv.Cache=pa;var ZN=500;function QN(t){var e=sv(t,function(r){return n.size===ZN&&n.clear(),r}),n=e.cache;return e}var JN=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tP=/\\(\\)?/g,eP=QN(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(JN,function(n,r,i,a){e.push(i?a.replace(tP,"$1"):r||n)}),e});function nP(t){return t==null?"":Ww(t)}function ex(t,e){return rr(t)?t:av(t,e)?[t]:eP(nP(t))}function yh(t){if(typeof t=="string"||ph(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function nx(t,e){e=ex(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[yh(e[n++])];return n&&n==r?t:void 0}function Il(t,e,n){var r=t==null?void 0:nx(t,e);return r===void 0?n:r}function rx(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var ix=tx(Object.getPrototypeOf,Object);function rP(){this.__data__=new da,this.size=0}function iP(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function aP(t){return this.__data__.get(t)}function sP(t){return this.__data__.has(t)}var oP=200;function lP(t,e){var n=this.__data__;if(n instanceof da){var r=n.__data__;if(!jl||r.length<oP-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new pa(r)}return n.set(t,e),this.size=n.size,this}function yi(t){var e=this.__data__=new da(t);this.size=e.size}yi.prototype.clear=rP;yi.prototype.delete=iP;yi.prototype.get=aP;yi.prototype.has=sP;yi.prototype.set=lP;function uP(t,e){return t&&gh(e,Fs(e),t)}function cP(t,e){return t&&gh(e,iv(e),t)}var ax=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ib=ax&&typeof module=="object"&&module&&!module.nodeType&&module,fP=Ib&&Ib.exports===ax,Ob=fP?Ni.Buffer:void 0,Rb=Ob?Ob.allocUnsafe:void 0;function hP(t,e){if(e)return t.slice();var n=t.length,r=Rb?Rb(n):new t.constructor(n);return t.copy(r),r}function sx(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}function ox(){return[]}var dP=Object.prototype,pP=dP.propertyIsEnumerable,zb=Object.getOwnPropertySymbols,ov=zb?function(t){return t==null?[]:(t=Object(t),sx(zb(t),function(e){return pP.call(t,e)}))}:ox;function gP(t,e){return gh(t,ov(t),e)}var vP=Object.getOwnPropertySymbols,lx=vP?function(t){for(var e=[];t;)rx(e,ov(t)),t=ix(t);return e}:ox;function mP(t,e){return gh(t,lx(t),e)}function ux(t,e,n){var r=e(t);return rr(t)?r:rx(r,n(t))}function $0(t){return ux(t,Fs,ov)}function yP(t){return ux(t,iv,lx)}var A0=zs(Ni,"DataView"),k0=zs(Ni,"Promise"),E0=zs(Ni,"Set"),Fb="[object Map]",bP="[object Object]",Bb="[object Promise]",Db="[object Set]",Ub="[object WeakMap]",Wb="[object DataView]",_P=Rs(A0),wP=Rs(jl),xP=Rs(k0),SP=Rs(E0),MP=Rs(T0),Gr=Jo;(A0&&Gr(new A0(new ArrayBuffer(1)))!=Wb||jl&&Gr(new jl)!=Fb||k0&&Gr(k0.resolve())!=Bb||E0&&Gr(new E0)!=Db||T0&&Gr(new T0)!=Ub)&&(Gr=function(t){var e=Jo(t),n=e==bP?t.constructor:void 0,r=n?Rs(n):"";if(r)switch(r){case _P:return Wb;case wP:return Fb;case xP:return Bb;case SP:return Db;case MP:return Ub}return e});var TP=Object.prototype,$P=TP.hasOwnProperty;function AP(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&$P.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Sf=Ni.Uint8Array;function lv(t){var e=new t.constructor(t.byteLength);return new Sf(e).set(new Sf(t)),e}function kP(t,e){var n=e?lv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var EP=/\w*$/;function CP(t){var e=new t.constructor(t.source,EP.exec(t));return e.lastIndex=t.lastIndex,e}var qb=xi?xi.prototype:void 0,Hb=qb?qb.valueOf:void 0;function NP(t){return Hb?Object(Hb.call(t)):{}}function PP(t,e){var n=e?lv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var LP="[object Boolean]",IP="[object Date]",OP="[object Map]",RP="[object Number]",zP="[object RegExp]",FP="[object Set]",BP="[object String]",DP="[object Symbol]",UP="[object ArrayBuffer]",WP="[object DataView]",qP="[object Float32Array]",HP="[object Float64Array]",VP="[object Int8Array]",YP="[object Int16Array]",GP="[object Int32Array]",XP="[object Uint8Array]",KP="[object Uint8ClampedArray]",jP="[object Uint16Array]",ZP="[object Uint32Array]";function QP(t,e,n){var r=t.constructor;switch(e){case UP:return lv(t);case LP:case IP:return new r(+t);case WP:return kP(t,n);case qP:case HP:case VP:case YP:case GP:case XP:case KP:case jP:case ZP:return PP(t,n);case OP:return new r;case RP:case BP:return new r(t);case zP:return CP(t);case FP:return new r;case DP:return NP(t)}}function JP(t){return typeof t.constructor=="function"&&!nv(t)?$C(ix(t)):{}}var tL="[object Map]";function eL(t){return Da(t)&&Gr(t)==tL}var Vb=Io&&Io.isMap,nL=Vb?rv(Vb):eL,rL="[object Set]";function iL(t){return Da(t)&&Gr(t)==rL}var Yb=Io&&Io.isSet,aL=Yb?rv(Yb):iL,sL=1,oL=2,lL=4,cx="[object Arguments]",uL="[object Array]",cL="[object Boolean]",fL="[object Date]",hL="[object Error]",fx="[object Function]",dL="[object GeneratorFunction]",pL="[object Map]",gL="[object Number]",hx="[object Object]",vL="[object RegExp]",mL="[object Set]",yL="[object String]",bL="[object Symbol]",_L="[object WeakMap]",wL="[object ArrayBuffer]",xL="[object DataView]",SL="[object Float32Array]",ML="[object Float64Array]",TL="[object Int8Array]",$L="[object Int16Array]",AL="[object Int32Array]",kL="[object Uint8Array]",EL="[object Uint8ClampedArray]",CL="[object Uint16Array]",NL="[object Uint32Array]",De={};De[cx]=De[uL]=De[wL]=De[xL]=De[cL]=De[fL]=De[SL]=De[ML]=De[TL]=De[$L]=De[AL]=De[pL]=De[gL]=De[hx]=De[vL]=De[mL]=De[yL]=De[bL]=De[kL]=De[EL]=De[CL]=De[NL]=!0;De[hL]=De[fx]=De[_L]=!1;function uf(t,e,n,r,i,a){var o,u=e&sL,c=e&oL,f=e&lL;if(o!==void 0)return o;if(!Ua(t))return t;var d=rr(t);if(d){if(o=AP(t),!u)return AC(t,o)}else{var p=Gr(t),g=p==fx||p==dL;if(xf(t))return hP(t,u);if(p==hx||p==cx||g&&!i){if(o=c||g?{}:JP(t),!u)return c?mP(t,cP(o,t)):gP(t,uP(o,t))}else{if(!De[p])return i?t:{};o=QP(t,p,u)}}a||(a=new yi);var y=a.get(t);if(y)return y;a.set(t,o),aL(t)?t.forEach(function(w){o.add(uf(w,e,n,w,t,a))}):nL(t)&&t.forEach(function(w,x){o.set(x,uf(w,e,n,x,t,a))});var _=f?c?yP:$0:c?iv:Fs,b=d?void 0:_(t);return Hw(b||t,function(w,x){b&&(x=w,w=t[x]),Gw(o,x,uf(w,e,n,x,t,a))}),o}var PL=4;function LL(t){return uf(t,PL)}var IL="__lodash_hash_undefined__";function OL(t){return this.__data__.set(t,IL),this}function RL(t){return this.__data__.has(t)}function Mf(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new pa;++e<n;)this.add(t[e])}Mf.prototype.add=Mf.prototype.push=OL;Mf.prototype.has=RL;function zL(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function FL(t,e){return t.has(e)}var BL=1,DL=2;function dx(t,e,n,r,i,a){var o=n&BL,u=t.length,c=e.length;if(u!=c&&!(o&&c>u))return!1;var f=a.get(t),d=a.get(e);if(f&&d)return f==e&&d==t;var p=-1,g=!0,y=n&DL?new Mf:void 0;for(a.set(t,e),a.set(e,t);++p<u;){var _=t[p],b=e[p];if(r)var w=o?r(b,_,p,e,t,a):r(_,b,p,t,e,a);if(w!==void 0){if(w)continue;g=!1;break}if(y){if(!zL(e,function(x,M){if(!FL(y,M)&&(_===x||i(_,x,n,r,a)))return y.push(M)})){g=!1;break}}else if(!(_===b||i(_,b,n,r,a))){g=!1;break}}return a.delete(t),a.delete(e),g}function UL(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function WL(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var qL=1,HL=2,VL="[object Boolean]",YL="[object Date]",GL="[object Error]",XL="[object Map]",KL="[object Number]",jL="[object RegExp]",ZL="[object Set]",QL="[object String]",JL="[object Symbol]",tI="[object ArrayBuffer]",eI="[object DataView]",Gb=xi?xi.prototype:void 0,Ep=Gb?Gb.valueOf:void 0;function nI(t,e,n,r,i,a,o){switch(n){case eI:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case tI:return!(t.byteLength!=e.byteLength||!a(new Sf(t),new Sf(e)));case VL:case YL:case KL:return tv(+t,+e);case GL:return t.name==e.name&&t.message==e.message;case jL:case QL:return t==e+"";case XL:var u=UL;case ZL:var c=r&qL;if(u||(u=WL),t.size!=e.size&&!c)return!1;var f=o.get(t);if(f)return f==e;r|=HL,o.set(t,e);var d=dx(u(t),u(e),r,i,a,o);return o.delete(t),d;case JL:if(Ep)return Ep.call(t)==Ep.call(e)}return!1}var rI=1,iI=Object.prototype,aI=iI.hasOwnProperty;function sI(t,e,n,r,i,a){var o=n&rI,u=$0(t),c=u.length,f=$0(e),d=f.length;if(c!=d&&!o)return!1;for(var p=c;p--;){var g=u[p];if(!(o?g in e:aI.call(e,g)))return!1}var y=a.get(t),_=a.get(e);if(y&&_)return y==e&&_==t;var b=!0;a.set(t,e),a.set(e,t);for(var w=o;++p<c;){g=u[p];var x=t[g],M=e[g];if(r)var A=o?r(M,x,g,e,t,a):r(x,M,g,t,e,a);if(!(A===void 0?x===M||i(x,M,n,r,a):A)){b=!1;break}w||(w=g=="constructor")}if(b&&!w){var $=t.constructor,P=e.constructor;$!=P&&"constructor"in t&&"constructor"in e&&!(typeof $=="function"&&$ instanceof $&&typeof P=="function"&&P instanceof P)&&(b=!1)}return a.delete(t),a.delete(e),b}var oI=1,Xb="[object Arguments]",Kb="[object Array]",Bc="[object Object]",lI=Object.prototype,jb=lI.hasOwnProperty;function uI(t,e,n,r,i,a){var o=rr(t),u=rr(e),c=o?Kb:Gr(t),f=u?Kb:Gr(e);c=c==Xb?Bc:c,f=f==Xb?Bc:f;var d=c==Bc,p=f==Bc,g=c==f;if(g&&xf(t)){if(!xf(e))return!1;o=!0,d=!1}if(g&&!d)return a||(a=new yi),o||Qw(t)?dx(t,e,n,r,i,a):nI(t,e,c,n,r,i,a);if(!(n&oI)){var y=d&&jb.call(t,"__wrapped__"),_=p&&jb.call(e,"__wrapped__");if(y||_){var b=y?t.value():t,w=_?e.value():e;return a||(a=new yi),i(b,w,n,r,a)}}return g?(a||(a=new yi),sI(t,e,n,r,i,a)):!1}function uv(t,e,n,r,i){return t===e?!0:t==null||e==null||!Da(t)&&!Da(e)?t!==t&&e!==e:uI(t,e,n,r,uv,i)}var cI=1,fI=2;function hI(t,e,n,r){var i=n.length,a=i;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var u=o[0],c=t[u],f=o[1];if(o[2]){if(c===void 0&&!(u in t))return!1}else{var d=new yi,p;if(!(p===void 0?uv(f,c,cI|fI,r,d):p))return!1}}return!0}function px(t){return t===t&&!Ua(t)}function dI(t){for(var e=Fs(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,px(i)]}return e}function gx(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function pI(t){var e=dI(t);return e.length==1&&e[0][2]?gx(e[0][0],e[0][1]):function(n){return n===t||hI(n,t,e)}}function gI(t,e){return t!=null&&e in Object(t)}function vI(t,e,n){e=ex(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=yh(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&ev(i)&&Vw(o,i)&&(rr(t)||Kw(t)))}function mI(t,e){return t!=null&&vI(t,e,gI)}var yI=1,bI=2;function _I(t,e){return av(t)&&px(e)?gx(yh(t),e):function(n){var r=Il(n,t);return r===void 0&&r===e?mI(n,t):uv(e,r,yI|bI)}}function wI(t){return function(e){return e==null?void 0:e[t]}}function xI(t){return function(e){return nx(e,t)}}function SI(t){return av(t)?wI(yh(t)):xI(t)}function bh(t){return typeof t=="function"?t:t==null?Jg:typeof t=="object"?rr(t)?_I(t[0],t[1]):pI(t):SI(t)}function MI(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),u=o.length;u--;){var c=o[++i];if(n(a[c],c,a)===!1)break}return e}}var TI=MI();function $I(t,e){return t&&TI(t,e,Fs)}function AI(t,e){return function(n,r){if(n==null)return n;if(!wu(n))return t(n,r);for(var i=n.length,a=-1,o=Object(n);++a<i&&r(o[a],a,o)!==!1;);return n}}var cv=AI($I);function kI(t){return typeof t=="function"?t:Jg}function Oa(t,e){var n=rr(t)?Hw:cv;return n(t,kI(e))}function EI(t,e){var n=[];return cv(t,function(r,i,a){e(r,i,a)&&n.push(r)}),n}function Zb(t,e){var n=rr(t)?sx:EI;return n(t,bh(e))}function CI(t){return function(e,n,r){var i=Object(e);if(!wu(e)){var a=bh(n);e=Fs(e),n=function(u){return a(i[u],u,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var NI=Math.max;function PI(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:uC(n);return i<0&&(i=NI(r+i,0)),kC(t,bh(e),i)}var LI=CI(PI);function II(t,e){var n=-1,r=wu(t)?Array(t.length):[];return cv(t,function(i,a,o){r[++n]=e(i,a,o)}),r}function OI(t,e){var n=rr(t)?Qg:II;return n(t,bh(e))}function RI(t,e){return Qg(e,function(n){return t[n]})}function zI(t){return t==null?[]:RI(t,Fs(t))}function FI(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==void 0&&(n=n===void 0?a:n+a)}return n}var BI=NaN;function DI(t,e){var n=t==null?0:t.length;return n?FI(t,e)/n:BI}function Hl(t){return DI(t,Jg)}var UI=Math.floor,WI=Math.random;function qI(t,e){return t+UI(WI()*(e-t+1))}function vx(t){var e=t.length;return e?t[qI(0,e-1)]:void 0}function HI(t){return vx(zI(t))}function VI(t){var e=rr(t)?vx:HI;return e(t)}function nr(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xu(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _h(t){let e,n,r;t.length!==2?(e=nr,n=(u,c)=>nr(t(u),c),r=(u,c)=>t(u)-c):(e=t===nr||t===xu?t:YI,n=t,r=t);function i(u,c,f=0,d=u.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;n(u[p],c)<0?f=p+1:d=p}while(f<d)}return f}function a(u,c,f=0,d=u.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;n(u[p],c)<=0?f=p+1:d=p}while(f<d)}return f}function o(u,c,f=0,d=u.length){const p=i(u,c,f,d-1);return p>f&&r(u[p-1],c)>-r(u[p],c)?p-1:p}return{left:i,center:o,right:a}}function YI(){return 0}function mx(t){return t===null?NaN:+t}function*GI(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const XI=_h(nr),wh=XI.right;_h(mx).center;function fv(t,e){let n=0;for(let r of t)r!=null&&(r=+r)>=r&&++n;return n}function KI(t){return t.length|0}function jI(t){return!(t>0)}function ZI(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function QI(t){return e=>t(...e)}function JI(...t){const e=typeof t[t.length-1]=="function"&&QI(t.pop());t=t.map(ZI);const n=t.map(KI),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(jI))return a;for(;;){a.push(i.map((u,c)=>t[c][u]));let o=r;for(;++i[o]===n[o];){if(o===0)return e?a.map(e):a;i[o--]=0}}}function tO(t,e){var n=0;return Float64Array.from(t,r=>n+=+r||0)}function yx(t,e){let n=0,r,i=0,a=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let u of t)(u=e(u,++o,t))!=null&&(u=+u)>=u&&(r=u-i,i+=r/++n,a+=r*(u-i))}if(n>1)return a/(n-1)}function bx(t,e){const n=yx(t,e);return n&&Math.sqrt(n)}function Jn(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Ts{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=e+a,u=Math.abs(e)<Math.abs(a)?e-(o-a):a-(o-e);u&&(n[r++]=u),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,i=e[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}class $s extends Map{constructor(e,n=xx){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(C0(this,e))}has(e){return super.has(C0(this,e))}set(e,n){return super.set(_x(this,e),n)}delete(e){return super.delete(wx(this,e))}}class xh extends Set{constructor(e,n=xx){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(C0(this,e))}add(e){return super.add(_x(this,e))}delete(e){return super.delete(wx(this,e))}}function C0({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function _x({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function wx({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function xx(t){return t!==null&&typeof t=="object"?t.valueOf():t}function N0(t){return t}function Sh(t,...e){return hv(t,N0,N0,e)}function ko(t,e,...n){return hv(t,N0,e,n)}function eO(t,e,...n){return hv(t,Array.from,e,n)}function hv(t,e,n,r){return function i(a,o){if(o>=r.length)return n(a);const u=new $s,c=r[o++];let f=-1;for(const d of a){const p=c(d,++f,a),g=u.get(p);g?g.push(d):u.set(p,[d])}for(const[d,p]of u)u.set(d,i(p,o));return e(u)}(t,0)}function nO(t,e){return Array.from(e,n=>t[n])}function Tf(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,a)=>a);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,a)=>{for(const o of e){const u=$f(o[i],o[a]);if(u)return u}})):(n=t.map(n),r.sort((i,a)=>$f(n[i],n[a]))),nO(t,r)}return t.sort(Sx(n))}function Sx(t=nr){if(t===nr)return $f;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function $f(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function dv(t,e,n){return(e.length!==2?Tf(ko(t,e,n),([r,i],[a,o])=>nr(i,o)||nr(r,a)):Tf(Sh(t,n),([r,i],[a,o])=>e(i,o)||nr(r,a))).map(([r])=>r)}const rO=Math.sqrt(50),iO=Math.sqrt(10),aO=Math.sqrt(2);function Af(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=rO?10:a>=iO?5:a>=aO?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/o,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*o,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=n&&n<2?Af(t,e,n*2):[u,c,f]}function Zl(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Af(e,t,n):Af(t,e,n);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(o<0)for(let f=0;f<u;++f)c[f]=(a-f)/-o;else for(let f=0;f<u;++f)c[f]=(a-f)*o;else if(o<0)for(let f=0;f<u;++f)c[f]=(i+f)/-o;else for(let f=0;f<u;++f)c[f]=(i+f)*o;return c}function kf(t,e,n){return e=+e,t=+t,n=+n,Af(t,e,n)[2]}function P0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?kf(e,t,n):kf(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function sO(t){return Math.max(1,Math.ceil(Math.log(fv(t))/Math.LN2)+1)}function Fr(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function oO(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function la(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function lO(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Mx(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?$f:Sx(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,d=Math.log(c),p=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*p*(c-p)/c)*(f-c/2<0?-1:1),y=Math.max(n,Math.floor(e-f*p/c+g)),_=Math.min(r,Math.floor(e+(c-f)*p/c+g));Mx(t,e,y,_,i)}const a=t[e];let o=n,u=r;for(Tl(t,n,e),i(t[r],a)>0&&Tl(t,n,r);o<u;){for(Tl(t,o,u),++o,--u;i(t[o],a)<0;)++o;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?Tl(t,n,u):(++u,Tl(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Tl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Tx(t,e=nr){let n,r=!1;if(e.length===1){let i;for(const a of t){const o=e(a);(r?nr(o,i)>0:nr(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function Oo(t,e,n){if(t=Float64Array.from(GI(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return la(t);if(e>=1)return Fr(t);var r,i=(r-1)*e,a=Math.floor(i),o=Fr(Mx(t,a).subarray(0,a+1)),u=la(t.subarray(a+1));return o+(u-o)*(i-a)}}function uO(t,e,n=mx){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return o+(u-o)*(i-a)}}function cO(t,e,n){const r=fv(t),i=Oo(t,.75)-Oo(t,.25);return r&&i?Math.ceil((n-e)/(2*i*Math.pow(r,-1/3))):1}function $x(t,e,n){const r=fv(t),i=bx(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}function fO(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function L0(t,e){return Oo(t,.5,e)}function*hO(t){for(const e of t)yield*e}function Ax(t){return Array.from(hO(t))}function dO(t,e){const n=new $s;if(e===void 0)for(let a of t)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let o of t)(o=e(o,++a,t))!=null&&o>=o&&n.set(o,(n.get(o)||0)+1)}let r,i=0;for(const[a,o]of n)o>i&&(i=o,r=a);return r}function pO(t,e=gO){const n=[];let r,i=!1;for(const a of t)i&&n.push(e(r,a)),r=a,i=!0;return n}function gO(t,e){return[t,e]}function I0(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Wa(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function Ef(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function vO(t){return t}var cf=1,Cp=2,O0=3,Dc=4,Qb=1e-6;function mO(t){return"translate("+t+",0)"}function yO(t){return"translate(0,"+t+")"}function bO(t){return e=>+t(e)}function _O(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function wO(){return!this.__axis}function kx(t,e){var n=[],r=null,i=null,a=6,o=6,u=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=t===cf||t===Dc?-1:1,d=t===Dc||t===Cp?"x":"y",p=t===cf||t===O0?mO:yO;function g(y){var _=r??(e.ticks?e.ticks.apply(e,n):e.domain()),b=i??(e.tickFormat?e.tickFormat.apply(e,n):vO),w=Math.max(a,0)+u,x=e.range(),M=+x[0]+c,A=+x[x.length-1]+c,$=(e.bandwidth?_O:bO)(e.copy(),c),P=y.selection?y.selection():y,L=P.selectAll(".domain").data([null]),F=P.selectAll(".tick").data(_,e).order(),V=F.exit(),K=F.enter().append("g").attr("class","tick"),W=F.select("line"),R=F.select("text");L=L.merge(L.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),F=F.merge(K),W=W.merge(K.append("line").attr("stroke","currentColor").attr(d+"2",f*a)),R=R.merge(K.append("text").attr("fill","currentColor").attr(d,f*w).attr("dy",t===cf?"0em":t===O0?"0.71em":"0.32em")),y!==P&&(L=L.transition(y),F=F.transition(y),W=W.transition(y),R=R.transition(y),V=V.transition(y).attr("opacity",Qb).attr("transform",function(et){return isFinite(et=$(et))?p(et+c):this.getAttribute("transform")}),K.attr("opacity",Qb).attr("transform",function(et){var j=this.parentNode.__axis;return p((j&&isFinite(j=j(et))?j:$(et))+c)})),V.remove(),L.attr("d",t===Dc||t===Cp?o?"M"+f*o+","+M+"H"+c+"V"+A+"H"+f*o:"M"+c+","+M+"V"+A:o?"M"+M+","+f*o+"V"+c+"H"+A+"V"+f*o:"M"+M+","+c+"H"+A),F.attr("opacity",1).attr("transform",function(et){return p($(et)+c)}),W.attr(d+"2",f*a),R.attr(d,f*w).text(b),P.filter(wO).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Cp?"start":t===Dc?"end":"middle"),P.each(function(){this.__axis=$})}return g.scale=function(y){return arguments.length?(e=y,g):e},g.ticks=function(){return n=Array.from(arguments),g},g.tickArguments=function(y){return arguments.length?(n=y==null?[]:Array.from(y),g):n.slice()},g.tickValues=function(y){return arguments.length?(r=y==null?null:Array.from(y),g):r&&r.slice()},g.tickFormat=function(y){return arguments.length?(i=y,g):i},g.tickSize=function(y){return arguments.length?(a=o=+y,g):a},g.tickSizeInner=function(y){return arguments.length?(a=+y,g):a},g.tickSizeOuter=function(y){return arguments.length?(o=+y,g):o},g.tickPadding=function(y){return arguments.length?(u=+y,g):u},g.offset=function(y){return arguments.length?(c=+y,g):c},g}function xO(t){return kx(cf,t)}function SO(t){return kx(O0,t)}var MO={value:()=>{}};function Mh(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ff(n)}function ff(t){this._=t}function TO(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ff.prototype=Mh.prototype={constructor:ff,on:function(t,e){var n=this._,r=TO(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=$O(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=Jb(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Jb(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ff(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function $O(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Jb(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=MO,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var R0="http://www.w3.org/1999/xhtml";const Ro={svg:"http://www.w3.org/2000/svg",xhtml:R0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Th(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ro.hasOwnProperty(e)?{space:Ro[e],local:t}:t}function AO(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===R0&&e.documentElement.namespaceURI===R0?e.createElement(t):e.createElementNS(n,t)}}function kO(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Su(t){var e=Th(t);return(e.local?kO:AO)(e)}function EO(){}function pv(t){return t==null?EO:function(){return this.querySelector(t)}}function CO(t){typeof t!="function"&&(t=pv(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=new Array(o),c,f,d=0;d<o;++d)(c=a[d])&&(f=t.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f);return new mr(r,this._parents)}function NO(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function PO(){return[]}function Ex(t){return t==null?PO:function(){return this.querySelectorAll(t)}}function LO(t){return function(){return NO(t.apply(this,arguments))}}function IO(t){typeof t=="function"?t=LO(t):t=Ex(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],u=o.length,c,f=0;f<u;++f)(c=o[f])&&(r.push(t.call(c,c.__data__,f,o)),i.push(c));return new mr(r,i)}function Cx(t){return function(){return this.matches(t)}}function Nx(t){return function(e){return e.matches(t)}}var OO=Array.prototype.find;function RO(t){return function(){return OO.call(this.children,t)}}function zO(){return this.firstElementChild}function FO(t){return this.select(t==null?zO:RO(typeof t=="function"?t:Nx(t)))}var BO=Array.prototype.filter;function DO(){return Array.from(this.children)}function UO(t){return function(){return BO.call(this.children,t)}}function WO(t){return this.selectAll(t==null?DO:UO(typeof t=="function"?t:Nx(t)))}function qO(t){typeof t!="function"&&(t=Cx(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=[],c,f=0;f<o;++f)(c=a[f])&&t.call(c,c.__data__,f,a)&&u.push(c);return new mr(r,this._parents)}function Px(t){return new Array(t.length)}function HO(){return new mr(this._enter||this._groups.map(Px),this._parents)}function Cf(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Cf.prototype={constructor:Cf,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function VO(t){return function(){return t}}function YO(t,e,n,r,i,a){for(var o=0,u,c=e.length,f=a.length;o<f;++o)(u=e[o])?(u.__data__=a[o],r[o]=u):n[o]=new Cf(t,a[o]);for(;o<c;++o)(u=e[o])&&(i[o]=u)}function GO(t,e,n,r,i,a,o){var u,c,f=new Map,d=e.length,p=a.length,g=new Array(d),y;for(u=0;u<d;++u)(c=e[u])&&(g[u]=y=o.call(c,c.__data__,u,e)+"",f.has(y)?i[u]=c:f.set(y,c));for(u=0;u<p;++u)y=o.call(t,a[u],u,a)+"",(c=f.get(y))?(r[u]=c,c.__data__=a[u],f.delete(y)):n[u]=new Cf(t,a[u]);for(u=0;u<d;++u)(c=e[u])&&f.get(g[u])===c&&(i[u]=c)}function XO(t){return t.__data__}function KO(t,e){if(!arguments.length)return Array.from(this,XO);var n=e?GO:YO,r=this._parents,i=this._groups;typeof t!="function"&&(t=VO(t));for(var a=i.length,o=new Array(a),u=new Array(a),c=new Array(a),f=0;f<a;++f){var d=r[f],p=i[f],g=p.length,y=jO(t.call(d,d&&d.__data__,f,r)),_=y.length,b=u[f]=new Array(_),w=o[f]=new Array(_),x=c[f]=new Array(g);n(d,p,b,w,x,y,e);for(var M=0,A=0,$,P;M<_;++M)if($=b[M]){for(M>=A&&(A=M+1);!(P=w[A])&&++A<_;);$._next=P||null}}return o=new mr(o,r),o._enter=u,o._exit=c,o}function jO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ZO(){return new mr(this._exit||this._groups.map(Px),this._parents)}function QO(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function JO(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),u=new Array(i),c=0;c<o;++c)for(var f=n[c],d=r[c],p=f.length,g=u[c]=new Array(p),y,_=0;_<p;++_)(y=f[_]||d[_])&&(g[_]=y);for(;c<i;++c)u[c]=n[c];return new mr(u,this._parents)}function tR(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function eR(t){t||(t=nR);function e(p,g){return p&&g?t(p.__data__,g.__data__):!p-!g}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],u=o.length,c=i[a]=new Array(u),f,d=0;d<u;++d)(f=o[d])&&(c[d]=f);c.sort(e)}return new mr(i,this._parents).order()}function nR(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function rR(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function iR(){return Array.from(this)}function aR(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function sR(){let t=0;for(const e of this)++t;return t}function oR(){return!this.node()}function lR(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,u;a<o;++a)(u=i[a])&&t.call(u,u.__data__,a,i);return this}function uR(t){return function(){this.removeAttribute(t)}}function cR(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fR(t,e){return function(){this.setAttribute(t,e)}}function hR(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function dR(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function pR(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function gR(t,e){var n=Th(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?cR:uR:typeof e=="function"?n.local?pR:dR:n.local?hR:fR)(n,e))}function Lx(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function vR(t){return function(){this.style.removeProperty(t)}}function mR(t,e,n){return function(){this.style.setProperty(t,e,n)}}function yR(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function bR(t,e,n){return arguments.length>1?this.each((e==null?vR:typeof e=="function"?yR:mR)(t,e,n??"")):zo(this.node(),t)}function zo(t,e){return t.style.getPropertyValue(e)||Lx(t).getComputedStyle(t,null).getPropertyValue(e)}function _R(t){return function(){delete this[t]}}function wR(t,e){return function(){this[t]=e}}function xR(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function SR(t,e){return arguments.length>1?this.each((e==null?_R:typeof e=="function"?xR:wR)(t,e)):this.node()[t]}function Ix(t){return t.trim().split(/^|\s+/)}function gv(t){return t.classList||new Ox(t)}function Ox(t){this._node=t,this._names=Ix(t.getAttribute("class")||"")}Ox.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Rx(t,e){for(var n=gv(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function zx(t,e){for(var n=gv(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function MR(t){return function(){Rx(this,t)}}function TR(t){return function(){zx(this,t)}}function $R(t,e){return function(){(e.apply(this,arguments)?Rx:zx)(this,t)}}function AR(t,e){var n=Ix(t+"");if(arguments.length<2){for(var r=gv(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?$R:e?MR:TR)(n,e))}function kR(){this.textContent=""}function ER(t){return function(){this.textContent=t}}function CR(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function NR(t){return arguments.length?this.each(t==null?kR:(typeof t=="function"?CR:ER)(t)):this.node().textContent}function PR(){this.innerHTML=""}function LR(t){return function(){this.innerHTML=t}}function IR(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function OR(t){return arguments.length?this.each(t==null?PR:(typeof t=="function"?IR:LR)(t)):this.node().innerHTML}function RR(){this.nextSibling&&this.parentNode.appendChild(this)}function zR(){return this.each(RR)}function FR(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function BR(){return this.each(FR)}function DR(t){var e=typeof t=="function"?t:Su(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function UR(){return null}function WR(t,e){var n=typeof t=="function"?t:Su(t),r=e==null?UR:typeof e=="function"?e:pv(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function qR(){var t=this.parentNode;t&&t.removeChild(this)}function HR(){return this.each(qR)}function VR(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function YR(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function GR(t){return this.select(t?YR:VR)}function XR(t){return arguments.length?this.property("__data__",t):this.node().__data__}function KR(t){return function(e){t.call(this,e,this.__data__)}}function jR(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ZR(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function QR(t,e,n){return function(){var r=this.__on,i,a=KR(e);if(r){for(var o=0,u=r.length;o<u;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function JR(t,e,n){var r=jR(t+""),i,a=r.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var c=0,f=u.length,d;c<f;++c)for(i=0,d=u[c];i<a;++i)if((o=r[i]).type===d.type&&o.name===d.name)return d.value}return}for(u=e?QR:ZR,i=0;i<a;++i)this.each(u(r[i],e,n));return this}function Fx(t,e,n){var r=Lx(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function tz(t,e){return function(){return Fx(this,t,e)}}function ez(t,e){return function(){return Fx(this,t,e.apply(this,arguments))}}function nz(t,e){return this.each((typeof e=="function"?ez:tz)(t,e))}function*rz(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Bx=[null];function mr(t,e){this._groups=t,this._parents=e}function Mu(){return new mr([[document.documentElement]],Bx)}function iz(){return this}mr.prototype=Mu.prototype={constructor:mr,select:CO,selectAll:IO,selectChild:FO,selectChildren:WO,filter:qO,data:KO,enter:HO,exit:ZO,join:QO,merge:JO,selection:iz,order:tR,sort:eR,call:rR,nodes:iR,node:aR,size:sR,empty:oR,each:lR,attr:gR,style:bR,property:SR,classed:AR,text:NR,html:OR,raise:zR,lower:BR,append:DR,insert:WR,remove:HR,clone:GR,datum:XR,on:JR,dispatch:nz,[Symbol.iterator]:rz};function we(t){return typeof t=="string"?new mr([[document.querySelector(t)]],[document.documentElement]):new mr([[t]],Bx)}function az(t){return we(Su(t).call(document.documentElement))}function sz(t){let e;for(;e=t.sourceEvent;)t=e;return t}function hi(t,e){if(t=sz(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const z0={capture:!0,passive:!1};function F0(t){t.preventDefault(),t.stopImmediatePropagation()}function Dx(t){var e=t.document.documentElement,n=we(t).on("dragstart.drag",F0,z0);"onselectstart"in e?n.on("selectstart.drag",F0,z0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ux(t,e){var n=t.document.documentElement,r=we(t).on("dragstart.drag",null);e&&(r.on("click.drag",F0,z0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function tl(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Tu(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ka(){}var As=.7,Fo=1/As,Eo="\\s*([+-]?\\d+)\\s*",Ql="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oz=/^#([0-9a-f]{3,8})$/,lz=new RegExp(`^rgb\\(${Eo},${Eo},${Eo}\\)$`),uz=new RegExp(`^rgb\\(${bi},${bi},${bi}\\)$`),cz=new RegExp(`^rgba\\(${Eo},${Eo},${Eo},${Ql}\\)$`),fz=new RegExp(`^rgba\\(${bi},${bi},${bi},${Ql}\\)$`),hz=new RegExp(`^hsl\\(${Ql},${bi},${bi}\\)$`),dz=new RegExp(`^hsla\\(${Ql},${bi},${bi},${Ql}\\)$`),t_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tl(Ka,ks,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:e_,formatHex:e_,formatHex8:pz,formatHsl:gz,formatRgb:n_,toString:n_});function e_(){return this.rgb().formatHex()}function pz(){return this.rgb().formatHex8()}function gz(){return Wx(this).formatHsl()}function n_(){return this.rgb().formatRgb()}function ks(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=oz.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?r_(e):n===3?new vn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Uc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Uc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lz.exec(t))?new vn(e[1],e[2],e[3],1):(e=uz.exec(t))?new vn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cz.exec(t))?Uc(e[1],e[2],e[3],e[4]):(e=fz.exec(t))?Uc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=hz.exec(t))?s_(e[1],e[2]/100,e[3]/100,1):(e=dz.exec(t))?s_(e[1],e[2]/100,e[3]/100,e[4]):t_.hasOwnProperty(t)?r_(t_[t]):t==="transparent"?new vn(NaN,NaN,NaN,0):null}function r_(t){return new vn(t>>16&255,t>>8&255,t&255,1)}function Uc(t,e,n,r){return r<=0&&(t=e=n=NaN),new vn(t,e,n,r)}function vv(t){return t instanceof Ka||(t=ks(t)),t?(t=t.rgb(),new vn(t.r,t.g,t.b,t.opacity)):new vn}function qa(t,e,n,r){return arguments.length===1?vv(t):new vn(t,e,n,r??1)}function vn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}tl(vn,qa,Tu(Ka,{brighter(t){return t=t==null?Fo:Math.pow(Fo,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?As:Math.pow(As,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vn(ys(this.r),ys(this.g),ys(this.b),Nf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i_,formatHex:i_,formatHex8:vz,formatRgb:a_,toString:a_}));function i_(){return`#${vs(this.r)}${vs(this.g)}${vs(this.b)}`}function vz(){return`#${vs(this.r)}${vs(this.g)}${vs(this.b)}${vs((isNaN(this.opacity)?1:this.opacity)*255)}`}function a_(){const t=Nf(this.opacity);return`${t===1?"rgb(":"rgba("}${ys(this.r)}, ${ys(this.g)}, ${ys(this.b)}${t===1?")":`, ${t})`}`}function Nf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ys(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vs(t){return t=ys(t),(t<16?"0":"")+t.toString(16)}function s_(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xr(t,e,n,r)}function Wx(t){if(t instanceof Xr)return new Xr(t.h,t.s,t.l,t.opacity);if(t instanceof Ka||(t=ks(t)),!t)return new Xr;if(t instanceof Xr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,c=(a+i)/2;return u?(e===a?o=(n-r)/u+(n<r)*6:n===a?o=(r-e)/u+2:o=(e-n)/u+4,u/=c<.5?a+i:2-a-i,o*=60):u=c>0&&c<1?0:o,new Xr(o,u,c,t.opacity)}function B0(t,e,n,r){return arguments.length===1?Wx(t):new Xr(t,e,n,r??1)}function Xr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}tl(Xr,B0,Tu(Ka,{brighter(t){return t=t==null?Fo:Math.pow(Fo,t),new Xr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?As:Math.pow(As,t),new Xr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new vn(Np(t>=240?t-240:t+120,i,r),Np(t,i,r),Np(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Xr(o_(this.h),Wc(this.s),Wc(this.l),Nf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Nf(this.opacity);return`${t===1?"hsl(":"hsla("}${o_(this.h)}, ${Wc(this.s)*100}%, ${Wc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function o_(t){return t=(t||0)%360,t<0?t+360:t}function Wc(t){return Math.max(0,Math.min(1,t||0))}function Np(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const qx=Math.PI/180,Hx=180/Math.PI,Pf=18,Vx=.96422,Yx=1,Gx=.82521,Xx=4/29,Co=6/29,Kx=3*Co*Co,mz=Co*Co*Co;function jx(t){if(t instanceof _i)return new _i(t.l,t.a,t.b,t.opacity);if(t instanceof Ji)return Zx(t);t instanceof vn||(t=vv(t));var e=Op(t.r),n=Op(t.g),r=Op(t.b),i=Pp((.2225045*e+.7168786*n+.0606169*r)/Yx),a,o;return e===n&&n===r?a=o=i:(a=Pp((.4360747*e+.3850649*n+.1430804*r)/Vx),o=Pp((.0139322*e+.0971045*n+.7141733*r)/Gx)),new _i(116*i-16,500*(a-i),200*(i-o),t.opacity)}function D0(t,e,n,r){return arguments.length===1?jx(t):new _i(t,e,n,r??1)}function _i(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}tl(_i,D0,Tu(Ka,{brighter(t){return new _i(this.l+Pf*(t??1),this.a,this.b,this.opacity)},darker(t){return new _i(this.l-Pf*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Vx*Lp(e),t=Yx*Lp(t),n=Gx*Lp(n),new vn(Ip(3.1338561*e-1.6168667*t-.4906146*n),Ip(-.9787684*e+1.9161415*t+.033454*n),Ip(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Pp(t){return t>mz?Math.pow(t,1/3):t/Kx+Xx}function Lp(t){return t>Co?t*t*t:Kx*(t-Xx)}function Ip(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Op(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function yz(t){if(t instanceof Ji)return new Ji(t.h,t.c,t.l,t.opacity);if(t instanceof _i||(t=jx(t)),t.a===0&&t.b===0)return new Ji(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Hx;return new Ji(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function U0(t,e,n,r){return arguments.length===1?yz(t):new Ji(t,e,n,r??1)}function Ji(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Zx(t){if(isNaN(t.h))return new _i(t.l,0,0,t.opacity);var e=t.h*qx;return new _i(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}tl(Ji,U0,Tu(Ka,{brighter(t){return new Ji(this.h,this.c,this.l+Pf*(t??1),this.opacity)},darker(t){return new Ji(this.h,this.c,this.l-Pf*(t??1),this.opacity)},rgb(){return Zx(this).rgb()}}));var Qx=-.14861,mv=1.78277,yv=-.29227,$h=-.90649,Jl=1.97294,l_=Jl*$h,u_=Jl*mv,c_=mv*yv-$h*Qx;function bz(t){if(t instanceof bs)return new bs(t.h,t.s,t.l,t.opacity);t instanceof vn||(t=vv(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(c_*r+l_*e-u_*n)/(c_+l_-u_),a=r-i,o=(Jl*(n-i)-yv*a)/$h,u=Math.sqrt(o*o+a*a)/(Jl*i*(1-i)),c=u?Math.atan2(o,a)*Hx-120:NaN;return new bs(c<0?c+360:c,u,i,t.opacity)}function Si(t,e,n,r){return arguments.length===1?bz(t):new bs(t,e,n,r??1)}function bs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}tl(bs,Si,Tu(Ka,{brighter(t){return t=t==null?Fo:Math.pow(Fo,t),new bs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?As:Math.pow(As,t),new bs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*qx,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new vn(255*(e+n*(Qx*r+mv*i)),255*(e+n*(yv*r+$h*i)),255*(e+n*(Jl*r)),this.opacity)}}));function _z(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function wz(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,u=r<e-1?t[r+2]:2*a-i;return _z((n-r/e)*e,o,i,a,u)}}const Ah=t=>()=>t;function Jx(t,e){return function(n){return t+n*e}}function xz(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function bv(t,e){var n=e-t;return n?Jx(t,n>180||n<-180?n-360*Math.round(n/360):n):Ah(isNaN(t)?e:t)}function Sz(t){return(t=+t)==1?Pn:function(e,n){return n-e?xz(e,n,t):Ah(isNaN(e)?n:e)}}function Pn(t,e){var n=e-t;return n?Jx(t,n):Ah(isNaN(t)?e:t)}const Es=function t(e){var n=Sz(e);function r(i,a){var o=n((i=qa(i)).r,(a=qa(a)).r),u=n(i.g,a.g),c=n(i.b,a.b),f=Pn(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=u(d),i.b=c(d),i.opacity=f(d),i+""}}return r.gamma=t,r}(1);function Mz(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),a=new Array(n),o,u;for(o=0;o<n;++o)u=qa(e[o]),r[o]=u.r||0,i[o]=u.g||0,a[o]=u.b||0;return r=t(r),i=t(i),a=t(a),u.opacity=1,function(c){return u.r=r(c),u.g=i(c),u.b=a(c),u+""}}}var Tz=Mz(wz);function $z(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Az(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function kz(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Bs(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(u){for(o=0;o<r;++o)a[o]=i[o](u);return a}}function Ez(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function En(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Cz(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Bs(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var W0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rp=new RegExp(W0.source,"g");function Nz(t){return function(){return t}}function Pz(t){return function(e){return t(e)+""}}function t3(t,e){var n=W0.lastIndex=Rp.lastIndex=0,r,i,a,o=-1,u=[],c=[];for(t=t+"",e=e+"";(r=W0.exec(t))&&(i=Rp.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,c.push({i:o,x:En(r,i)})),n=Rp.lastIndex;return n<e.length&&(a=e.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?c[0]?Pz(c[0].x):Nz(e):(e=c.length,function(f){for(var d=0,p;d<e;++d)u[(p=c[d]).i]=p.x(f);return u.join("")})}function Bs(t,e){var n=typeof e,r;return e==null||n==="boolean"?Ah(e):(n==="number"?En:n==="string"?(r=ks(e))?(e=r,Es):t3:e instanceof ks?Es:e instanceof Date?Ez:Az(e)?$z:Array.isArray(e)?kz:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Cz:En)(t,e)}function kh(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var f_=180/Math.PI,q0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function e3(t,e,n,r,i,a){var o,u,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),t*r<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*f_,skewX:Math.atan(c)*f_,scaleX:o,scaleY:u}}var qc;function Lz(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?q0:e3(e.a,e.b,e.c,e.d,e.e,e.f)}function Iz(t){return t==null||(qc||(qc=document.createElementNS("http://www.w3.org/2000/svg","g")),qc.setAttribute("transform",t),!(t=qc.transform.baseVal.consolidate()))?q0:(t=t.matrix,e3(t.a,t.b,t.c,t.d,t.e,t.f))}function n3(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function a(f,d,p,g,y,_){if(f!==p||d!==g){var b=y.push("translate(",null,e,null,n);_.push({i:b-4,x:En(f,p)},{i:b-2,x:En(d,g)})}else(p||g)&&y.push("translate("+p+e+g+n)}function o(f,d,p,g){f!==d?(f-d>180?d+=360:d-f>180&&(f+=360),g.push({i:p.push(i(p)+"rotate(",null,r)-2,x:En(f,d)})):d&&p.push(i(p)+"rotate("+d+r)}function u(f,d,p,g){f!==d?g.push({i:p.push(i(p)+"skewX(",null,r)-2,x:En(f,d)}):d&&p.push(i(p)+"skewX("+d+r)}function c(f,d,p,g,y,_){if(f!==p||d!==g){var b=y.push(i(y)+"scale(",null,",",null,")");_.push({i:b-4,x:En(f,p)},{i:b-2,x:En(d,g)})}else(p!==1||g!==1)&&y.push(i(y)+"scale("+p+","+g+")")}return function(f,d){var p=[],g=[];return f=t(f),d=t(d),a(f.translateX,f.translateY,d.translateX,d.translateY,p,g),o(f.rotate,d.rotate,p,g),u(f.skewX,d.skewX,p,g),c(f.scaleX,f.scaleY,d.scaleX,d.scaleY,p,g),f=d=null,function(y){for(var _=-1,b=g.length,w;++_<b;)p[(w=g[_]).i]=w.x(y);return p.join("")}}}var Oz=n3(Lz,"px, ","px)","deg)"),Rz=n3(Iz,", ",")",")"),zz=1e-12;function h_(t){return((t=Math.exp(t))+1/t)/2}function Fz(t){return((t=Math.exp(t))-1/t)/2}function Bz(t){return((t=Math.exp(2*t))-1)/(t+1)}const Dz=function t(e,n,r){function i(a,o){var u=a[0],c=a[1],f=a[2],d=o[0],p=o[1],g=o[2],y=d-u,_=p-c,b=y*y+_*_,w,x;if(b<zz)x=Math.log(g/f)/e,w=function(F){return[u+F*y,c+F*_,f*Math.exp(e*F*x)]};else{var M=Math.sqrt(b),A=(g*g-f*f+r*b)/(2*f*n*M),$=(g*g-f*f-r*b)/(2*g*n*M),P=Math.log(Math.sqrt(A*A+1)-A),L=Math.log(Math.sqrt($*$+1)-$);x=(L-P)/e,w=function(F){var V=F*x,K=h_(P),W=f/(n*M)*(K*Bz(e*V+P)-Fz(P));return[u+W*y,c+W*_,f*K/h_(e*V+P)]}}return w.duration=x*1e3*e/Math.SQRT2,w}return i.rho=function(a){var o=Math.max(.001,+a),u=o*o,c=u*u;return t(o,u,c)},i}(Math.SQRT2,2,4);function Uz(t){return function(e,n){var r=t((e=B0(e)).h,(n=B0(n)).h),i=Pn(e.s,n.s),a=Pn(e.l,n.l),o=Pn(e.opacity,n.opacity);return function(u){return e.h=r(u),e.s=i(u),e.l=a(u),e.opacity=o(u),e+""}}}const Wz=Uz(bv);function qz(t,e){var n=Pn((t=D0(t)).l,(e=D0(e)).l),r=Pn(t.a,e.a),i=Pn(t.b,e.b),a=Pn(t.opacity,e.opacity);return function(o){return t.l=n(o),t.a=r(o),t.b=i(o),t.opacity=a(o),t+""}}function Hz(t){return function(e,n){var r=t((e=U0(e)).h,(n=U0(n)).h),i=Pn(e.c,n.c),a=Pn(e.l,n.l),o=Pn(e.opacity,n.opacity);return function(u){return e.h=r(u),e.c=i(u),e.l=a(u),e.opacity=o(u),e+""}}}const Vz=Hz(bv);function r3(t){return function e(n){n=+n;function r(i,a){var o=t((i=Si(i)).h,(a=Si(a)).h),u=Pn(i.s,a.s),c=Pn(i.l,a.l),f=Pn(i.opacity,a.opacity);return function(d){return i.h=o(d),i.s=u(d),i.l=c(Math.pow(d,n)),i.opacity=f(d),i+""}}return r.gamma=e,r}(1)}r3(bv);var _v=r3(Pn);function Eh(t,e){e===void 0&&(e=t,t=Bs);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[u](o-u)}}function Jr(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var Bo=0,Ol=0,$l=0,i3=1e3,Lf,Rl,If=0,Cs=0,Ch=0,tu=typeof performance=="object"&&performance.now?performance:Date,a3=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function wv(){return Cs||(a3(Yz),Cs=tu.now()+Ch)}function Yz(){Cs=0}function Of(){this._call=this._time=this._next=null}Of.prototype=s3.prototype={constructor:Of,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?wv():+n)+(e==null?0:+e),!this._next&&Rl!==this&&(Rl?Rl._next=this:Lf=this,Rl=this),this._call=t,this._time=n,H0()},stop:function(){this._call&&(this._call=null,this._time=1/0,H0())}};function s3(t,e,n){var r=new Of;return r.restart(t,e,n),r}function Gz(){wv(),++Bo;for(var t=Lf,e;t;)(e=Cs-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Bo}function d_(){Cs=(If=tu.now())+Ch,Bo=Ol=0;try{Gz()}finally{Bo=0,Kz(),Cs=0}}function Xz(){var t=tu.now(),e=t-If;e>i3&&(Ch-=e,If=t)}function Kz(){for(var t,e=Lf,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Lf=n);Rl=t,H0(r)}function H0(t){if(!Bo){Ol&&(Ol=clearTimeout(Ol));var e=t-Cs;e>24?(t<1/0&&(Ol=setTimeout(d_,t-tu.now()-Ch)),$l&&($l=clearInterval($l))):($l||(If=tu.now(),$l=setInterval(Xz,i3)),Bo=1,a3(d_))}}function p_(t,e,n){var r=new Of;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var jz=Mh("start","end","cancel","interrupt"),Zz=[],o3=0,g_=1,V0=2,hf=3,v_=4,Y0=5,df=6;function Nh(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Qz(t,n,{name:e,index:r,group:i,on:jz,tween:Zz,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:o3})}function xv(t,e){var n=ri(t,e);if(n.state>o3)throw new Error("too late; already scheduled");return n}function Pi(t,e){var n=ri(t,e);if(n.state>hf)throw new Error("too late; already running");return n}function ri(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Qz(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=s3(a,0,n.time);function a(f){n.state=g_,n.timer.restart(o,n.delay,n.time),n.delay<=f&&o(f-n.delay)}function o(f){var d,p,g,y;if(n.state!==g_)return c();for(d in r)if(y=r[d],y.name===n.name){if(y.state===hf)return p_(o);y.state===v_?(y.state=df,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete r[d]):+d<e&&(y.state=df,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete r[d])}if(p_(function(){n.state===hf&&(n.state=v_,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=V0,n.on.call("start",t,t.__data__,n.index,n.group),n.state===V0){for(n.state=hf,i=new Array(g=n.tween.length),d=0,p=-1;d<g;++d)(y=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(i[++p]=y);i.length=p+1}}function u(f){for(var d=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(c),n.state=Y0,1),p=-1,g=i.length;++p<g;)i[p].call(t,d);n.state===Y0&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=df,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function No(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>V0&&r.state<Y0,r.state=df,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function Jz(t){return this.each(function(){No(this,t)})}function tF(t,e){var n,r;return function(){var i=Pi(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,u=r.length;o<u;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function eF(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Pi(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var u={name:e,value:n},c=0,f=i.length;c<f;++c)if(i[c].name===e){i[c]=u;break}c===f&&i.push(u)}a.tween=i}}function nF(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ri(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?tF:eF)(n,t,e))}function Sv(t,e,n){var r=t._id;return t.each(function(){var i=Pi(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ri(i,r).value[e]}}function l3(t,e){var n;return(typeof e=="number"?En:e instanceof ks?Es:(n=ks(e))?(e=n,Es):t3)(t,e)}function rF(t){return function(){this.removeAttribute(t)}}function iF(t){return function(){this.removeAttributeNS(t.space,t.local)}}function aF(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function sF(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function oF(t,e,n){var r,i,a;return function(){var o,u=n(this),c;return u==null?void this.removeAttribute(t):(o=this.getAttribute(t),c=u+"",o===c?null:o===r&&c===i?a:(i=c,a=e(r=o,u)))}}function lF(t,e,n){var r,i,a;return function(){var o,u=n(this),c;return u==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),c=u+"",o===c?null:o===r&&c===i?a:(i=c,a=e(r=o,u)))}}function uF(t,e){var n=Th(t),r=n==="transform"?Rz:l3;return this.attrTween(t,typeof e=="function"?(n.local?lF:oF)(n,r,Sv(this,"attr."+t,e)):e==null?(n.local?iF:rF)(n):(n.local?sF:aF)(n,r,e))}function cF(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function fF(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function hF(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&fF(t,a)),n}return i._value=e,i}function dF(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&cF(t,a)),n}return i._value=e,i}function pF(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Th(t);return this.tween(n,(r.local?hF:dF)(r,e))}function gF(t,e){return function(){xv(this,t).delay=+e.apply(this,arguments)}}function vF(t,e){return e=+e,function(){xv(this,t).delay=e}}function mF(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?gF:vF)(e,t)):ri(this.node(),e).delay}function yF(t,e){return function(){Pi(this,t).duration=+e.apply(this,arguments)}}function bF(t,e){return e=+e,function(){Pi(this,t).duration=e}}function _F(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?yF:bF)(e,t)):ri(this.node(),e).duration}function wF(t,e){if(typeof e!="function")throw new Error;return function(){Pi(this,t).ease=e}}function xF(t){var e=this._id;return arguments.length?this.each(wF(e,t)):ri(this.node(),e).ease}function SF(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Pi(this,t).ease=n}}function MF(t){if(typeof t!="function")throw new Error;return this.each(SF(this._id,t))}function TF(t){typeof t!="function"&&(t=Cx(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=[],c,f=0;f<o;++f)(c=a[f])&&t.call(c,c.__data__,f,a)&&u.push(c);return new ua(r,this._parents,this._name,this._id)}function $F(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var c=e[u],f=n[u],d=c.length,p=o[u]=new Array(d),g,y=0;y<d;++y)(g=c[y]||f[y])&&(p[y]=g);for(;u<r;++u)o[u]=e[u];return new ua(o,this._parents,this._name,this._id)}function AF(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function kF(t,e,n){var r,i,a=AF(e)?xv:Pi;return function(){var o=a(this,t),u=o.on;u!==r&&(i=(r=u).copy()).on(e,n),o.on=i}}function EF(t,e){var n=this._id;return arguments.length<2?ri(this.node(),n).on.on(t):this.each(kF(n,t,e))}function CF(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function NF(){return this.on("end.remove",CF(this._id))}function PF(t){var e=this._name,n=this._id;typeof t!="function"&&(t=pv(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u=r[o],c=u.length,f=a[o]=new Array(c),d,p,g=0;g<c;++g)(d=u[g])&&(p=t.call(d,d.__data__,g,u))&&("__data__"in d&&(p.__data__=d.__data__),f[g]=p,Nh(f[g],e,n,g,f,ri(d,n)));return new ua(a,this._parents,e,n)}function LF(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ex(t));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var c=r[u],f=c.length,d,p=0;p<f;++p)if(d=c[p]){for(var g=t.call(d,d.__data__,p,c),y,_=ri(d,n),b=0,w=g.length;b<w;++b)(y=g[b])&&Nh(y,e,n,b,g,_);a.push(g),o.push(d)}return new ua(a,o,e,n)}var IF=Mu.prototype.constructor;function OF(){return new IF(this._groups,this._parents)}function RF(t,e){var n,r,i;return function(){var a=zo(this,t),o=(this.style.removeProperty(t),zo(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function u3(t){return function(){this.style.removeProperty(t)}}function zF(t,e,n){var r,i=n+"",a;return function(){var o=zo(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function FF(t,e,n){var r,i,a;return function(){var o=zo(this,t),u=n(this),c=u+"";return u==null&&(c=u=(this.style.removeProperty(t),zo(this,t))),o===c?null:o===r&&c===i?a:(i=c,a=e(r=o,u))}}function BF(t,e){var n,r,i,a="style."+e,o="end."+a,u;return function(){var c=Pi(this,t),f=c.on,d=c.value[a]==null?u||(u=u3(e)):void 0;(f!==n||i!==d)&&(r=(n=f).copy()).on(o,i=d),c.on=r}}function DF(t,e,n){var r=(t+="")=="transform"?Oz:l3;return e==null?this.styleTween(t,RF(t,r)).on("end.style."+t,u3(t)):typeof e=="function"?this.styleTween(t,FF(t,r,Sv(this,"style."+t,e))).each(BF(this._id,t)):this.styleTween(t,zF(t,r,e),n).on("end.style."+t,null)}function UF(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function WF(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&UF(t,o,n)),r}return a._value=e,a}function qF(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,WF(t,e,n??""))}function HF(t){return function(){this.textContent=t}}function VF(t){return function(){var e=t(this);this.textContent=e??""}}function YF(t){return this.tween("text",typeof t=="function"?VF(Sv(this,"text",t)):HF(t==null?"":t+""))}function GF(t){return function(e){this.textContent=t.call(this,e)}}function XF(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&GF(i)),e}return r._value=t,r}function KF(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,XF(t))}function jF(){for(var t=this._name,e=this._id,n=c3(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,c,f=0;f<u;++f)if(c=o[f]){var d=ri(c,e);Nh(c,t,n,f,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new ua(r,this._parents,t,n)}function ZF(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var u={value:o},c={value:function(){--i===0&&a()}};n.each(function(){var f=Pi(this,r),d=f.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(c)),f.on=e}),i===0&&a()})}var QF=0;function ua(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function c3(){return++QF}var Hi=Mu.prototype;ua.prototype={constructor:ua,select:PF,selectAll:LF,selectChild:Hi.selectChild,selectChildren:Hi.selectChildren,filter:TF,merge:$F,selection:OF,transition:jF,call:Hi.call,nodes:Hi.nodes,node:Hi.node,size:Hi.size,empty:Hi.empty,each:Hi.each,on:EF,attr:uF,attrTween:pF,style:DF,styleTween:qF,text:YF,textTween:KF,remove:NF,tween:nF,delay:mF,duration:_F,ease:xF,easeVarying:MF,end:ZF,[Symbol.iterator]:Hi[Symbol.iterator]};function JF(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var tB={time:null,delay:0,duration:250,ease:JF};function eB(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function nB(t){var e,n;t instanceof ua?(e=t._id,t=t._name):(e=c3(),(n=tB).time=wv(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,c,f=0;f<u;++f)(c=o[f])&&Nh(c,t,e,f,o,n||eB(c,e));return new ua(r,this._parents,t,e)}Mu.prototype.interrupt=Jz;Mu.prototype.transition=nB;const zp=t=>()=>t;function rB(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function iB(t){t.stopImmediatePropagation()}function Fp(t){t.preventDefault(),t.stopImmediatePropagation()}var m_={name:"drag"},Bp={name:"space"},bo={name:"handle"},_o={name:"center"};const{abs:y_,max:An,min:kn}=Math;function b_(t){return[+t[0],+t[1]]}function G0(t){return[b_(t[0]),b_(t[1])]}var Dp={name:"x",handles:["w","e"].map(eu),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Up={name:"y",handles:["n","s"].map(eu),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},aB={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(eu),input:function(t){return t==null?null:G0(t)},output:function(t){return t}},Vi={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},__={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},w_={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},sB={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},oB={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function eu(t){return{type:t}}function lB(t){return!t.ctrlKey&&!t.button}function uB(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function cB(){return navigator.maxTouchPoints||"ontouchstart"in this}function Wp(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function fB(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function hB(){return dB(aB)}function dB(t){var e=uB,n=lB,r=cB,i=!0,a=Mh("start","brush","end"),o=6,u;function c(w){var x=w.property("__brush",b).selectAll(".overlay").data([eu("overlay")]);x.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Vi.overlay).merge(x).each(function(){var A=Wp(this).extent;we(this).attr("x",A[0][0]).attr("y",A[0][1]).attr("width",A[1][0]-A[0][0]).attr("height",A[1][1]-A[0][1])}),w.selectAll(".selection").data([eu("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Vi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var M=w.selectAll(".handle").data(t.handles,function(A){return A.type});M.exit().remove(),M.enter().append("rect").attr("class",function(A){return"handle handle--"+A.type}).attr("cursor",function(A){return Vi[A.type]}),w.each(f).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",g).filter(r).on("touchstart.brush",g).on("touchmove.brush",y).on("touchend.brush touchcancel.brush",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}c.move=function(w,x,M){w.tween?w.on("start.brush",function(A){d(this,arguments).beforestart().start(A)}).on("interrupt.brush end.brush",function(A){d(this,arguments).end(A)}).tween("brush",function(){var A=this,$=A.__brush,P=d(A,arguments),L=$.selection,F=t.input(typeof x=="function"?x.apply(this,arguments):x,$.extent),V=Bs(L,F);function K(W){$.selection=W===1&&F===null?null:V(W),f.call(A),P.brush()}return L!==null&&F!==null?K:K(1)}):w.each(function(){var A=this,$=arguments,P=A.__brush,L=t.input(typeof x=="function"?x.apply(A,$):x,P.extent),F=d(A,$).beforestart();No(A),P.selection=L===null?null:L,f.call(A),F.start(M).brush(M).end(M)})},c.clear=function(w,x){c.move(w,null,x)};function f(){var w=we(this),x=Wp(this).selection;x?(w.selectAll(".selection").style("display",null).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1]),w.selectAll(".handle").style("display",null).attr("x",function(M){return M.type[M.type.length-1]==="e"?x[1][0]-o/2:x[0][0]-o/2}).attr("y",function(M){return M.type[0]==="s"?x[1][1]-o/2:x[0][1]-o/2}).attr("width",function(M){return M.type==="n"||M.type==="s"?x[1][0]-x[0][0]+o:o}).attr("height",function(M){return M.type==="e"||M.type==="w"?x[1][1]-x[0][1]+o:o})):w.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(w,x,M){var A=w.__brush.emitter;return A&&(!M||!A.clean)?A:new p(w,x,M)}function p(w,x,M){this.that=w,this.args=x,this.state=w.__brush,this.active=0,this.clean=M}p.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(w,x){return this.starting?(this.starting=!1,this.emit("start",w,x)):this.emit("brush",w),this},brush:function(w,x){return this.emit("brush",w,x),this},end:function(w,x){return--this.active===0&&(delete this.state.emitter,this.emit("end",w,x)),this},emit:function(w,x,M){var A=we(this.that).datum();a.call(w,this.that,new rB(w,{sourceEvent:x,target:c,selection:t.output(this.state.selection),mode:M,dispatch:a}),A)}};function g(w){if(u&&!w.touches||!n.apply(this,arguments))return;var x=this,M=w.target.__data__.type,A=(i&&w.metaKey?M="overlay":M)==="selection"?m_:i&&w.altKey?_o:bo,$=t===Up?null:sB[M],P=t===Dp?null:oB[M],L=Wp(x),F=L.extent,V=L.selection,K=F[0][0],W,R,et=F[0][1],j,C,z=F[1][0],U,B,at=F[1][1],Z,I,E=0,H=0,Y,J=$&&P&&i&&w.shiftKey,ht,nt,rt=Array.from(w.touches||[w],mt=>{const Nt=mt.identifier;return mt=hi(mt,x),mt.point0=mt.slice(),mt.identifier=Nt,mt});No(x);var lt=d(x,arguments,!0).beforestart();if(M==="overlay"){V&&(Y=!0);const mt=[rt[0],rt[1]||rt[0]];L.selection=V=[[W=t===Up?K:kn(mt[0][0],mt[1][0]),j=t===Dp?et:kn(mt[0][1],mt[1][1])],[U=t===Up?z:An(mt[0][0],mt[1][0]),Z=t===Dp?at:An(mt[0][1],mt[1][1])]],rt.length>1&&At(w)}else W=V[0][0],j=V[0][1],U=V[1][0],Z=V[1][1];R=W,C=j,B=U,I=Z;var tt=we(x).attr("pointer-events","none"),ot=tt.selectAll(".overlay").attr("cursor",Vi[M]);if(w.touches)lt.moved=Q,lt.ended=vt;else{var _t=we(w.view).on("mousemove.brush",Q,!0).on("mouseup.brush",vt,!0);i&&_t.on("keydown.brush",St,!0).on("keyup.brush",zt,!0),Dx(w.view)}f.call(x),lt.start(w,A.name);function Q(mt){for(const Nt of mt.changedTouches||[mt])for(const oe of rt)oe.identifier===Nt.identifier&&(oe.cur=hi(Nt,x));if(J&&!ht&&!nt&&rt.length===1){const Nt=rt[0];y_(Nt.cur[0]-Nt[0])>y_(Nt.cur[1]-Nt[1])?nt=!0:ht=!0}for(const Nt of rt)Nt.cur&&(Nt[0]=Nt.cur[0],Nt[1]=Nt.cur[1]);Y=!0,Fp(mt),At(mt)}function At(mt){const Nt=rt[0],oe=Nt.point0;var ae;switch(E=Nt[0]-oe[0],H=Nt[1]-oe[1],A){case Bp:case m_:{$&&(E=An(K-W,kn(z-U,E)),R=W+E,B=U+E),P&&(H=An(et-j,kn(at-Z,H)),C=j+H,I=Z+H);break}case bo:{rt[1]?($&&(R=An(K,kn(z,rt[0][0])),B=An(K,kn(z,rt[1][0])),$=1),P&&(C=An(et,kn(at,rt[0][1])),I=An(et,kn(at,rt[1][1])),P=1)):($<0?(E=An(K-W,kn(z-W,E)),R=W+E,B=U):$>0&&(E=An(K-U,kn(z-U,E)),R=W,B=U+E),P<0?(H=An(et-j,kn(at-j,H)),C=j+H,I=Z):P>0&&(H=An(et-Z,kn(at-Z,H)),C=j,I=Z+H));break}case _o:{$&&(R=An(K,kn(z,W-E*$)),B=An(K,kn(z,U+E*$))),P&&(C=An(et,kn(at,j-H*P)),I=An(et,kn(at,Z+H*P)));break}}B<R&&($*=-1,ae=W,W=U,U=ae,ae=R,R=B,B=ae,M in __&&ot.attr("cursor",Vi[M=__[M]])),I<C&&(P*=-1,ae=j,j=Z,Z=ae,ae=C,C=I,I=ae,M in w_&&ot.attr("cursor",Vi[M=w_[M]])),L.selection&&(V=L.selection),ht&&(R=V[0][0],B=V[1][0]),nt&&(C=V[0][1],I=V[1][1]),(V[0][0]!==R||V[0][1]!==C||V[1][0]!==B||V[1][1]!==I)&&(L.selection=[[R,C],[B,I]],f.call(x),lt.brush(mt,A.name))}function vt(mt){if(iB(mt),mt.touches){if(mt.touches.length)return;u&&clearTimeout(u),u=setTimeout(function(){u=null},500)}else Ux(mt.view,Y),_t.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);tt.attr("pointer-events","all"),ot.attr("cursor",Vi.overlay),L.selection&&(V=L.selection),fB(V)&&(L.selection=null,f.call(x)),lt.end(mt,A.name)}function St(mt){switch(mt.keyCode){case 16:{J=$&&P;break}case 18:{A===bo&&($&&(U=B-E*$,W=R+E*$),P&&(Z=I-H*P,j=C+H*P),A=_o,At(mt));break}case 32:{(A===bo||A===_o)&&($<0?U=B-E:$>0&&(W=R-E),P<0?Z=I-H:P>0&&(j=C-H),A=Bp,ot.attr("cursor",Vi.selection),At(mt));break}default:return}Fp(mt)}function zt(mt){switch(mt.keyCode){case 16:{J&&(ht=nt=J=!1,At(mt));break}case 18:{A===_o&&($<0?U=B:$>0&&(W=R),P<0?Z=I:P>0&&(j=C),A=bo,At(mt));break}case 32:{A===Bp&&(mt.altKey?($&&(U=B-E*$,W=R+E*$),P&&(Z=I-H*P,j=C+H*P),A=_o):($<0?U=B:$>0&&(W=R),P<0?Z=I:P>0&&(j=C),A=bo),ot.attr("cursor",Vi[M]),At(mt));break}default:return}Fp(mt)}}function y(w){d(this,arguments).moved(w)}function _(w){d(this,arguments).ended(w)}function b(){var w=this.__brush||{selection:null};return w.extent=G0(e.apply(this,arguments)),w.dim=t,w}return c.extent=function(w){return arguments.length?(e=typeof w=="function"?w:zp(G0(w)),c):e},c.filter=function(w){return arguments.length?(n=typeof w=="function"?w:zp(!!w),c):n},c.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:zp(!!w),c):r},c.handleSize=function(w){return arguments.length?(o=+w,c):o},c.keyModifiers=function(w){return arguments.length?(i=!!w,c):i},c.on=function(){var w=a.on.apply(a,arguments);return w===a?c:w},c}const X0=Math.PI,K0=2*X0,hs=1e-6,pB=K0-hs;function f3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function gB(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return f3;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class h3{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?f3:gB(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,c=r-e,f=i-n,d=o-e,p=u-n,g=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>hs)if(!(Math.abs(p*c-f*d)>hs)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-o,_=i-u,b=c*c+f*f,w=y*y+_*_,x=Math.sqrt(b),M=Math.sqrt(g),A=a*Math.tan((X0-Math.acos((b+g-w)/(2*x*M)))/2),$=A/M,P=A/x;Math.abs($-1)>hs&&this._append`L${e+$*d},${n+$*p}`,this._append`A${a},${a},0,0,${+(p*y>d*_)},${this._x1=e+P*c},${this._y1=n+P*f}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),f=e+u,d=n+c,p=1^o,g=o?i-a:a-i;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>hs||Math.abs(this._y1-d)>hs)&&this._append`L${f},${d}`,r&&(g<0&&(g=g%K0+K0),g>pB?this._append`A${r},${r},0,1,${p},${e-u},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=d}`:g>hs&&this._append`A${r},${r},0,${+(g>=X0)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Na(t=3){return new h3(+t)}function vB(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Rf(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Do(t){return t=Rf(Math.abs(t)),t?t[1]:NaN}function mB(t,e){return function(n,r){for(var i=n.length,a=[],o=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function yB(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var bB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nu(t){if(!(e=bB.exec(t)))throw new Error("invalid format: "+t);var e;return new Mv({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}nu.prototype=Mv.prototype;function Mv(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Mv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _B(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var d3;function wB(t,e){var n=Rf(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(d3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Rf(t,Math.max(0,e+a-1))[0]}function x_(t,e){var n=Rf(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const S_={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:vB,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>x_(t*100,e),r:x_,s:wB,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function M_(t){return t}var T_=Array.prototype.map,$_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xB(t){var e=t.grouping===void 0||t.thousands===void 0?M_:mB(T_.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?M_:yB(T_.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=nu(p);var g=p.fill,y=p.align,_=p.sign,b=p.symbol,w=p.zero,x=p.width,M=p.comma,A=p.precision,$=p.trim,P=p.type;P==="n"?(M=!0,P="g"):S_[P]||(A===void 0&&(A=12),$=!0,P="g"),(w||g==="0"&&y==="=")&&(w=!0,g="0",y="=");var L=b==="$"?n:b==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",F=b==="$"?r:/[%p]/.test(P)?o:"",V=S_[P],K=/[defgprs%]/.test(P);A=A===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function W(R){var et=L,j=F,C,z,U;if(P==="c")j=V(R)+j,R="";else{R=+R;var B=R<0||1/R<0;if(R=isNaN(R)?c:V(Math.abs(R),A),$&&(R=_B(R)),B&&+R==0&&_!=="+"&&(B=!1),et=(B?_==="("?_:u:_==="-"||_==="("?"":_)+et,j=(P==="s"?$_[8+d3/3]:"")+j+(B&&_==="("?")":""),K){for(C=-1,z=R.length;++C<z;)if(U=R.charCodeAt(C),48>U||U>57){j=(U===46?i+R.slice(C+1):R.slice(C))+j,R=R.slice(0,C);break}}}M&&!w&&(R=e(R,1/0));var at=et.length+R.length+j.length,Z=at<x?new Array(x-at+1).join(g):"";switch(M&&w&&(R=e(Z+R,Z.length?x-j.length:1/0),Z=""),y){case"<":R=et+R+j+Z;break;case"=":R=et+Z+R+j;break;case"^":R=Z.slice(0,at=Z.length>>1)+et+R+j+Z.slice(at);break;default:R=Z+et+R+j;break}return a(R)}return W.toString=function(){return p+""},W}function d(p,g){var y=f((p=nu(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(Do(g)/3)))*3,b=Math.pow(10,-_),w=$_[8+_/3];return function(x){return y(b*x)+w}}return{format:f,formatPrefix:d}}var Hc,Ds,p3;SB({thousands:",",grouping:[3],currency:["$",""]});function SB(t){return Hc=xB(t),Ds=Hc.format,p3=Hc.formatPrefix,Hc}function MB(t){return Math.max(0,-Do(Math.abs(t)))}function TB(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Do(e)/3)))*3-Do(Math.abs(t)))}function $B(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Do(e)-Do(t))+1}var ue=1e-6,AB=1e-12,he=Math.PI,je=he/2,A_=he/4,yr=he*2,Un=180/he,Ke=he/180,Ce=Math.abs,el=Math.atan,ca=Math.atan2,fe=Math.cos,g3=Math.exp,zf=Math.log,qp=Math.pow,re=Math.sin,Or=Math.sign||function(t){return t>0?1:t<0?-1:0},ir=Math.sqrt,Tv=Math.tan;function v3(t){return t>1?0:t<-1?he:Math.acos(t)}function Br(t){return t>1?je:t<-1?-je:Math.asin(t)}function Rr(){}function Ff(t,e){t&&E_.hasOwnProperty(t.type)&&E_[t.type](t,e)}var k_={Feature:function(t,e){Ff(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Ff(n[r].geometry,e)}},E_={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){j0(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)j0(n[r],e,0)},Polygon:function(t,e){C_(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)C_(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Ff(n[r],e)}};function j0(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function C_(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)j0(t[n],e,1);e.polygonEnd()}function ds(t,e){t&&k_.hasOwnProperty(t.type)?k_[t.type](t,e):Ff(t,e)}function Z0(t){return[ca(t[1],t[0]),Br(t[2])]}function Uo(t){var e=t[0],n=t[1],r=fe(n);return[r*fe(e),r*re(e),re(n)]}function Vc(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Bf(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Hp(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Yc(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Q0(t){var e=ir(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function J0(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function tg(t,e){return Ce(t)>he&&(t-=Math.round(t/yr)*yr),[t,e]}tg.invert=tg;function m3(t,e,n){return(t%=yr)?e||n?J0(P_(t),L_(e,n)):P_(t):e||n?L_(e,n):tg}function N_(t){return function(e,n){return e+=t,Ce(e)>he&&(e-=Math.round(e/yr)*yr),[e,n]}}function P_(t){var e=N_(t);return e.invert=N_(-t),e}function L_(t,e){var n=fe(t),r=re(t),i=fe(e),a=re(e);function o(u,c){var f=fe(c),d=fe(u)*f,p=re(u)*f,g=re(c),y=g*n+d*r;return[ca(p*i-y*a,d*n-g*r),Br(y*i+p*a)]}return o.invert=function(u,c){var f=fe(c),d=fe(u)*f,p=re(u)*f,g=re(c),y=g*i-p*a;return[ca(p*i+g*a,d*n+y*r),Br(y*n-d*r)]},o}function kB(t){t=m3(t[0]*Ke,t[1]*Ke,t.length>2?t[2]*Ke:0);function e(n){return n=t(n[0]*Ke,n[1]*Ke),n[0]*=Un,n[1]*=Un,n}return e.invert=function(n){return n=t.invert(n[0]*Ke,n[1]*Ke),n[0]*=Un,n[1]*=Un,n},e}function EB(t,e,n,r,i,a){if(n){var o=fe(e),u=re(e),c=r*n;i==null?(i=e+r*yr,a=e-c/2):(i=I_(o,i),a=I_(o,a),(r>0?i<a:i>a)&&(i+=r*yr));for(var f,d=i;r>0?d>a:d<a;d-=c)f=Z0([o,-u*fe(d),-u*re(d)]),t.point(f[0],f[1])}}function I_(t,e){e=Uo(e),e[0]-=t,Q0(e);var n=v3(-e[1]);return((-e[2]<0?-n:n)+yr-ue)%yr}function y3(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Rr,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function pf(t,e){return Ce(t[0]-e[0])<ue&&Ce(t[1]-e[1])<ue}function Gc(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function b3(t,e,n,r,i){var a=[],o=[],u,c;if(t.forEach(function(_){if(!((b=_.length-1)<=0)){var b,w=_[0],x=_[b],M;if(pf(w,x)){if(!w[2]&&!x[2]){for(i.lineStart(),u=0;u<b;++u)i.point((w=_[u])[0],w[1]);i.lineEnd();return}x[0]+=2*ue}a.push(M=new Gc(w,_,null,!0)),o.push(M.o=new Gc(w,null,M,!1)),a.push(M=new Gc(x,_,null,!1)),o.push(M.o=new Gc(x,null,M,!0))}}),!!a.length){for(o.sort(e),O_(a),O_(o),u=0,c=o.length;u<c;++u)o[u].e=n=!n;for(var f=a[0],d,p;;){for(var g=f,y=!0;g.v;)if((g=g.n)===f)return;d=g.z,i.lineStart();do{if(g.v=g.o.v=!0,g.e){if(y)for(u=0,c=d.length;u<c;++u)i.point((p=d[u])[0],p[1]);else r(g.x,g.n.x,1,i);g=g.n}else{if(y)for(d=g.p.z,u=d.length-1;u>=0;--u)i.point((p=d[u])[0],p[1]);else r(g.x,g.p.x,-1,i);g=g.p}g=g.o,d=g.z,y=!y}while(!g.v);i.lineEnd()}}}function O_(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Vp(t){return Ce(t[0])<=he?t[0]:Or(t[0])*((Ce(t[0])+he)%yr-he)}function CB(t,e){var n=Vp(e),r=e[1],i=re(r),a=[re(n),-fe(n),0],o=0,u=0,c=new Ts;i===1?r=je+ue:i===-1&&(r=-je-ue);for(var f=0,d=t.length;f<d;++f)if(g=(p=t[f]).length)for(var p,g,y=p[g-1],_=Vp(y),b=y[1]/2+A_,w=re(b),x=fe(b),M=0;M<g;++M,_=$,w=L,x=F,y=A){var A=p[M],$=Vp(A),P=A[1]/2+A_,L=re(P),F=fe(P),V=$-_,K=V>=0?1:-1,W=K*V,R=W>he,et=w*L;if(c.add(ca(et*K*re(W),x*F+et*fe(W))),o+=R?V+K*yr:V,R^_>=n^$>=n){var j=Bf(Uo(y),Uo(A));Q0(j);var C=Bf(a,j);Q0(C);var z=(R^V>=0?-1:1)*Br(C[2]);(r>z||r===z&&(j[0]||j[1]))&&(u+=R^V>=0?1:-1)}}return(o<-1e-6||o<ue&&c<-1e-12)^u&1}function _3(t,e,n,r){return function(i){var a=e(i),o=y3(),u=e(o),c=!1,f,d,p,g={point:y,lineStart:b,lineEnd:w,polygonStart:function(){g.point=x,g.lineStart=M,g.lineEnd=A,d=[],f=[]},polygonEnd:function(){g.point=y,g.lineStart=b,g.lineEnd=w,d=Ax(d);var $=CB(f,r);d.length?(c||(i.polygonStart(),c=!0),b3(d,PB,$,n,i)):$&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),d=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function y($,P){t($,P)&&i.point($,P)}function _($,P){a.point($,P)}function b(){g.point=_,a.lineStart()}function w(){g.point=y,a.lineEnd()}function x($,P){p.push([$,P]),u.point($,P)}function M(){u.lineStart(),p=[]}function A(){x(p[0][0],p[0][1]),u.lineEnd();var $=u.clean(),P=o.result(),L,F=P.length,V,K,W;if(p.pop(),f.push(p),p=null,!!F){if($&1){if(K=P[0],(V=K.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),L=0;L<V;++L)i.point((W=K[L])[0],W[1]);i.lineEnd()}return}F>1&&$&2&&P.push(P.pop().concat(P.shift())),d.push(P.filter(NB))}}return g}}function NB(t){return t.length>1}function PB(t,e){return((t=t.x)[0]<0?t[1]-je-ue:je-t[1])-((e=e.x)[0]<0?e[1]-je-ue:je-e[1])}const R_=_3(function(){return!0},LB,OB,[-he,-je]);function LB(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var u=a>0?he:-he,c=Ce(a-e);Ce(c-he)<ue?(t.point(e,n=(n+o)/2>0?je:-je),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(u,n),t.point(a,n),i=0):r!==u&&c>=he&&(Ce(e-r)<ue&&(e-=r*ue),Ce(a-u)<ue&&(a-=u*ue),n=IB(e,n,a,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(u,n),i=0),t.point(e=a,n=o),r=u},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function IB(t,e,n,r){var i,a,o=re(t-n);return Ce(o)>ue?el((re(e)*(a=fe(r))*re(n)-re(r)*(i=fe(e))*re(t))/(i*a*o)):(e+r)/2}function OB(t,e,n,r){var i;if(t==null)i=n*je,r.point(-he,i),r.point(0,i),r.point(he,i),r.point(he,0),r.point(he,-i),r.point(0,-i),r.point(-he,-i),r.point(-he,0),r.point(-he,i);else if(Ce(t[0]-e[0])>ue){var a=t[0]<e[0]?he:-he;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function RB(t){var e=fe(t),n=2*Ke,r=e>0,i=Ce(e)>ue;function a(d,p,g,y){EB(y,t,n,g,d,p)}function o(d,p){return fe(d)*fe(p)>e}function u(d){var p,g,y,_,b;return{lineStart:function(){_=y=!1,b=1},point:function(w,x){var M=[w,x],A,$=o(w,x),P=r?$?0:f(w,x):$?f(w+(w<0?he:-he),x):0;if(!p&&(_=y=$)&&d.lineStart(),$!==y&&(A=c(p,M),(!A||pf(p,A)||pf(M,A))&&(M[2]=1)),$!==y)b=0,$?(d.lineStart(),A=c(M,p),d.point(A[0],A[1])):(A=c(p,M),d.point(A[0],A[1],2),d.lineEnd()),p=A;else if(i&&p&&r^$){var L;!(P&g)&&(L=c(M,p,!0))&&(b=0,r?(d.lineStart(),d.point(L[0][0],L[0][1]),d.point(L[1][0],L[1][1]),d.lineEnd()):(d.point(L[1][0],L[1][1]),d.lineEnd(),d.lineStart(),d.point(L[0][0],L[0][1],3)))}$&&(!p||!pf(p,M))&&d.point(M[0],M[1]),p=M,y=$,g=P},lineEnd:function(){y&&d.lineEnd(),p=null},clean:function(){return b|(_&&y)<<1}}}function c(d,p,g){var y=Uo(d),_=Uo(p),b=[1,0,0],w=Bf(y,_),x=Vc(w,w),M=w[0],A=x-M*M;if(!A)return!g&&d;var $=e*x/A,P=-e*M/A,L=Bf(b,w),F=Yc(b,$),V=Yc(w,P);Hp(F,V);var K=L,W=Vc(F,K),R=Vc(K,K),et=W*W-R*(Vc(F,F)-1);if(!(et<0)){var j=ir(et),C=Yc(K,(-W-j)/R);if(Hp(C,F),C=Z0(C),!g)return C;var z=d[0],U=p[0],B=d[1],at=p[1],Z;U<z&&(Z=z,z=U,U=Z);var I=U-z,E=Ce(I-he)<ue,H=E||I<ue;if(!E&&at<B&&(Z=B,B=at,at=Z),H?E?B+at>0^C[1]<(Ce(C[0]-z)<ue?B:at):B<=C[1]&&C[1]<=at:I>he^(z<=C[0]&&C[0]<=U)){var Y=Yc(K,(-W+j)/R);return Hp(Y,F),[C,Z0(Y)]}}}function f(d,p){var g=r?t:he-t,y=0;return d<-g?y|=1:d>g&&(y|=2),p<-g?y|=4:p>g&&(y|=8),y}return _3(o,u,a,r?[0,-t]:[-he,t-he])}function zB(t,e,n,r,i,a){var o=t[0],u=t[1],c=e[0],f=e[1],d=0,p=1,g=c-o,y=f-u,_;if(_=n-o,!(!g&&_>0)){if(_/=g,g<0){if(_<d)return;_<p&&(p=_)}else if(g>0){if(_>p)return;_>d&&(d=_)}if(_=i-o,!(!g&&_<0)){if(_/=g,g<0){if(_>p)return;_>d&&(d=_)}else if(g>0){if(_<d)return;_<p&&(p=_)}if(_=r-u,!(!y&&_>0)){if(_/=y,y<0){if(_<d)return;_<p&&(p=_)}else if(y>0){if(_>p)return;_>d&&(d=_)}if(_=a-u,!(!y&&_<0)){if(_/=y,y<0){if(_>p)return;_>d&&(d=_)}else if(y>0){if(_<d)return;_<p&&(p=_)}return d>0&&(t[0]=o+d*g,t[1]=u+d*y),p<1&&(e[0]=o+p*g,e[1]=u+p*y),!0}}}}}var Xc=1e9,Kc=-1e9;function w3(t,e,n,r){function i(f,d){return t<=f&&f<=n&&e<=d&&d<=r}function a(f,d,p,g){var y=0,_=0;if(f==null||(y=o(f,p))!==(_=o(d,p))||c(f,d)<0^p>0)do g.point(y===0||y===3?t:n,y>1?r:e);while((y=(y+p+4)%4)!==_);else g.point(d[0],d[1])}function o(f,d){return Ce(f[0]-t)<ue?d>0?0:3:Ce(f[0]-n)<ue?d>0?2:1:Ce(f[1]-e)<ue?d>0?1:0:d>0?3:2}function u(f,d){return c(f.x,d.x)}function c(f,d){var p=o(f,1),g=o(d,1);return p!==g?p-g:p===0?d[1]-f[1]:p===1?f[0]-d[0]:p===2?f[1]-d[1]:d[0]-f[0]}return function(f){var d=f,p=y3(),g,y,_,b,w,x,M,A,$,P,L,F={point:V,lineStart:et,lineEnd:j,polygonStart:W,polygonEnd:R};function V(z,U){i(z,U)&&d.point(z,U)}function K(){for(var z=0,U=0,B=y.length;U<B;++U)for(var at=y[U],Z=1,I=at.length,E=at[0],H,Y,J=E[0],ht=E[1];Z<I;++Z)H=J,Y=ht,E=at[Z],J=E[0],ht=E[1],Y<=r?ht>r&&(J-H)*(r-Y)>(ht-Y)*(t-H)&&++z:ht<=r&&(J-H)*(r-Y)<(ht-Y)*(t-H)&&--z;return z}function W(){d=p,g=[],y=[],L=!0}function R(){var z=K(),U=L&&z,B=(g=Ax(g)).length;(U||B)&&(f.polygonStart(),U&&(f.lineStart(),a(null,null,1,f),f.lineEnd()),B&&b3(g,u,z,a,f),f.polygonEnd()),d=f,g=y=_=null}function et(){F.point=C,y&&y.push(_=[]),P=!0,$=!1,M=A=NaN}function j(){g&&(C(b,w),x&&$&&p.rejoin(),g.push(p.result())),F.point=V,$&&d.lineEnd()}function C(z,U){var B=i(z,U);if(y&&_.push([z,U]),P)b=z,w=U,x=B,P=!1,B&&(d.lineStart(),d.point(z,U));else if(B&&$)d.point(z,U);else{var at=[M=Math.max(Kc,Math.min(Xc,M)),A=Math.max(Kc,Math.min(Xc,A))],Z=[z=Math.max(Kc,Math.min(Xc,z)),U=Math.max(Kc,Math.min(Xc,U))];zB(at,Z,t,e,n,r)?($||(d.lineStart(),d.point(at[0],at[1])),d.point(Z[0],Z[1]),B||d.lineEnd(),L=!1):B&&(d.lineStart(),d.point(z,U),L=!1)}M=z,A=U,$=B}return F}}const eg=t=>t;var Yp=new Ts,ng=new Ts,x3,S3,rg,ig,Qi={point:Rr,lineStart:Rr,lineEnd:Rr,polygonStart:function(){Qi.lineStart=FB,Qi.lineEnd=DB},polygonEnd:function(){Qi.lineStart=Qi.lineEnd=Qi.point=Rr,Yp.add(Ce(ng)),ng=new Ts},result:function(){var t=Yp/2;return Yp=new Ts,t}};function FB(){Qi.point=BB}function BB(t,e){Qi.point=M3,x3=rg=t,S3=ig=e}function M3(t,e){ng.add(ig*t-rg*e),rg=t,ig=e}function DB(){M3(x3,S3)}var Wo=1/0,Df=Wo,ru=-Wo,Uf=ru,Wf={point:UB,lineStart:Rr,lineEnd:Rr,polygonStart:Rr,polygonEnd:Rr,result:function(){var t=[[Wo,Df],[ru,Uf]];return ru=Uf=-(Df=Wo=1/0),t}};function UB(t,e){t<Wo&&(Wo=t),t>ru&&(ru=t),e<Df&&(Df=e),e>Uf&&(Uf=e)}var ag=0,sg=0,zl=0,qf=0,Hf=0,Mo=0,og=0,lg=0,Fl=0,T3,$3,di,pi,Ir={point:Ns,lineStart:z_,lineEnd:F_,polygonStart:function(){Ir.lineStart=HB,Ir.lineEnd=VB},polygonEnd:function(){Ir.point=Ns,Ir.lineStart=z_,Ir.lineEnd=F_},result:function(){var t=Fl?[og/Fl,lg/Fl]:Mo?[qf/Mo,Hf/Mo]:zl?[ag/zl,sg/zl]:[NaN,NaN];return ag=sg=zl=qf=Hf=Mo=og=lg=Fl=0,t}};function Ns(t,e){ag+=t,sg+=e,++zl}function z_(){Ir.point=WB}function WB(t,e){Ir.point=qB,Ns(di=t,pi=e)}function qB(t,e){var n=t-di,r=e-pi,i=ir(n*n+r*r);qf+=i*(di+t)/2,Hf+=i*(pi+e)/2,Mo+=i,Ns(di=t,pi=e)}function F_(){Ir.point=Ns}function HB(){Ir.point=YB}function VB(){A3(T3,$3)}function YB(t,e){Ir.point=A3,Ns(T3=di=t,$3=pi=e)}function A3(t,e){var n=t-di,r=e-pi,i=ir(n*n+r*r);qf+=i*(di+t)/2,Hf+=i*(pi+e)/2,Mo+=i,i=pi*t-di*e,og+=i*(di+t),lg+=i*(pi+e),Fl+=i*3,Ns(di=t,pi=e)}function k3(t){this._context=t}k3.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,yr);break}}},result:Rr};var ug=new Ts,Gp,E3,C3,Bl,Dl,iu={point:Rr,lineStart:function(){iu.point=GB},lineEnd:function(){Gp&&N3(E3,C3),iu.point=Rr},polygonStart:function(){Gp=!0},polygonEnd:function(){Gp=null},result:function(){var t=+ug;return ug=new Ts,t}};function GB(t,e){iu.point=N3,E3=Bl=t,C3=Dl=e}function N3(t,e){Bl-=t,Dl-=e,ug.add(ir(Bl*Bl+Dl*Dl)),Bl=t,Dl=e}let B_,Vf,D_,U_;class W_{constructor(e){this._append=e==null?P3:XB(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==D_||this._append!==Vf){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,D_=r,Vf=this._append,U_=this._,this._=i}this._+=U_;break}}}result(){const e=this._;return this._="",e.length?e:null}}function P3(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function XB(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return P3;if(e!==B_){const n=10**e;B_=e,Vf=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return Vf}function $v(t,e){let n=3,r=4.5,i,a;function o(u){return u&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),ds(u,i(a))),a.result()}return o.area=function(u){return ds(u,i(Qi)),Qi.result()},o.measure=function(u){return ds(u,i(iu)),iu.result()},o.bounds=function(u){return ds(u,i(Wf)),Wf.result()},o.centroid=function(u){return ds(u,i(Ir)),Ir.result()},o.projection=function(u){return arguments.length?(i=u==null?(t=null,eg):(t=u).stream,o):t},o.context=function(u){return arguments.length?(a=u==null?(e=null,new W_(n)):new k3(e=u),typeof r!="function"&&a.pointRadius(r),o):e},o.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(a.pointRadius(+u),+u),o):r},o.digits=function(u){if(!arguments.length)return n;if(u==null)n=null;else{const c=Math.floor(u);if(!(c>=0))throw new RangeError(`invalid digits: ${u}`);n=c}return e===null&&(a=new W_(n)),o},o.projection(t).digits(n).context(e)}function Yf(t){return{stream:Ph(t)}}function Ph(t){return function(e){var n=new cg;for(var r in t)n[r]=t[r];return n.stream=e,n}}function cg(){}cg.prototype={constructor:cg,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Av(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),ds(n,t.stream(Wf)),e(Wf.result()),r!=null&&t.clipExtent(r),t}function kv(t,e,n){return Av(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),u=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,c=+e[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([u,c])},n)}function L3(t,e,n){return kv(t,[[0,0],e],n)}function I3(t,e,n){return Av(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,u=-a*r[0][1];t.scale(150*a).translate([o,u])},n)}function O3(t,e,n){return Av(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],u=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,u])},n)}var q_=16,KB=fe(30*Ke);function H_(t,e){return+e?ZB(t,e):jB(t)}function jB(t){return Ph({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function ZB(t,e){function n(r,i,a,o,u,c,f,d,p,g,y,_,b,w){var x=f-r,M=d-i,A=x*x+M*M;if(A>4*e&&b--){var $=o+g,P=u+y,L=c+_,F=ir($*$+P*P+L*L),V=Br(L/=F),K=Ce(Ce(L)-1)<ue||Ce(a-p)<ue?(a+p)/2:ca(P,$),W=t(K,V),R=W[0],et=W[1],j=R-r,C=et-i,z=M*j-x*C;(z*z/A>e||Ce((x*j+M*C)/A-.5)>.3||o*g+u*y+c*_<KB)&&(n(r,i,a,o,u,c,R,et,K,$/=F,P/=F,L,b,w),w.point(R,et),n(R,et,K,$,P,L,f,d,p,g,y,_,b,w))}}return function(r){var i,a,o,u,c,f,d,p,g,y,_,b,w={point:x,lineStart:M,lineEnd:$,polygonStart:function(){r.polygonStart(),w.lineStart=P},polygonEnd:function(){r.polygonEnd(),w.lineStart=M}};function x(V,K){V=t(V,K),r.point(V[0],V[1])}function M(){p=NaN,w.point=A,r.lineStart()}function A(V,K){var W=Uo([V,K]),R=t(V,K);n(p,g,d,y,_,b,p=R[0],g=R[1],d=V,y=W[0],_=W[1],b=W[2],q_,r),r.point(p,g)}function $(){w.point=x,r.lineEnd()}function P(){M(),w.point=L,w.lineEnd=F}function L(V,K){A(i=V,K),a=p,o=g,u=y,c=_,f=b,w.point=A}function F(){n(p,g,d,y,_,b,a,o,i,u,c,f,q_,r),w.lineEnd=$,$()}return w}}var QB=Ph({point:function(t,e){this.stream.point(t*Ke,e*Ke)}});function JB(t){return Ph({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function tD(t,e,n,r,i){function a(o,u){return o*=r,u*=i,[e+t*o,n-t*u]}return a.invert=function(o,u){return[(o-e)/t*r,(n-u)/t*i]},a}function V_(t,e,n,r,i,a){if(!a)return tD(t,e,n,r,i);var o=fe(a),u=re(a),c=o*t,f=u*t,d=o/t,p=u/t,g=(u*n-o*e)/t,y=(u*e+o*n)/t;function _(b,w){return b*=r,w*=i,[c*b-f*w+e,n-f*b-c*w]}return _.invert=function(b,w){return[r*(d*b-p*w+g),i*(y-p*b-d*w)]},_}function ja(t){return R3(function(){return t})()}function R3(t){var e,n=150,r=480,i=250,a=0,o=0,u=0,c=0,f=0,d,p=0,g=1,y=1,_=null,b=R_,w=null,x,M,A,$=eg,P=.5,L,F,V,K,W;function R(z){return V(z[0]*Ke,z[1]*Ke)}function et(z){return z=V.invert(z[0],z[1]),z&&[z[0]*Un,z[1]*Un]}R.stream=function(z){return K&&W===z?K:K=QB(JB(d)(b(L($(W=z)))))},R.preclip=function(z){return arguments.length?(b=z,_=void 0,C()):b},R.postclip=function(z){return arguments.length?($=z,w=x=M=A=null,C()):$},R.clipAngle=function(z){return arguments.length?(b=+z?RB(_=z*Ke):(_=null,R_),C()):_*Un},R.clipExtent=function(z){return arguments.length?($=z==null?(w=x=M=A=null,eg):w3(w=+z[0][0],x=+z[0][1],M=+z[1][0],A=+z[1][1]),C()):w==null?null:[[w,x],[M,A]]},R.scale=function(z){return arguments.length?(n=+z,j()):n},R.translate=function(z){return arguments.length?(r=+z[0],i=+z[1],j()):[r,i]},R.center=function(z){return arguments.length?(a=z[0]%360*Ke,o=z[1]%360*Ke,j()):[a*Un,o*Un]},R.rotate=function(z){return arguments.length?(u=z[0]%360*Ke,c=z[1]%360*Ke,f=z.length>2?z[2]%360*Ke:0,j()):[u*Un,c*Un,f*Un]},R.angle=function(z){return arguments.length?(p=z%360*Ke,j()):p*Un},R.reflectX=function(z){return arguments.length?(g=z?-1:1,j()):g<0},R.reflectY=function(z){return arguments.length?(y=z?-1:1,j()):y<0},R.precision=function(z){return arguments.length?(L=H_(F,P=z*z),C()):ir(P)},R.fitExtent=function(z,U){return kv(R,z,U)},R.fitSize=function(z,U){return L3(R,z,U)},R.fitWidth=function(z,U){return I3(R,z,U)},R.fitHeight=function(z,U){return O3(R,z,U)};function j(){var z=V_(n,0,0,g,y,p).apply(null,e(a,o)),U=V_(n,r-z[0],i-z[1],g,y,p);return d=m3(u,c,f),F=J0(e,U),V=J0(d,F),L=H_(F,P),C()}function C(){return K=W=null,R}return function(){return e=t.apply(this,arguments),R.invert=e.invert&&et,j()}}function Ev(t){var e=0,n=he/3,r=R3(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*Ke,n=a[1]*Ke):[e*Un,n*Un]},i}function eD(t){var e=fe(t);function n(r,i){return[r*e,re(i)/e]}return n.invert=function(r,i){return[r/e,Br(i*e)]},n}function nD(t,e){var n=re(t),r=(n+re(e))/2;if(Ce(r)<ue)return eD(t);var i=1+n*(2*r-n),a=ir(i)/r;function o(u,c){var f=ir(i-2*r*re(c))/r;return[f*re(u*=r),a-f*fe(u)]}return o.invert=function(u,c){var f=a-c,d=ca(u,Ce(f))*Or(f);return f*r<0&&(d-=he*Or(u)*Or(f)),[d/r,Br((i-(u*u+f*f)*r*r)/(2*r))]},o}function Gf(){return Ev(nD).scale(155.424).center([0,33.6442])}function z3(){return Gf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function rD(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function iD(){var t,e,n=z3(),r,i=Gf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=Gf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u,c,f={point:function(g,y){c=[g,y]}};function d(g){var y=g[0],_=g[1];return c=null,r.point(y,_),c||(a.point(y,_),c)||(u.point(y,_),c)}d.invert=function(g){var y=n.scale(),_=n.translate(),b=(g[0]-_[0])/y,w=(g[1]-_[1])/y;return(w>=.12&&w<.234&&b>=-.425&&b<-.214?i:w>=.166&&w<.234&&b>=-.214&&b<-.115?o:n).invert(g)},d.stream=function(g){return t&&e===g?t:t=rD([n.stream(e=g),i.stream(g),o.stream(g)])},d.precision=function(g){return arguments.length?(n.precision(g),i.precision(g),o.precision(g),p()):n.precision()},d.scale=function(g){return arguments.length?(n.scale(g),i.scale(g*.35),o.scale(g),d.translate(n.translate())):n.scale()},d.translate=function(g){if(!arguments.length)return n.translate();var y=n.scale(),_=+g[0],b=+g[1];return r=n.translate(g).clipExtent([[_-.455*y,b-.238*y],[_+.455*y,b+.238*y]]).stream(f),a=i.translate([_-.307*y,b+.201*y]).clipExtent([[_-.425*y+ue,b+.12*y+ue],[_-.214*y-ue,b+.234*y-ue]]).stream(f),u=o.translate([_-.205*y,b+.212*y]).clipExtent([[_-.214*y+ue,b+.166*y+ue],[_-.115*y-ue,b+.234*y-ue]]).stream(f),p()},d.fitExtent=function(g,y){return kv(d,g,y)},d.fitSize=function(g,y){return L3(d,g,y)},d.fitWidth=function(g,y){return I3(d,g,y)},d.fitHeight=function(g,y){return O3(d,g,y)};function p(){return t=e=null,d}return d.scale(1070)}function F3(t){return function(e,n){var r=fe(e),i=fe(n),a=t(r*i);return a===1/0?[2,0]:[a*i*re(e),a*re(n)]}}function $u(t){return function(e,n){var r=ir(e*e+n*n),i=t(r),a=re(i),o=fe(i);return[ca(e*a,r*o),Br(r&&n*a/r)]}}var B3=F3(function(t){return ir(2/(1+t))});B3.invert=$u(function(t){return 2*Br(t/2)});function aD(){return ja(B3).scale(124.75).clipAngle(180-.001)}var D3=F3(function(t){return(t=v3(t))&&t/re(t)});D3.invert=$u(function(t){return t});function sD(){return ja(D3).scale(79.4188).clipAngle(180-.001)}function Lh(t,e){return[t,zf(Tv((je+e)/2))]}Lh.invert=function(t,e){return[t,2*el(g3(e))-je]};function oD(){return U3(Lh).scale(961/yr)}function U3(t){var e=ja(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,o=null,u,c,f;e.scale=function(p){return arguments.length?(r(p),d()):r()},e.translate=function(p){return arguments.length?(i(p),d()):i()},e.center=function(p){return arguments.length?(n(p),d()):n()},e.clipExtent=function(p){return arguments.length?(p==null?o=u=c=f=null:(o=+p[0][0],u=+p[0][1],c=+p[1][0],f=+p[1][1]),d()):o==null?null:[[o,u],[c,f]]};function d(){var p=he*r(),g=e(kB(e.rotate()).invert([0,0]));return a(o==null?[[g[0]-p,g[1]-p],[g[0]+p,g[1]+p]]:t===Lh?[[Math.max(g[0]-p,o),u],[Math.min(g[0]+p,c),f]]:[[o,Math.max(g[1]-p,u)],[c,Math.min(g[1]+p,f)]])}return d()}function jc(t){return Tv((je+t)/2)}function lD(t,e){var n=fe(t),r=t===e?re(t):zf(n/fe(e))/zf(jc(e)/jc(t)),i=n*qp(jc(t),r)/r;if(!r)return Lh;function a(o,u){i>0?u<-je+ue&&(u=-je+ue):u>je-ue&&(u=je-ue);var c=i/qp(jc(u),r);return[c*re(r*o),i-c*fe(r*o)]}return a.invert=function(o,u){var c=i-u,f=Or(r)*ir(o*o+c*c),d=ca(o,Ce(c))*Or(c);return c*r<0&&(d-=he*Or(o)*Or(c)),[d/r,2*el(qp(i/f,1/r))-je]},a}function uD(){return Ev(lD).scale(109.5).parallels([30,30])}function Xf(t,e){return[t,e]}Xf.invert=Xf;function cD(){return ja(Xf).scale(152.63)}function fD(t,e){var n=fe(t),r=t===e?re(t):(n-fe(e))/(e-t),i=n/r+t;if(Ce(r)<ue)return Xf;function a(o,u){var c=i-u,f=r*o;return[c*re(f),i-c*fe(f)]}return a.invert=function(o,u){var c=i-u,f=ca(o,Ce(c))*Or(c);return c*r<0&&(f-=he*Or(o)*Or(c)),[f/r,i-Or(r)*ir(o*o+c*c)]},a}function hD(){return Ev(fD).scale(131.154).center([0,13.9389])}var Vl=1.340264,Yl=-.081106,Gl=893e-6,Xl=.003796,Kf=ir(3)/2,dD=12;function W3(t,e){var n=Br(Kf*re(e)),r=n*n,i=r*r*r;return[t*fe(n)/(Kf*(Vl+3*Yl*r+i*(7*Gl+9*Xl*r))),n*(Vl+Yl*r+i*(Gl+Xl*r))]}W3.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,o,u,c;a<dD&&(u=n*(Vl+Yl*r+i*(Gl+Xl*r))-e,c=Vl+3*Yl*r+i*(7*Gl+9*Xl*r),n-=o=u/c,r=n*n,i=r*r*r,!(Ce(o)<AB));++a);return[Kf*t*(Vl+3*Yl*r+i*(7*Gl+9*Xl*r))/fe(n),Br(re(n)/Kf)]};function pD(){return ja(W3).scale(177.158)}function q3(t,e){var n=fe(e),r=fe(t)*n;return[n*re(t)/r,re(e)/r]}q3.invert=$u(el);function gD(){return ja(q3).scale(144.049).clipAngle(60)}function H3(t,e){return[fe(e)*re(t),re(e)]}H3.invert=$u(Br);function vD(){return ja(H3).scale(249.5).clipAngle(90+ue)}function V3(t,e){var n=fe(e),r=1+fe(t)*n;return[n*re(t)/r,re(e)/r]}V3.invert=$u(function(t){return 2*el(t)});function mD(){return ja(V3).scale(250).clipAngle(142)}function Y3(t,e){return[zf(Tv((je+e)/2)),-t]}Y3.invert=function(t,e){return[-e,2*el(g3(t))-je]};function yD(){var t=U3(Y3),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function bD(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function _D(){return this.eachAfter(bD)}function wD(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function xD(t,e){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(t.call(e,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function SD(t,e){for(var n=this,r=[n],i=[],a,o,u,c=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,u=a.length;o<u;++o)r.push(a[o]);for(;n=i.pop();)t.call(e,n,++c,this);return this}function MD(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function TD(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function $D(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function AD(t){for(var e=this,n=kD(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function kD(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function ED(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function CD(){return Array.from(this)}function ND(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function PD(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*LD(){var t=this,e,n=[t],r,i,a;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function _s(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=RD)):e===void 0&&(e=OD);for(var n=new jf(t),r,i=[n],a,o,u,c;r=i.pop();)if((o=e(r.data))&&(c=(o=Array.from(o)).length))for(r.children=o,u=c-1;u>=0;--u)i.push(a=o[u]=new jf(o[u])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(FD)}function ID(){return _s(this).eachBefore(zD)}function OD(t){return t.children}function RD(t){return Array.isArray(t)?t[1]:null}function zD(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function FD(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function jf(t){this.data=t,this.depth=this.height=0,this.parent=null}jf.prototype=_s.prototype={constructor:jf,count:_D,each:wD,eachAfter:SD,eachBefore:xD,find:MD,sum:TD,sort:$D,path:AD,ancestors:ED,descendants:CD,leaves:ND,links:PD,copy:ID,[Symbol.iterator]:LD};function Li(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Au(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const fg=Symbol("implicit");function Ih(){var t=new $s,e=[],n=[],r=fg;function i(a){let o=t.get(a);if(o===void 0){if(r!==fg)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new $s;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Ih(e,n).unknown(r)},Li.apply(i,arguments),i}function Oh(){var t=Ih().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,u=!1,c=0,f=0,d=.5;delete t.unknown;function p(){var g=e().length,y=i<r,_=y?i:r,b=y?r:i;a=(b-_)/Math.max(1,g-c+f*2),u&&(a=Math.floor(a)),_+=(b-_-a*(g-c))*d,o=a*(1-c),u&&(_=Math.round(_),o=Math.round(o));var w=I0(g).map(function(x){return _+a*x});return n(y?w.reverse():w)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(g){return arguments.length?(u=!!g,p()):u},t.padding=function(g){return arguments.length?(c=Math.min(1,f=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},t.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),p()):d},t.copy=function(){return Oh(e(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(d)},Li.apply(p(),arguments)}function G3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return G3(e())},t}function BD(){return G3(Oh.apply(null,arguments).paddingInner(1))}function DD(t){return function(){return t}}function hg(t){return+t}var Y_=[0,1];function tr(t){return t}function dg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:DD(isNaN(e)?NaN:.5)}function UD(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function WD(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=dg(i,r),a=n(o,a)):(r=dg(r,i),a=n(a,o)),function(u){return a(r(u))}}function qD(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=dg(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(u){var c=wh(t,u,1,r)-1;return a[c](i[c](u))}}function ku(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Rh(){var t=Y_,e=Y_,n=Bs,r,i,a,o=tr,u,c,f;function d(){var g=Math.min(t.length,e.length);return o!==tr&&(o=UD(t[0],t[g-1])),u=g>2?qD:WD,c=f=null,p}function p(g){return g==null||isNaN(g=+g)?a:(c||(c=u(t.map(r),e,n)))(r(o(g)))}return p.invert=function(g){return o(i((f||(f=u(e,t.map(r),En)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,hg),d()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=kh,d()},p.clamp=function(g){return arguments.length?(o=g?!0:tr,d()):o!==tr},p.interpolate=function(g){return arguments.length?(n=g,d()):n},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,y){return r=g,i=y,d()}}function X3(){return Rh()(tr,tr)}function HD(t,e,n,r){var i=P0(t,e,n),a;switch(r=nu(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=TB(i,o))&&(r.precision=a),p3(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=$B(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=MB(i))&&(r.precision=a-(r.type==="%")*2);break}}return Ds(r)}function nl(t){var e=t.domain;return t.ticks=function(n){var r=e();return Zl(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return HD(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],u=r[a],c,f,d=10;for(u<o&&(f=o,o=u,u=f,f=i,i=a,a=f);d-- >0;){if(f=kf(o,u,n),f===c)return r[i]=o,r[a]=u,e(r);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function zh(){var t=X3();return t.copy=function(){return ku(t,zh())},Li.apply(t,arguments),nl(t)}function K3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,hg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return K3(t).unknown(e)},t=arguments.length?Array.from(t,hg):[0,1],nl(n)}function j3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function G_(t){return Math.log(t)}function X_(t){return Math.exp(t)}function VD(t){return-Math.log(-t)}function YD(t){return-Math.exp(-t)}function GD(t){return isFinite(t)?+("1e"+t):t<0?0:t}function XD(t){return t===10?GD:t===Math.E?Math.exp:e=>Math.pow(t,e)}function KD(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function K_(t){return(e,n)=>-t(-e,n)}function Z3(t){const e=t(G_,X_),n=e.domain;let r=10,i,a;function o(){return i=KD(r),a=XD(r),n()[0]<0?(i=K_(i),a=K_(a),t(VD,YD)):t(G_,X_),e}return e.base=function(u){return arguments.length?(r=+u,o()):r},e.domain=function(u){return arguments.length?(n(u),o()):n()},e.ticks=u=>{const c=n();let f=c[0],d=c[c.length-1];const p=d<f;p&&([f,d]=[d,f]);let g=i(f),y=i(d),_,b;const w=u==null?10:+u;let x=[];if(!(r%1)&&y-g<w){if(g=Math.floor(g),y=Math.ceil(y),f>0){for(;g<=y;++g)for(_=1;_<r;++_)if(b=g<0?_/a(-g):_*a(g),!(b<f)){if(b>d)break;x.push(b)}}else for(;g<=y;++g)for(_=r-1;_>=1;--_)if(b=g>0?_/a(-g):_*a(g),!(b<f)){if(b>d)break;x.push(b)}x.length*2<w&&(x=Zl(f,d,w))}else x=Zl(g,y,Math.min(y-g,w)).map(a);return p?x.reverse():x},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=nu(c)).precision==null&&(c.trim=!0),c=Ds(c)),u===1/0)return c;const f=Math.max(1,r*u/e.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=f?c(d):""}},e.nice=()=>n(j3(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function Q3(){const t=Z3(Rh()).domain([1,10]);return t.copy=()=>ku(t,Q3()).base(t.base()),Li.apply(t,arguments),t}function j_(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Z_(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function J3(t){var e=1,n=t(j_(e),Z_(e));return n.constant=function(r){return arguments.length?t(j_(e=+r),Z_(e)):e},nl(n)}function t5(){var t=J3(Rh());return t.copy=function(){return ku(t,t5()).constant(t.constant())},Li.apply(t,arguments)}function Q_(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function jD(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ZD(t){return t<0?-t*t:t*t}function e5(t){var e=t(tr,tr),n=1;function r(){return n===1?t(tr,tr):n===.5?t(jD,ZD):t(Q_(n),Q_(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},nl(e)}function n5(){var t=e5(Rh());return t.copy=function(){return ku(t,n5()).exponent(t.exponent())},Li.apply(t,arguments),t}function r5(){var t=[],e=[],n=[],r;function i(){var o=0,u=Math.max(1,e.length);for(n=new Array(u-1);++o<u;)n[o-1]=uO(t,o/u);return a}function a(o){return o==null||isNaN(o=+o)?r:e[wh(n,o)]}return a.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(nr),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return r5().domain(t).range(e).unknown(r)},Li.apply(a,arguments)}function i5(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[wh(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return i5().domain(t).range(e).unknown(n)},Li.apply(i,arguments)}const Xp=new Date,Kp=new Date;function fn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return c;let f;do c.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<o);return c},i.filter=a=>fn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!a(o););else for(;--u>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(Xp.setTime(+a),Kp.setTime(+o),t(Xp),t(Kp),Math.floor(n(Xp,Kp))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Zf=fn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Zf.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?fn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Zf);Zf.range;const ta=1e3,zr=ta*60,ea=zr*60,fa=ea*24,Cv=fa*7,J_=fa*30,jp=fa*365,Kr=fn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ta)},(t,e)=>(e-t)/ta,t=>t.getUTCSeconds());Kr.range;const Eu=fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ta)},(t,e)=>{t.setTime(+t+e*zr)},(t,e)=>(e-t)/zr,t=>t.getMinutes());Eu.range;const Cu=fn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*zr)},(t,e)=>(e-t)/zr,t=>t.getUTCMinutes());Cu.range;const Nu=fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ta-t.getMinutes()*zr)},(t,e)=>{t.setTime(+t+e*ea)},(t,e)=>(e-t)/ea,t=>t.getHours());Nu.range;const Pu=fn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ea)},(t,e)=>(e-t)/ea,t=>t.getUTCHours());Pu.range;const Us=fn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zr)/fa,t=>t.getDate()-1);Us.range;const Fh=fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fa,t=>t.getUTCDate()-1);Fh.range;const Bh=fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fa,t=>Math.floor(t/fa));Bh.range;function Ws(t){return fn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*zr)/Cv)}const qo=Ws(0),au=Ws(1),a5=Ws(2),s5=Ws(3),Ps=Ws(4),o5=Ws(5),l5=Ws(6);qo.range;au.range;a5.range;s5.range;Ps.range;o5.range;l5.range;function qs(t){return fn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Cv)}const Ho=qs(0),su=qs(1),u5=qs(2),c5=qs(3),Ls=qs(4),f5=qs(5),h5=qs(6);Ho.range;su.range;u5.range;c5.range;Ls.range;f5.range;h5.range;const Lu=fn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Lu.range;const Iu=fn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Iu.range;const ti=fn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ti.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ti.range;const ei=fn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ei.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ei.range;function d5(t,e,n,r,i,a){const o=[[Kr,1,ta],[Kr,5,5*ta],[Kr,15,15*ta],[Kr,30,30*ta],[a,1,zr],[a,5,5*zr],[a,15,15*zr],[a,30,30*zr],[i,1,ea],[i,3,3*ea],[i,6,6*ea],[i,12,12*ea],[r,1,fa],[r,2,2*fa],[n,1,Cv],[e,1,J_],[e,3,3*J_],[t,1,jp]];function u(f,d,p){const g=d<f;g&&([f,d]=[d,f]);const y=p&&typeof p.range=="function"?p:c(f,d,p),_=y?y.range(f,+d+1):[];return g?_.reverse():_}function c(f,d,p){const g=Math.abs(d-f)/p,y=_h(([,,w])=>w).right(o,g);if(y===o.length)return t.every(P0(f/jp,d/jp,p));if(y===0)return Zf.every(Math.max(P0(f,d,p),1));const[_,b]=o[g/o[y-1][2]<o[y][2]/g?y-1:y];return _.every(b)}return[u,c]}const[QD,p5]=d5(ei,Iu,Ho,Bh,Pu,Cu),[JD,tU]=d5(ti,Lu,qo,Us,Nu,Eu);function Zp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Qp(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Al(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function eU(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,c=t.shortMonths,f=kl(i),d=El(i),p=kl(a),g=El(a),y=kl(o),_=El(o),b=kl(u),w=El(u),x=kl(c),M=El(c),A={a:B,A:at,b:Z,B:I,c:null,d:a2,e:a2,f:MU,g:IU,G:RU,H:wU,I:xU,j:SU,L:g5,m:TU,M:$U,p:E,q:H,Q:l2,s:u2,S:AU,u:kU,U:EU,V:CU,w:NU,W:PU,x:null,X:null,y:LU,Y:OU,Z:zU,"%":o2},$={a:Y,A:J,b:ht,B:nt,c:null,d:s2,e:s2,f:UU,g:ZU,G:JU,H:FU,I:BU,j:DU,L:m5,m:WU,M:qU,p:rt,q:lt,Q:l2,s:u2,S:HU,u:VU,U:YU,V:GU,w:XU,W:KU,x:null,X:null,y:jU,Y:QU,Z:tW,"%":o2},P={a:W,A:R,b:et,B:j,c:C,d:r2,e:r2,f:mU,g:n2,G:e2,H:i2,I:i2,j:dU,L:vU,m:hU,M:pU,p:K,q:fU,Q:bU,s:_U,S:gU,u:sU,U:oU,V:lU,w:aU,W:uU,x:z,X:U,y:n2,Y:e2,Z:cU,"%":yU};A.x=L(n,A),A.X=L(r,A),A.c=L(e,A),$.x=L(n,$),$.X=L(r,$),$.c=L(e,$);function L(tt,ot){return function(_t){var Q=[],At=-1,vt=0,St=tt.length,zt,mt,Nt;for(_t instanceof Date||(_t=new Date(+_t));++At<St;)tt.charCodeAt(At)===37&&(Q.push(tt.slice(vt,At)),(mt=t2[zt=tt.charAt(++At)])!=null?zt=tt.charAt(++At):mt=zt==="e"?" ":"0",(Nt=ot[zt])&&(zt=Nt(_t,mt)),Q.push(zt),vt=At+1);return Q.push(tt.slice(vt,At)),Q.join("")}}function F(tt,ot){return function(_t){var Q=Al(1900,void 0,1),At=V(Q,tt,_t+="",0),vt,St;if(At!=_t.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(ot&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(vt=Qp(Al(Q.y,0,1)),St=vt.getUTCDay(),vt=St>4||St===0?su.ceil(vt):su(vt),vt=Fh.offset(vt,(Q.V-1)*7),Q.y=vt.getUTCFullYear(),Q.m=vt.getUTCMonth(),Q.d=vt.getUTCDate()+(Q.w+6)%7):(vt=Zp(Al(Q.y,0,1)),St=vt.getDay(),vt=St>4||St===0?au.ceil(vt):au(vt),vt=Us.offset(vt,(Q.V-1)*7),Q.y=vt.getFullYear(),Q.m=vt.getMonth(),Q.d=vt.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),St="Z"in Q?Qp(Al(Q.y,0,1)).getUTCDay():Zp(Al(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(St+5)%7:Q.w+Q.U*7-(St+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,Qp(Q)):Zp(Q)}}function V(tt,ot,_t,Q){for(var At=0,vt=ot.length,St=_t.length,zt,mt;At<vt;){if(Q>=St)return-1;if(zt=ot.charCodeAt(At++),zt===37){if(zt=ot.charAt(At++),mt=P[zt in t2?ot.charAt(At++):zt],!mt||(Q=mt(tt,_t,Q))<0)return-1}else if(zt!=_t.charCodeAt(Q++))return-1}return Q}function K(tt,ot,_t){var Q=f.exec(ot.slice(_t));return Q?(tt.p=d.get(Q[0].toLowerCase()),_t+Q[0].length):-1}function W(tt,ot,_t){var Q=y.exec(ot.slice(_t));return Q?(tt.w=_.get(Q[0].toLowerCase()),_t+Q[0].length):-1}function R(tt,ot,_t){var Q=p.exec(ot.slice(_t));return Q?(tt.w=g.get(Q[0].toLowerCase()),_t+Q[0].length):-1}function et(tt,ot,_t){var Q=x.exec(ot.slice(_t));return Q?(tt.m=M.get(Q[0].toLowerCase()),_t+Q[0].length):-1}function j(tt,ot,_t){var Q=b.exec(ot.slice(_t));return Q?(tt.m=w.get(Q[0].toLowerCase()),_t+Q[0].length):-1}function C(tt,ot,_t){return V(tt,e,ot,_t)}function z(tt,ot,_t){return V(tt,n,ot,_t)}function U(tt,ot,_t){return V(tt,r,ot,_t)}function B(tt){return o[tt.getDay()]}function at(tt){return a[tt.getDay()]}function Z(tt){return c[tt.getMonth()]}function I(tt){return u[tt.getMonth()]}function E(tt){return i[+(tt.getHours()>=12)]}function H(tt){return 1+~~(tt.getMonth()/3)}function Y(tt){return o[tt.getUTCDay()]}function J(tt){return a[tt.getUTCDay()]}function ht(tt){return c[tt.getUTCMonth()]}function nt(tt){return u[tt.getUTCMonth()]}function rt(tt){return i[+(tt.getUTCHours()>=12)]}function lt(tt){return 1+~~(tt.getUTCMonth()/3)}return{format:function(tt){var ot=L(tt+="",A);return ot.toString=function(){return tt},ot},parse:function(tt){var ot=F(tt+="",!1);return ot.toString=function(){return tt},ot},utcFormat:function(tt){var ot=L(tt+="",$);return ot.toString=function(){return tt},ot},utcParse:function(tt){var ot=F(tt+="",!0);return ot.toString=function(){return tt},ot}}}var t2={"-":"",_:" ",0:"0"},bn=/^\s*\d+/,nU=/^%/,rU=/[\\^$*+?|[\]().{}]/g;function xe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function iU(t){return t.replace(rU,"\\$&")}function kl(t){return new RegExp("^(?:"+t.map(iU).join("|")+")","i")}function El(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function aU(t,e,n){var r=bn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function sU(t,e,n){var r=bn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function oU(t,e,n){var r=bn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lU(t,e,n){var r=bn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function uU(t,e,n){var r=bn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function e2(t,e,n){var r=bn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function n2(t,e,n){var r=bn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cU(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fU(t,e,n){var r=bn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function hU(t,e,n){var r=bn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function r2(t,e,n){var r=bn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function dU(t,e,n){var r=bn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function i2(t,e,n){var r=bn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function pU(t,e,n){var r=bn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function gU(t,e,n){var r=bn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function vU(t,e,n){var r=bn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function mU(t,e,n){var r=bn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yU(t,e,n){var r=nU.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bU(t,e,n){var r=bn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function _U(t,e,n){var r=bn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function a2(t,e){return xe(t.getDate(),e,2)}function wU(t,e){return xe(t.getHours(),e,2)}function xU(t,e){return xe(t.getHours()%12||12,e,2)}function SU(t,e){return xe(1+Us.count(ti(t),t),e,3)}function g5(t,e){return xe(t.getMilliseconds(),e,3)}function MU(t,e){return g5(t,e)+"000"}function TU(t,e){return xe(t.getMonth()+1,e,2)}function $U(t,e){return xe(t.getMinutes(),e,2)}function AU(t,e){return xe(t.getSeconds(),e,2)}function kU(t){var e=t.getDay();return e===0?7:e}function EU(t,e){return xe(qo.count(ti(t)-1,t),e,2)}function v5(t){var e=t.getDay();return e>=4||e===0?Ps(t):Ps.ceil(t)}function CU(t,e){return t=v5(t),xe(Ps.count(ti(t),t)+(ti(t).getDay()===4),e,2)}function NU(t){return t.getDay()}function PU(t,e){return xe(au.count(ti(t)-1,t),e,2)}function LU(t,e){return xe(t.getFullYear()%100,e,2)}function IU(t,e){return t=v5(t),xe(t.getFullYear()%100,e,2)}function OU(t,e){return xe(t.getFullYear()%1e4,e,4)}function RU(t,e){var n=t.getDay();return t=n>=4||n===0?Ps(t):Ps.ceil(t),xe(t.getFullYear()%1e4,e,4)}function zU(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+xe(e/60|0,"0",2)+xe(e%60,"0",2)}function s2(t,e){return xe(t.getUTCDate(),e,2)}function FU(t,e){return xe(t.getUTCHours(),e,2)}function BU(t,e){return xe(t.getUTCHours()%12||12,e,2)}function DU(t,e){return xe(1+Fh.count(ei(t),t),e,3)}function m5(t,e){return xe(t.getUTCMilliseconds(),e,3)}function UU(t,e){return m5(t,e)+"000"}function WU(t,e){return xe(t.getUTCMonth()+1,e,2)}function qU(t,e){return xe(t.getUTCMinutes(),e,2)}function HU(t,e){return xe(t.getUTCSeconds(),e,2)}function VU(t){var e=t.getUTCDay();return e===0?7:e}function YU(t,e){return xe(Ho.count(ei(t)-1,t),e,2)}function y5(t){var e=t.getUTCDay();return e>=4||e===0?Ls(t):Ls.ceil(t)}function GU(t,e){return t=y5(t),xe(Ls.count(ei(t),t)+(ei(t).getUTCDay()===4),e,2)}function XU(t){return t.getUTCDay()}function KU(t,e){return xe(su.count(ei(t)-1,t),e,2)}function jU(t,e){return xe(t.getUTCFullYear()%100,e,2)}function ZU(t,e){return t=y5(t),xe(t.getUTCFullYear()%100,e,2)}function QU(t,e){return xe(t.getUTCFullYear()%1e4,e,4)}function JU(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ls(t):Ls.ceil(t),xe(t.getUTCFullYear()%1e4,e,4)}function tW(){return"+0000"}function o2(){return"%"}function l2(t){return+t}function u2(t){return Math.floor(+t/1e3)}var wo,Nv,b5,Ou;eW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eW(t){return wo=eU(t),Nv=wo.format,b5=wo.parse,Ou=wo.utcFormat,wo.utcParse,wo}function nW(t){return new Date(t)}function rW(t){return t instanceof Date?+t:+new Date(+t)}function Pv(t,e,n,r,i,a,o,u,c,f){var d=X3(),p=d.invert,g=d.domain,y=f(".%L"),_=f(":%S"),b=f("%I:%M"),w=f("%I %p"),x=f("%a %d"),M=f("%b %d"),A=f("%B"),$=f("%Y");function P(L){return(c(L)<L?y:u(L)<L?_:o(L)<L?b:a(L)<L?w:r(L)<L?i(L)<L?x:M:n(L)<L?A:$)(L)}return d.invert=function(L){return new Date(p(L))},d.domain=function(L){return arguments.length?g(Array.from(L,rW)):g().map(nW)},d.ticks=function(L){var F=g();return t(F[0],F[F.length-1],L??10)},d.tickFormat=function(L,F){return F==null?P:f(F)},d.nice=function(L){var F=g();return(!L||typeof L.range!="function")&&(L=e(F[0],F[F.length-1],L??10)),L?g(j3(F,L)):d},d.copy=function(){return ku(d,Pv(t,e,n,r,i,a,o,u,c,f))},d}function iW(){return Li.apply(Pv(JD,tU,ti,Lu,qo,Us,Nu,Eu,Kr,Nv).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aW(){return Li.apply(Pv(QD,p5,ei,Iu,Ho,Fh,Pu,Cu,Kr,Ou).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sW(){var t=0,e=1,n,r,i,a,o=tr,u=!1,c;function f(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(o=p,f):o};function d(p){return function(g){var y,_;return arguments.length?([y,_]=g,o=p(y,_),f):[o(0),o(1)]}}return f.range=d(Bs),f.rangeRound=d(kh),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function Ru(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function pg(){var t=nl(sW()(tr));return t.copy=function(){return Ru(t,pg())},Au.apply(t,arguments)}function Dh(){var t=0,e=.5,n=1,r=1,i,a,o,u,c,f=tr,d,p=!1,g;function y(b){return isNaN(b=+b)?g:(b=.5+((b=+d(b))-a)*(r*b<r*a?u:c),f(p?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([t,e,n]=b,i=d(t=+t),a=d(e=+e),o=d(n=+n),u=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,y):[t,e,n]},y.clamp=function(b){return arguments.length?(p=!!b,y):p},y.interpolator=function(b){return arguments.length?(f=b,y):f};function _(b){return function(w){var x,M,A;return arguments.length?([x,M,A]=w,f=Eh(b,[x,M,A]),y):[f(0),f(.5),f(1)]}}return y.range=_(Bs),y.rangeRound=_(kh),y.unknown=function(b){return arguments.length?(g=b,y):g},function(b){return d=b,i=b(t),a=b(e),o=b(n),u=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,y}}function _5(){var t=nl(Dh()(tr));return t.copy=function(){return Ru(t,_5())},Au.apply(t,arguments)}function w5(){var t=Z3(Dh()).domain([.1,1,10]);return t.copy=function(){return Ru(t,w5()).base(t.base())},Au.apply(t,arguments)}function x5(){var t=J3(Dh());return t.copy=function(){return Ru(t,x5()).constant(t.constant())},Au.apply(t,arguments)}function S5(){var t=e5(Dh());return t.copy=function(){return Ru(t,S5()).exponent(t.exponent())},Au.apply(t,arguments)}function ie(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const M5=ie("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),oW=ie("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),lW=ie("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),uW=ie("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),cW=ie("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),fW=ie("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),hW=ie("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),dW=ie("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),pW=ie("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),gW=ie("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),vW=ie("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ze=t=>Tz(t[t.length-1]);var T5=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ie);const $5=ze(T5);var A5=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ie);const k5=ze(A5);var E5=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ie);const C5=ze(E5);var N5=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ie);const P5=ze(N5);var gg=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ie);const Qf=ze(gg);var L5=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ie);const I5=ze(L5);var vg=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ie);const Jf=ze(vg);var O5=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ie);const Lv=ze(O5);var R5=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ie);const z5=ze(R5);var F5=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ie);const B5=ze(F5);var D5=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ie);const U5=ze(D5);var W5=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ie);const q5=ze(W5);var H5=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ie);const V5=ze(H5);var Y5=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ie);const G5=ze(Y5);var X5=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ie);const K5=ze(X5);var j5=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ie);const Z5=ze(j5);var Q5=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ie);const J5=ze(Q5);var t6=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ie);const e6=ze(t6);var n6=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ie);const r6=ze(n6);var i6=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ie);const a6=ze(i6);var s6=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ie);const o6=ze(s6);var l6=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ie);const u6=ze(l6);var c6=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ie);const f6=ze(c6);var h6=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ie);const d6=ze(h6);var p6=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ie);const g6=ze(p6);var v6=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ie);const m6=ze(v6);var y6=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ie);const b6=ze(y6);function _6(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const w6=_v(Si(300,.5,0),Si(-240,.5,1));var x6=_v(Si(-100,.75,.35),Si(80,1.5,.8)),S6=_v(Si(260,.75,.35),Si(80,1.5,.8)),Zc=Si();function M6(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Zc.h=360*t-100,Zc.s=1.5-1.5*e,Zc.l=.8-.9*e,Zc+""}var Qc=qa(),mW=Math.PI/3,yW=Math.PI*2/3;function T6(t){var e;return t=(.5-t)*Math.PI,Qc.r=255*(e=Math.sin(t))*e,Qc.g=255*(e=Math.sin(t+mW))*e,Qc.b=255*(e=Math.sin(t+yW))*e,Qc+""}function $6(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Uh(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const Iv=Uh(ie("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var A6=Uh(ie("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),k6=Uh(ie("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),E6=Uh(ie("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function gn(t){return function(){return t}}const C6=Math.cos,Ov=Math.min,th=Math.sin,hn=Math.sqrt,c2=1e-12,eh=Math.PI,Wh=2*eh;function N6(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new h3(e)}function P6(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function L6(t){this._context=t}L6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function zu(t){return new L6(t)}function I6(t){return t[0]}function O6(t){return t[1]}function ou(t,e){var n=gn(!0),r=null,i=zu,a=null,o=N6(u);t=typeof t=="function"?t:t===void 0?I6:gn(t),e=typeof e=="function"?e:e===void 0?O6:gn(e);function u(c){var f,d=(c=P6(c)).length,p,g=!1,y;for(r==null&&(a=i(y=o())),f=0;f<=d;++f)!(f<d&&n(p=c[f],f,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(p,f,c),+e(p,f,c));if(y)return a=null,y+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:gn(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:gn(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:gn(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),u):r},u}function bW(t,e,n){var r=null,i=gn(!0),a=null,o=zu,u=null,c=N6(f);t=typeof t=="function"?t:t===void 0?I6:gn(+t),e=typeof e=="function"?e:gn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?O6:gn(+n);function f(p){var g,y,_,b=(p=P6(p)).length,w,x=!1,M,A=new Array(b),$=new Array(b);for(a==null&&(u=o(M=c())),g=0;g<=b;++g){if(!(g<b&&i(w=p[g],g,p))===x)if(x=!x)y=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),_=g-1;_>=y;--_)u.point(A[_],$[_]);u.lineEnd(),u.areaEnd()}x&&(A[g]=+t(w,g,p),$[g]=+e(w,g,p),u.point(r?+r(w,g,p):A[g],n?+n(w,g,p):$[g]))}if(M)return u=null,M+""||null}function d(){return ou().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:gn(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:gn(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:gn(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:gn(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:gn(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:gn(+p),f):n},f.lineX0=f.lineY0=function(){return d().x(t).y(e)},f.lineY1=function(){return d().x(t).y(n)},f.lineX1=function(){return d().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:gn(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(u=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=u=null:u=o(a=p),f):a},f}class R6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function _W(t){return new R6(t,!0)}function wW(t){return new R6(t,!1)}const xW=hn(3),z6={draw(t,e){const n=hn(e+Ov(e/28,.75))*.59436,r=n/2,i=r*xW;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},lu={draw(t,e){const n=hn(e/eh);t.moveTo(n,0),t.arc(0,0,n,0,Wh)}},F6={draw(t,e){const n=hn(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},B6=hn(1/3),SW=B6*2,D6={draw(t,e){const n=hn(e/SW),r=n*B6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},U6={draw(t,e){const n=hn(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},W6={draw(t,e){const n=hn(e-Ov(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},q6={draw(t,e){const n=hn(e),r=-n/2;t.rect(r,r,n,n)}},H6={draw(t,e){const n=hn(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},MW=.8908130915292852,V6=th(eh/10)/th(7*eh/10),TW=th(Wh/10)*V6,$W=-C6(Wh/10)*V6,Y6={draw(t,e){const n=hn(e*MW),r=TW*n,i=$W*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Wh*a/5,u=C6(o),c=th(o);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},Jp=hn(3),G6={draw(t,e){const n=-hn(e/(Jp*3));t.moveTo(0,n*2),t.lineTo(-Jp*n,-n),t.lineTo(Jp*n,-n),t.closePath()}},AW=hn(3),X6={draw(t,e){const n=hn(e)*.6824,r=n/2,i=n*AW/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Pr=-.5,Lr=hn(3)/2,mg=1/hn(12),kW=(mg/2+1)*3,K6={draw(t,e){const n=hn(e/kW),r=n/2,i=n*mg,a=r,o=n*mg+n,u=-a,c=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(u,c),t.lineTo(Pr*r-Lr*i,Lr*r+Pr*i),t.lineTo(Pr*a-Lr*o,Lr*a+Pr*o),t.lineTo(Pr*u-Lr*c,Lr*u+Pr*c),t.lineTo(Pr*r+Lr*i,Pr*i-Lr*r),t.lineTo(Pr*a+Lr*o,Pr*o-Lr*a),t.lineTo(Pr*u+Lr*c,Pr*c-Lr*u),t.closePath()}},j6={draw(t,e){const n=hn(e-Ov(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},EW=[lu,F6,D6,q6,Y6,G6,K6],CW=[lu,W6,j6,X6,z6,H6,U6];function Ha(){}function nh(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function qh(t){this._context=t}qh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yg(t){return new qh(t)}function Z6(t){this._context=t}Z6.prototype={areaStart:Ha,areaEnd:Ha,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:nh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function NW(t){return new Z6(t)}function Q6(t){this._context=t}Q6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:nh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PW(t){return new Q6(t)}function J6(t,e){this._basis=new qh(t),this._beta=e}J6.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],a=t[n]-r,o=e[n]-i,u=-1,c;++u<=n;)c=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+c*a),this._beta*e[u]+(1-this._beta)*(i+c*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const LW=function t(e){function n(r){return e===1?new qh(r):new J6(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function rh(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Rv(t,e){this._context=t,this._k=(1-e)/6}Rv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:rh(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:rh(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const IW=function t(e){function n(r){return new Rv(r,e)}return n.tension=function(r){return t(+r)},n}(0);function zv(t,e){this._context=t,this._k=(1-e)/6}zv.prototype={areaStart:Ha,areaEnd:Ha,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:rh(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const OW=function t(e){function n(r){return new zv(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Fv(t,e){this._context=t,this._k=(1-e)/6}Fv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:rh(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const RW=function t(e){function n(r){return new Fv(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Bv(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>c2){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>c2){var f=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,d=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*f+t._x1*t._l23_2a-e*t._l12_2a)/d,o=(o*f+t._y1*t._l23_2a-n*t._l12_2a)/d}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function t4(t,e){this._context=t,this._alpha=e}t4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Bv(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const zW=function t(e){function n(r){return e?new t4(r,e):new Rv(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function e4(t,e){this._context=t,this._alpha=e}e4.prototype={areaStart:Ha,areaEnd:Ha,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Bv(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const FW=function t(e){function n(r){return e?new e4(r,e):new zv(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function n4(t,e){this._context=t,this._alpha=e}n4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Bv(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const BW=function t(e){function n(r){return e?new n4(r,e):new Fv(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function r4(t){this._context=t}r4.prototype={areaStart:Ha,areaEnd:Ha,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function DW(t){return new r4(t)}function f2(t){return t<0?-1:1}function h2(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(f2(a)+f2(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function d2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function t0(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,o-u*n,a,o)}function ih(t){this._context=t}ih.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:t0(this,this._t0,d2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,t0(this,d2(this,n=h2(this,t,e)),n);break;default:t0(this,this._t0,n=h2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function i4(t){this._context=new a4(t)}(i4.prototype=Object.create(ih.prototype)).point=function(t,e){ih.prototype.point.call(this,e,t)};function a4(t){this._context=t}a4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function UW(t){return new ih(t)}function WW(t){return new i4(t)}function s4(t){this._context=t}s4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=p2(t),i=p2(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function p2(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function qW(t){return new s4(t)}function Hh(t,e){this._context=t,this._t=e}Hh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function HW(t){return new Hh(t,.5)}function o4(t){return new Hh(t,0)}function VW(t){return new Hh(t,1)}const Jc=t=>()=>t;function YW(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function na(t,e,n){this.k=t,this.x=e,this.y=n}na.prototype={constructor:na,scale:function(t){return t===1?this:new na(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new na(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var l4=new na(1,0,0);na.prototype;function e0(t){t.stopImmediatePropagation()}function Cl(t){t.preventDefault(),t.stopImmediatePropagation()}function GW(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function XW(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function g2(){return this.__zoom||l4}function KW(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function jW(){return navigator.maxTouchPoints||"ontouchstart"in this}function ZW(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function QW(){var t=GW,e=XW,n=ZW,r=KW,i=jW,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],u=250,c=Dz,f=Mh("start","zoom","end"),d,p,g,y=500,_=150,b=0,w=10;function x(C){C.property("__zoom",g2).on("wheel.zoom",V,{passive:!1}).on("mousedown.zoom",K).on("dblclick.zoom",W).filter(i).on("touchstart.zoom",R).on("touchmove.zoom",et).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(C,z,U,B){var at=C.selection?C.selection():C;at.property("__zoom",g2),C!==at?P(C,z,U,B):at.interrupt().each(function(){L(this,arguments).event(B).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},x.scaleBy=function(C,z,U,B){x.scaleTo(C,function(){var at=this.__zoom.k,Z=typeof z=="function"?z.apply(this,arguments):z;return at*Z},U,B)},x.scaleTo=function(C,z,U,B){x.transform(C,function(){var at=e.apply(this,arguments),Z=this.__zoom,I=U==null?$(at):typeof U=="function"?U.apply(this,arguments):U,E=Z.invert(I),H=typeof z=="function"?z.apply(this,arguments):z;return n(A(M(Z,H),I,E),at,o)},U,B)},x.translateBy=function(C,z,U,B){x.transform(C,function(){return n(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof U=="function"?U.apply(this,arguments):U),e.apply(this,arguments),o)},null,B)},x.translateTo=function(C,z,U,B,at){x.transform(C,function(){var Z=e.apply(this,arguments),I=this.__zoom,E=B==null?$(Z):typeof B=="function"?B.apply(this,arguments):B;return n(l4.translate(E[0],E[1]).scale(I.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof U=="function"?-U.apply(this,arguments):-U),Z,o)},B,at)};function M(C,z){return z=Math.max(a[0],Math.min(a[1],z)),z===C.k?C:new na(z,C.x,C.y)}function A(C,z,U){var B=z[0]-U[0]*C.k,at=z[1]-U[1]*C.k;return B===C.x&&at===C.y?C:new na(C.k,B,at)}function $(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function P(C,z,U,B){C.on("start.zoom",function(){L(this,arguments).event(B).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(B).end()}).tween("zoom",function(){var at=this,Z=arguments,I=L(at,Z).event(B),E=e.apply(at,Z),H=U==null?$(E):typeof U=="function"?U.apply(at,Z):U,Y=Math.max(E[1][0]-E[0][0],E[1][1]-E[0][1]),J=at.__zoom,ht=typeof z=="function"?z.apply(at,Z):z,nt=c(J.invert(H).concat(Y/J.k),ht.invert(H).concat(Y/ht.k));return function(rt){if(rt===1)rt=ht;else{var lt=nt(rt),tt=Y/lt[2];rt=new na(tt,H[0]-lt[0]*tt,H[1]-lt[1]*tt)}I.zoom(null,rt)}})}function L(C,z,U){return!U&&C.__zooming||new F(C,z)}function F(C,z){this.that=C,this.args=z,this.active=0,this.sourceEvent=null,this.extent=e.apply(C,z),this.taps=0}F.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,z){return this.mouse&&C!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var z=we(this.that).datum();f.call(C,this.that,new YW(C,{sourceEvent:this.sourceEvent,target:x,type:C,transform:this.that.__zoom,dispatch:f}),z)}};function V(C,...z){if(!t.apply(this,arguments))return;var U=L(this,z).event(C),B=this.__zoom,at=Math.max(a[0],Math.min(a[1],B.k*Math.pow(2,r.apply(this,arguments)))),Z=hi(C);if(U.wheel)(U.mouse[0][0]!==Z[0]||U.mouse[0][1]!==Z[1])&&(U.mouse[1]=B.invert(U.mouse[0]=Z)),clearTimeout(U.wheel);else{if(B.k===at)return;U.mouse=[Z,B.invert(Z)],No(this),U.start()}Cl(C),U.wheel=setTimeout(I,_),U.zoom("mouse",n(A(M(B,at),U.mouse[0],U.mouse[1]),U.extent,o));function I(){U.wheel=null,U.end()}}function K(C,...z){if(g||!t.apply(this,arguments))return;var U=C.currentTarget,B=L(this,z,!0).event(C),at=we(C.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",Y,!0),Z=hi(C,U),I=C.clientX,E=C.clientY;Dx(C.view),e0(C),B.mouse=[Z,this.__zoom.invert(Z)],No(this),B.start();function H(J){if(Cl(J),!B.moved){var ht=J.clientX-I,nt=J.clientY-E;B.moved=ht*ht+nt*nt>b}B.event(J).zoom("mouse",n(A(B.that.__zoom,B.mouse[0]=hi(J,U),B.mouse[1]),B.extent,o))}function Y(J){at.on("mousemove.zoom mouseup.zoom",null),Ux(J.view,B.moved),Cl(J),B.event(J).end()}}function W(C,...z){if(t.apply(this,arguments)){var U=this.__zoom,B=hi(C.changedTouches?C.changedTouches[0]:C,this),at=U.invert(B),Z=U.k*(C.shiftKey?.5:2),I=n(A(M(U,Z),B,at),e.apply(this,z),o);Cl(C),u>0?we(this).transition().duration(u).call(P,I,B,C):we(this).call(x.transform,I,B,C)}}function R(C,...z){if(t.apply(this,arguments)){var U=C.touches,B=U.length,at=L(this,z,C.changedTouches.length===B).event(C),Z,I,E,H;for(e0(C),I=0;I<B;++I)E=U[I],H=hi(E,this),H=[H,this.__zoom.invert(H),E.identifier],at.touch0?!at.touch1&&at.touch0[2]!==H[2]&&(at.touch1=H,at.taps=0):(at.touch0=H,Z=!0,at.taps=1+!!d);d&&(d=clearTimeout(d)),Z&&(at.taps<2&&(p=H[0],d=setTimeout(function(){d=null},y)),No(this),at.start())}}function et(C,...z){if(this.__zooming){var U=L(this,z).event(C),B=C.changedTouches,at=B.length,Z,I,E,H;for(Cl(C),Z=0;Z<at;++Z)I=B[Z],E=hi(I,this),U.touch0&&U.touch0[2]===I.identifier?U.touch0[0]=E:U.touch1&&U.touch1[2]===I.identifier&&(U.touch1[0]=E);if(I=U.that.__zoom,U.touch1){var Y=U.touch0[0],J=U.touch0[1],ht=U.touch1[0],nt=U.touch1[1],rt=(rt=ht[0]-Y[0])*rt+(rt=ht[1]-Y[1])*rt,lt=(lt=nt[0]-J[0])*lt+(lt=nt[1]-J[1])*lt;I=M(I,Math.sqrt(rt/lt)),E=[(Y[0]+ht[0])/2,(Y[1]+ht[1])/2],H=[(J[0]+nt[0])/2,(J[1]+nt[1])/2]}else if(U.touch0)E=U.touch0[0],H=U.touch0[1];else return;U.zoom("touch",n(A(I,E,H),U.extent,o))}}function j(C,...z){if(this.__zooming){var U=L(this,z).event(C),B=C.changedTouches,at=B.length,Z,I;for(e0(C),g&&clearTimeout(g),g=setTimeout(function(){g=null},y),Z=0;Z<at;++Z)I=B[Z],U.touch0&&U.touch0[2]===I.identifier?delete U.touch0:U.touch1&&U.touch1[2]===I.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(I=hi(I,this),Math.hypot(p[0]-I[0],p[1]-I[1])<w)){var E=we(this).on("dblclick.zoom");E&&E.apply(this,arguments)}}}return x.wheelDelta=function(C){return arguments.length?(r=typeof C=="function"?C:Jc(+C),x):r},x.filter=function(C){return arguments.length?(t=typeof C=="function"?C:Jc(!!C),x):t},x.touchable=function(C){return arguments.length?(i=typeof C=="function"?C:Jc(!!C),x):i},x.extent=function(C){return arguments.length?(e=typeof C=="function"?C:Jc([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),x):e},x.scaleExtent=function(C){return arguments.length?(a[0]=+C[0],a[1]=+C[1],x):[a[0],a[1]]},x.translateExtent=function(C){return arguments.length?(o[0][0]=+C[0][0],o[1][0]=+C[1][0],o[0][1]=+C[0][1],o[1][1]=+C[1][1],x):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},x.constrain=function(C){return arguments.length?(n=C,x):n},x.duration=function(C){return arguments.length?(u=+C,x):u},x.interpolate=function(C){return arguments.length?(c=C,x):c},x.on=function(){var C=f.on.apply(f,arguments);return C===f?x:C},x.clickDistance=function(C){return arguments.length?(b=(C=+C)*C,x):Math.sqrt(b)},x.tapDistance=function(C){return arguments.length?(w=+C,x):w},x}function Va(t){return t!=null&&!Number.isNaN(t)}function ni(t,e){return+Va(e)-+Va(t)||nr(t,e)}function ah(t,e){return+Va(e)-+Va(t)||xu(t,e)}function Dv(t){return t!=null&&`${t}`!=""}function u4(t){return isFinite(t)?t:NaN}function Vh(t){return t>0&&isFinite(t)?t:NaN}function Uv(t){return t<0&&isFinite(t)?t:NaN}function JW(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${tq(t.getUTCFullYear())}-${Zi(t.getUTCMonth()+1,2)}-${Zi(t.getUTCDate(),2)}${n||r||i||a?`T${Zi(n,2)}:${Zi(r,2)}${i||a?`:${Zi(i,2)}${a?`.${Zi(a,3)}`:""}`:""}Z`:""}`}function tq(t){return t<0?`-${Zi(-t,6)}`:t>9999?`+${Zi(t,6)}`:Zi(t,4)}function Zi(t,e){return`${t}`.padStart(e,"0")}const eq=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function c4(t,e){return eq.test(t+="")?new Date(t):typeof e=="function"?e(t):e}function Vo(t){if(t==null)return;const e=t[0],n=t[t.length-1];return xu(e,n)}const To=1e3,Pa=To*60,La=Pa*60,Mi=La*24,fi=Mi*7,ws=Mi*30,Ca=Mi*365,n0=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",To],["5 seconds",5*To],["15 seconds",15*To],["30 seconds",30*To],["minute",Pa],["5 minutes",5*Pa],["15 minutes",15*Pa],["30 minutes",30*Pa],["hour",La],["3 hours",3*La],["6 hours",6*La],["12 hours",12*La],["day",Mi],["2 days",2*Mi],["week",fi],["2 weeks",2*fi],["month",ws],["3 months",3*ws],["6 months",6*ws],["year",Ca],["2 years",2*Ca],["5 years",5*Ca],["10 years",10*Ca],["20 years",20*Ca],["50 years",50*Ca],["100 years",100*Ca]],Wv=new Map([["second",To],["minute",Pa],["hour",La],["day",Mi],["monday",fi],["tuesday",fi],["wednesday",fi],["thursday",fi],["friday",fi],["saturday",fi],["sunday",fi],["week",fi],["month",ws],["year",Ca]]),f4=new Map([["second",Kr],["minute",Eu],["hour",Nu],["day",Us],["monday",au],["tuesday",a5],["wednesday",s5],["thursday",Ps],["friday",o5],["saturday",l5],["sunday",qo],["week",qo],["month",Lu],["year",ti]]),qv=new Map([["second",Kr],["minute",Cu],["hour",Pu],["day",Bh],["monday",su],["tuesday",u5],["wednesday",c5],["thursday",Ls],["friday",f5],["saturday",h5],["sunday",Ho],["week",Ho],["month",Iu],["year",ei]]),Fu=Symbol("intervalDuration"),Yh=Symbol("intervalType");for(const[t,e]of f4)e[Fu]=Wv.get(t),e[Yh]="time";for(const[t,e]of qv)e[Fu]=Wv.get(t),e[Yh]="utc";const Ul=[["year",ei,"utc"],["month",Iu,"utc"],["day",Bh,"utc",6*ws],["hour",Pu,"utc",3*Mi],["minute",Cu,"utc",6*La],["second",Kr,"utc",30*Pa]],gf=[["year",ti,"time"],["month",Lu,"time"],["day",Us,"time",6*ws],["hour",Nu,"time",3*Mi],["minute",Eu,"time",6*La],["second",Kr,"time",30*Pa]],nq=[Ul[0],gf[0],Ul[1],gf[1],Ul[2],gf[2],...Ul.slice(3)];function h4(t){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(e);switch(r&&(e=e.slice(r[0].length),n=+r[1]),e){case"quarter":e="month",n*=3;break;case"half":e="month",n*=6;break}let i=qv.get(e);if(!i)throw new Error(`unknown interval: ${t}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${e}`);return[e,n]}function d4(t){return p4(h4(t),"time")}function Hv(t){return p4(h4(t),"utc")}function p4([t,e],n){let r=(n==="time"?f4:qv).get(t);return e>1&&(r=r.every(e),r[Fu]=Wv.get(t)*e,r[Yh]=n),r}function v2(t,e){if(!(e>1))return;const n=t[Fu];if(!n0.some(([,i])=>i===n)||n%Mi===0&&Mi<n&&n<ws)return;const[r]=n0[_h(([,i])=>Math.log(i)).center(n0,Math.log(n*e))];return(t[Yh]==="time"?d4:Hv)(r)}function m2(t,e,n){const r=e==="time"?Nv:Ou;if(n==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=rq(n);switch(t){case"millisecond":return xo(r(".%L"),r(":%M:%S"),i);case"second":return xo(r(":%S"),r("%-I:%M"),i);case"minute":return xo(r("%-I:%M"),r("%p"),i);case"hour":return xo(r("%-I %p"),r("%b %-d"),i);case"day":return xo(r("%-d"),r("%b"),i);case"month":return xo(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function rq(t){return t==="left"||t==="right"?(e,n)=>`
${e}
${n}`:t==="top"?(e,n)=>`${n}
${e}`:(e,n)=>`${e}
${n}`}function iq(t){return t==="time"?gf:t==="utc"?Ul:nq}function aq(t,e,n){const r=Fr(pO(e,(i,a)=>Math.abs(a-i)));if(r<1e3)return m2("millisecond","utc",n);for(const[i,a,o,u]of iq(t)){if(r>u||i==="hour"&&!r)break;if(e.every(c=>a.floor(c)>=c))return m2(i,o,n)}}function xo(t,e,n){return(r,i,a)=>{const o=t(r,i),u=e(r,i),c=i-Vo(a);return i!==c&&a[c]!==void 0&&u===e(a[c],c)?o:n(o,u)}}const Vv=Object.getPrototypeOf(Uint8Array),sq=Object.prototype.toString;function Hs(t){return t instanceof Array||t instanceof Vv}function g4(t){return t instanceof Vv&&!oq(t)}function v4(t){return(t==null?void 0:t.prototype)instanceof Vv&&!lq(t)}function oq(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function lq(t){return t===BigInt64Array||t===BigUint64Array}const m4=Symbol("reindex");function mn(t,e,n){const r=typeof e;return r==="string"?C4(t)?Yv(t.getChild(e),n):y2(t,y4(e),n):r==="function"?y2(t,e,n):r==="number"||e instanceof Date||r==="boolean"?rn(t,ra(e),n):typeof(e==null?void 0:e.transform)=="function"?bg(e.transform(t),n):uq(bg(e,n),t==null?void 0:t[m4])}function uq(t,e){return t!=null&&e?Kv(t,e):t}function y2(t,e,n){return rn(t,v4(n)?(r,i)=>Gv(e(r,i)):e,n)}function bg(t,e){return e===void 0?Vs(t):N4(t)?Yv(t,e):t instanceof e?t:e.from(t,v4(e)&&!g4(t)?Gv:void 0)}function Yv(t,e){return t==null?t:(e===void 0||e===Array)&&Cq(t.type)?_4(b2(t)):bg(b2(t),e)}function b2(t){return t.nullCount?t.toJSON():t.toArray()}const vf=[null],y4=t=>e=>{var r;const n=e[t];return n===void 0&&e.type==="Feature"?(r=e.properties)==null?void 0:r[t]:n},uu={transform:ga},In={transform:t=>t},cq=()=>1,fq=()=>!0,Cn=t=>t==null?t:`${t}`,yn=t=>t==null?t:+t,b4=t=>t?t[0]:void 0,_g=t=>t?t[1]:void 0,ra=t=>()=>t;function hq(t){const e=+`${t}`.slice(1)/100;return(n,r)=>Oo(n,e,r)}function gi(t){return g4(t)?t:rn(t,Gv,Float64Array)}function Gv(t){return t==null?NaN:Number(t)}function _4(t){return rn(t,w4)}function w4(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?c4(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function ha(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:Kh(t)?[void 0,t]:[t,void 0]}function Wn(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function x4(t,e,n){if(t!=null)return ii(t,e,n)}function ii(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function Yo(t){return C4(t)?t:Vs(t)}function Vs(t){if(t==null||Hs(t))return t;if(N4(t))return Yv(t);if(S4(t))switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;default:return[t]}return Array.from(t)}function S4(t){switch(t==null?void 0:t.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function rn(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function cu(t,e=Array){return t instanceof e?t.slice():e.from(t)}function dq({x:t,x1:e,x2:n}){return t!==void 0||e!==void 0||n!==void 0}function M4({y:t,y1:e,y2:n}){return t!==void 0||e!==void 0||n!==void 0}function pq(t){return dq(t)||M4(t)||t.interval!==void 0}function Za(t){return(t==null?void 0:t.toString)===sq}function wg(t){return Za(t)&&(t.type!==void 0||t.domain!==void 0)}function Gh(t){return Za(t)&&typeof t.transform!="function"}function Go(t){return Gh(t)&&t.value===void 0&&t.channel===void 0}function gq(t,e,n,r=In){return e===void 0&&n===void 0?(e=0,n=t===void 0?r:t):e===void 0?e=t===void 0?0:t:n===void 0&&(n=t===void 0?0:t),[e,n]}function Xh(t,e){return t===void 0&&e===void 0?[b4,_g]:[t,e]}function Xv({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=ha(e)),t===void 0&&([t]=ha(n)),t}function fu(t){return Hs(t)?t.length:t==null?void 0:t.numRows}function ga(t){const e=fu(t),n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function Kv(t,e){return Hs(t)?rn(e,n=>t[n],t.constructor):rn(e,n=>t.at(n))}function vq(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function ia(t){return t!==null&&typeof t=="object"?t.valueOf():t}function mq(t,e){if(e[t]!==void 0)return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return e[t]}function sh(t){let e;return[{transform:()=>e,label:Ys(t)},n=>e=n]}function Ki(t){return t==null?[t]:sh(t)}function Ys(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function xg(t,e){return{transform(n){const r=t.transform(n),i=e.transform(n);return ar(r)||ar(i)?rn(r,(a,o)=>new Date((+r[o]+ +i[o])/2)):rn(r,(a,o)=>(+r[o]+ +i[o])/2,Float64Array)},label:t.label}}function T4(t,e){const n=$4(e==null?void 0:e.interval,e==null?void 0:e.type);return n?rn(t,n):t}function $4(t,e){const n=jv(t,e);return n&&(r=>Va(r)?n.floor(r):r)}function jv(t,e){if(t!=null){if(typeof t=="number")return yq(t);if(typeof t=="string")return(e==="time"?d4:Hv)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function yq(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:n=>Math.floor(n*e)/e,offset:(n,r=1)=>(n*e+Math.floor(r))/e,range:(n,r)=>I0(Math.ceil(n*e),r*e).map(i=>i/e)}:{floor:n=>Math.floor(n/e)*e,offset:(n,r=1)=>n+e*Math.floor(r),range:(n,r)=>I0(Math.ceil(n/e),r/e).map(i=>i*e)}}function rl(t,e){if(t=jv(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function bq(t,e){if(t=rl(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function _q(t){return $o(t)&&typeof(t==null?void 0:t.floor)=="function"&&t.floor()instanceof Date}function $o(t){return typeof(t==null?void 0:t.range)=="function"}function Bu(t){return t===void 0||Gh(t)?t:{value:t}}function wq(t){return t==null?null:{transform:e=>mn(e,t,Float64Array),label:Ys(t)}}function Qa(t){return t&&typeof t[Symbol.iterator]=="function"}function A4(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function _2(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function ar(t){for(const e of t)if(e!=null)return e instanceof Date}function xq(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&c4(e)}function Sq(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function Mq(t){for(const e of t)if(e!=null)return typeof e=="number"}function r0(t,e){let n;for(const r of t)if(r!=null){if(!e(r))return!1;n=!0}return n}const Tq=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Kh(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||Tq.has(t))}function $q(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function jn(t){return t==null||hu(t)}function hu(t){return/^\s*none\s*$/i.test(t)}function Aq(t){return/^\s*round\s*$/i.test(t)}function Sg(t,e){return x4(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function jh(t="middle"){return Sg(t,"frameAnchor")}function kq(t={},...e){let n=t;for(const r of e)for(const i in r)if(n[i]===void 0){const a=r[i];n===t?n={...n,[i]:a}:n[i]=a}return n}function Eq(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(e.has(i))throw new Error(`duplicate name: ${i}`);return e.add(i),[r,n]}))}function k4(t){return Qa(t)?Eq(t):t}function E4(t){return t===!0?t="frame":t===!1?t=null:!S4(t)&&t!=null&&(t=ii(t,"clip",["frame","sphere"]),t==="sphere"&&(t={type:"Sphere"})),t}function C4(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function N4(t){return t&&typeof t.toArray=="function"&&t.type}function Cq(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}const vi=Symbol("position"),va=Symbol("color"),Du=Symbol("radius"),Uu=Symbol("length"),Wu=Symbol("opacity"),Zh=Symbol("symbol"),P4=Symbol("projection"),Ze=new Map([["x",vi],["y",vi],["fx",vi],["fy",vi],["r",Du],["color",va],["opacity",Wu],["symbol",Zh],["length",Uu],["projection",P4]]);function Nq(t){return t===vi||t===P4}function Pq(t){return t===vi||t===Du||t===Uu||t===Wu}const Lq=Math.sqrt(3),Iq=2/Lq,Oq={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*Iq,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},Zv=new Map([["asterisk",z6],["circle",lu],["cross",F6],["diamond",D6],["diamond2",U6],["hexagon",Oq],["plus",W6],["square",q6],["square2",H6],["star",Y6],["times",j6],["triangle",G6],["triangle2",X6],["wye",K6]]);function Qv(t){return t&&typeof t.draw=="function"}function Rq(t){return Qv(t)?!0:typeof t!="string"?!1:Zv.has(t.toLowerCase())}function Jv(t){if(t==null||Qv(t))return t;const e=Zv.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function zq(t){if(t==null||Qv(t))return[void 0,t];if(typeof t=="string"){const e=Zv.get(`${t}`.toLowerCase());if(e)return[void 0,e]}return[t,void 0]}function Qh({filter:t,sort:e,reverse:n,transform:r,initializer:i,...a}={},o){if(r===void 0&&(t!=null&&(r=L4(t)),e!=null&&!Go(e)&&(r=i0(r,t1(e))),n&&(r=i0(r,I4))),o!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(e===null||Go(e))&&{sort:e},transform:i0(r,o)}}function Xo({filter:t,sort:e,reverse:n,initializer:r,...i}={},a){return r===void 0&&(t!=null&&(r=L4(t)),e!=null&&!Go(e)&&(r=a0(r,t1(e))),n&&(r=a0(r,I4))),{...i,...(e===null||Go(e))&&{sort:e},initializer:a0(r,a)}}function i0(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i){return{data:n,facets:r}=t.call(this,n,r,i),e.call(this,Yo(n),r,i)}}function a0(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i,...a){let o,u,c,f,d,p;return{data:u=n,facets:c=r,channels:o}=t.call(this,n,r,i,...a),{data:d=u,facets:p=c,channels:f}=e.call(this,u,c,{...i,...o},...a),{data:d,facets:p,channels:{...o,...f}}}}function Fq(t,e){return(t.initializer!=null?Xo:Qh)(t,e)}function L4(t){return(e,n)=>{const r=mn(e,t);return{data:e,facets:n.map(i=>i.filter(a=>r[a]))}}}function I4(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function Bq(t,{sort:e,...n}={}){return{...(Gh(t)&&t.channel!==void 0?Xo:Fq)(n,t1(t)),sort:Go(e)?e:null}}function t1(t){return(typeof t=="function"&&t.length!==1?Dq:Uq)(t)}function Dq(t){return(e,n)=>{const r=Hs(e)?(i,a)=>t(e[i],e[a]):(i,a)=>t(e.get(i),e.get(a));return{data:e,facets:n.map(i=>i.slice().sort(r))}}}function Uq(t){let e,n;({channel:e,value:t,order:n}={...Bu(t)});const r=e==null?void 0:e.startsWith("-");if(r&&(e=e.slice(1)),n===void 0&&(n=r?ah:ni),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=ni;break;case"descending":n=ah;break;default:throw new Error(`invalid order: ${n}`)}return(i,a,o)=>{let u;if(e===void 0)u=mn(i,t);else{if(o===void 0)throw new Error("channel sort requires an initializer");if(u=o[e],!u)return{};u=u.value}const c=(f,d)=>n(u[f],u[d]);return{data:i,facets:a.map(f=>f.slice().sort(c))}}}function s0(t,...e){for(const{name:n}of t)if(e.includes(n))return!0;return!1}function Wq(t,e,n=O4){const r=Object.entries(t);return e.title!=null&&t.title===void 0&&r.push(["title",Kq]),e.href!=null&&t.href===void 0&&r.push(["href",n1]),r.filter(([,i])=>i!==void 0).map(([i,a])=>a===null?qq(i):n(i,a,e))}function O4(t,e,n,r=R4){let i;Za(e)&&"reduce"in e&&(i=e.scale,e=e.reduce);const a=r(t,e,n),[o,u]=sh(a.label);let c;return{name:t,output:i===void 0?o:{value:o,scale:i},initialize(f){a.initialize(f),c=u([])},scope(f,d){a.scope(f,d)},reduce(f,d){c.push(a.reduce(f,d))}}}function qq(t){return{name:t,initialize(){},scope(){},reduce(){}}}function R4(t,e,n,r=e1){const i=mq(t,n),a=r(e,i);let o,u;return{label:Ys(a===oh?null:i,a.label),initialize(c){o=i===void 0?c:mn(c,i),a.scope==="data"&&(u=a.reduceIndex(ga(c),o))},scope(c,f){a.scope===c&&(u=a.reduceIndex(f,o))},reduce(c,f){return a.scope==null?a.reduceIndex(c,o,f):a.reduceIndex(c,o,u,f)}}}function w2(t,e){return e?Sh(t,n=>e[n]):[[,t]]}function e1(t,e,n=Hq){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&Za(t))return Gq(t);if(typeof t=="function")return Xq(t);if(/^p\d{2}$/i.test(t))return ji(hq(t));switch(`${t}`.toLowerCase()){case"first":return n1;case"last":return jq;case"identity":return z4;case"count":return oh;case"distinct":return Zq;case"sum":return e==null?oh:Qq;case"proportion":return S2(e,"data");case"proportion-facet":return S2(e,"facet");case"deviation":return ji(bx);case"min":return ji(la);case"min-index":return ji(lO);case"max":return ji(Fr);case"max-index":return ji(oO);case"mean":return x2(fO);case"median":return x2(L0);case"variance":return ji(yx);case"mode":return ji(dO)}return n(t)}function Hq(t){throw new Error(`invalid reduce: ${t}`)}function Vq(t,e){for(const n in e){const r=e[n];if(r!==void 0&&!t.some(i=>i.name===n))return r}}function Yq(t,e,n){if(e){const r=e.output.transform(),i=(a,o)=>ni(r[a],r[o]);t.forEach(a=>a.sort(i))}n&&t.forEach(r=>r.reverse())}function Gq(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function Xq(t){return{reduceIndex(e,n,r){return t(Kv(n,e),r)}}}function ji(t){return{reduceIndex(e,n){return t(e,r=>n[r])}}}function x2(t){return{reduceIndex(e,n){const r=t(e,i=>n[i]);return ar(n)?new Date(r):r}}}const z4={reduceIndex(t,e){return Kv(e,t)}},n1={reduceIndex(t,e){return e[t[0]]}},Kq={reduceIndex(t,e){const r=Tf(ko(t,a=>a.length,a=>e[a]),_g),i=r.slice(-5).reverse();if(i.length<r.length){const a=r.slice(0,-4);i[4]=[` ${a.length.toLocaleString("en-US")} more`,Wa(a,_g)]}return i.map(([a,o])=>`${a} (${o.toLocaleString("en-US")})`).join(`
`)}},jq={reduceIndex(t,e){return e[t[t.length-1]]}},oh={label:"Frequency",reduceIndex(t){return t.length}},Zq={label:"Distinct",reduceIndex(t,e){const n=new xh;for(const r of t)n.add(e[r]);return n.size}},Qq=ji(Wa);function S2(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:e,reduceIndex:(n,r,i=1)=>Wa(n,a=>r[a])/i}}const Jq={reduceIndex(t,e,{z:n}){return n}};function du(t,{scale:e,type:n,value:r,filter:i,hint:a,label:o=Ys(r)},u){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),F4(u,{scale:e,type:n,value:mn(t,r),label:o,filter:i,hint:a})}function tH(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,du(e,r,n)]))}function eH(t,e){const n=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:a}])=>{const o=i==null?null:e[i];return[r,o==null?a:rn(a,o)]}));return n.channels=t,n}function F4(t,e){const{scale:n,value:r}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&r0(r,Kh)?null:"color",e.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&r0(r,$q)?null:"opacity",e.defaultScale="opacity";break;case"symbol":n!==!0&&r0(r,Rq)?(e.scale=null,e.value=rn(r,Jv)):e.scale="symbol",e.defaultScale="symbol";break;default:e.scale=Ze.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!Ze.has(n))throw new Error(`unknown scale: ${n}`);return e}function nH(t,e,n,r,i){const{order:a,reverse:o,reduce:u=!0,limit:c}=i;for(const f in i){if(!Ze.has(f))continue;let{value:d,order:p=a,reverse:g=o,reduce:y=u,limit:_=c}=Bu(i[f]);const b=d==null?void 0:d.startsWith("-");if(b&&(d=d.slice(1)),p=p===void 0?b!==(d==="width"||d==="height")?D4:B4:aH(p),y==null||y===!1)continue;const w=f==="fx"||f==="fy"?iH(e,r[f]):rH(n,f);if(!w)throw new Error(`missing channel for scale: ${f}`);const x=w.value,[M=0,A=1/0]=Qa(_)?_:_<0?[_]:[0,_];if(d==null)w.domain=()=>{let $=Array.from(new xh(x));return g&&($=$.reverse()),(M!==0||A!==1/0)&&($=$.slice(M,A)),$};else{const $=d==="data"?t:d==="height"?M2(n,"y1","y2"):d==="width"?M2(n,"x1","x2"):Mg(n,d,d==="y"?"y2":d==="x"?"x2":void 0),P=e1(y===!0?"max":y,$);w.domain=()=>{let L=eO(ga(x),F=>P.reduceIndex(F,$),F=>x[F]);return p&&L.sort(p),g&&L.reverse(),(M!==0||A!==1/0)&&(L=L.slice(M,A)),L.map(b4)}}}}function rH(t,e){for(const n in t){const r=t[n];if(r.scale===e)return r}}function iH(t,e){const n=t.original;if(n===t)return e;const r=e.value,i=e.value=[];for(let a=0;a<n.length;++a){const o=r[n[a][0]];for(const u of t[a])i[u]=o}return e}function M2(t,e,n){const r=Mg(t,e),i=Mg(t,n);return rn(i,(a,o)=>Math.abs(a-r[o]),Float64Array)}function Mg(t,e,n){let r=t[e];if(!r&&n!==void 0&&(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function aH(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return B4;case"descending":return D4}throw new Error(`invalid order: ${t}`)}function B4([t,e],[n,r]){return ni(e,r)||ni(t,n)}function D4([t,e],[n,r]){return ah(e,r)||ni(t,n)}function T2(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}const U4=new Map([["accent",oW],["category10",M5],["dark2",lW],["observable10",uW],["paired",cW],["pastel1",fW],["pastel2",hW],["set1",dW],["set2",pW],["set3",gW],["tableau10",vW]]);function sH(t){return t!=null&&U4.has(`${t}`.toLowerCase())}const $2=new Map([...U4,["brbg",Yi(T5,$5)],["prgn",Yi(A5,k5)],["piyg",Yi(E5,C5)],["puor",Yi(N5,P5)],["rdbu",Yi(gg,Qf)],["rdgy",Yi(L5,I5)],["rdylbu",Yi(vg,Jf)],["rdylgn",Yi(O5,Lv)],["spectral",Yi(R5,z5)],["burd",A2(gg,Qf)],["buylrd",A2(vg,Jf)],["blues",pn(l6,u6)],["greens",pn(c6,f6)],["greys",pn(h6,d6)],["oranges",pn(y6,b6)],["purples",pn(p6,g6)],["reds",pn(v6,m6)],["turbo",Gi($6)],["viridis",Gi(Iv)],["magma",Gi(A6)],["inferno",Gi(k6)],["plasma",Gi(E6)],["cividis",Gi(_6)],["cubehelix",Gi(w6)],["warm",Gi(x6)],["cool",Gi(S6)],["bugn",pn(F5,B5)],["bupu",pn(D5,U5)],["gnbu",pn(W5,q5)],["orrd",pn(H5,V5)],["pubu",pn(X5,K5)],["pubugn",pn(Y5,G5)],["purd",pn(j5,Z5)],["rdpu",pn(Q5,J5)],["ylgn",pn(n6,r6)],["ylgnbu",pn(t6,e6)],["ylorbr",pn(i6,a6)],["ylorrd",pn(s6,o6)],["rainbow",k2(M6)],["sinebow",k2(T6)]]);function pn(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Jr(e,n):t[n])}function Yi(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Jr(e,n):t[n])}function A2(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Jr(r=>e(1-r),n):t[n].slice().reverse())}function Gi(t){return({length:e})=>Jr(t,Math.max(2,Math.floor(e)))}function k2(t){return({length:e})=>Jr(t,Math.floor(e)+1).slice(0,-1)}function W4(t){const e=`${t}`.toLowerCase();if(!$2.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return $2.get(e)}function Jh(t,e){const n=W4(t),r=typeof n=="function"?n({length:e}):n;return r.length!==e?r.slice(0,e):r}function oH(t,e="greys"){const n=new Set,[r,i]=Jh(e,2);for(const a of t)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const E2=new Map([["brbg",$5],["prgn",k5],["piyg",C5],["puor",P5],["rdbu",Qf],["rdgy",I5],["rdylbu",Jf],["rdylgn",Lv],["spectral",z5],["burd",t=>Qf(1-t)],["buylrd",t=>Jf(1-t)],["blues",u6],["greens",f6],["greys",d6],["purples",g6],["reds",m6],["oranges",b6],["turbo",$6],["viridis",Iv],["magma",A6],["inferno",k6],["plasma",E6],["cividis",_6],["cubehelix",w6],["warm",x6],["cool",S6],["bugn",B5],["bupu",U5],["gnbu",q5],["orrd",V5],["pubugn",G5],["pubu",K5],["purd",Z5],["rdpu",J5],["ylgnbu",e6],["ylgn",r6],["ylorbr",a6],["ylorrd",o6],["rainbow",M6],["sinebow",T6]]);function r1(t){const e=`${t}`.toLowerCase();if(!E2.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return E2.get(e)}const lH=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function uH(t){return t!=null&&lH.has(`${t}`.toLowerCase())}const q4=t=>e=>t(1-e),o0=[0,1],C2=new Map([["number",En],["rgb",Es],["hsl",Wz],["hcl",Vz],["lab",qz]]);function H4(t){const e=`${t}`.toLowerCase();if(!C2.has(e))throw new Error(`unknown interpolator: ${e}`);return C2.get(e)}function qu(t,e,n,{type:r,nice:i,clamp:a,zero:o,domain:u=Y4(t,n),unknown:c,round:f,scheme:d,interval:p,range:g=Ze.get(t)===Du?_H(n,u):Ze.get(t)===Uu?wH(n,u):Ze.get(t)===Wu?o0:void 0,interpolate:y=Ze.get(t)===va?d==null&&g!==void 0?Es:r1(d!==void 0?d:r==="cyclical"?"rainbow":"turbo"):f?kh:En,reverse:_}){if(u=N2(u),p=rl(p,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof y!="function"&&(y=H4(y)),_=!!_,g!==void 0){const b=u.length,w=(g=N2(g)).length;if(b!==w){if(y.length===1)throw new Error("invalid piecewise interpolator");y=Eh(y,g),g=void 0}}if(y.length===1?(_&&(y=q4(y),_=!1),g===void 0&&(g=Float64Array.from(u,(b,w)=>w/(u.length-1)),g.length===2&&(g=o0)),e.interpolate((g===o0?ra:a1)(y))):e.interpolate(y),o){const[b,w]=Jn(u);(b>0||w<0)&&(u=cu(u),(Vo(u)||1)===Math.sign(b)?u[0]=0:u[u.length-1]=0)}return _&&(u=Ef(u)),e.domain(u).unknown(c),i&&(e.nice(cH(i,r)),u=e.domain()),g!==void 0&&e.range(g),a&&e.clamp(a),{type:r,domain:u,range:g,scale:e,interpolate:y,interval:p}}function N2(t){return t=Vs(t),t.length>=2?t:[t[0],t[0]]}function cH(t,e){return t===!0?void 0:typeof t=="number"?t:bq(t,e)}function fH(t,e,n){return qu(t,zh(),e,n)}function hH(t,e,n){return V4(t,e,{...n,exponent:.5})}function V4(t,e,{exponent:n=1,...r}){return qu(t,n5().exponent(n),e,{...r,type:"pow"})}function dH(t,e,{base:n=10,domain:r=xH(e),...i}){return qu(t,Q3().base(n),e,{...i,domain:r})}function pH(t,e,{constant:n=1,...r}){return qu(t,t5().constant(n),e,r)}function gH(t,e,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:o=SH(e),unknown:u,interpolate:c,reverse:f}){return n===void 0&&(n=c!==void 0?Jr(c,i):Ze.get(t)===va?Jh(a,i):void 0),o.length>0&&(o=r5(o,n===void 0?{length:i}:n).quantiles()),i1(t,e,{domain:o,range:n,reverse:f,unknown:u})}function vH(t,e,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=Y4(t,e),unknown:o,interpolate:u,reverse:c}){const[f,d]=Jn(a);let p;return n===void 0?(p=Zl(f,d,r),p[0]<=f&&p.splice(0,1),p[p.length-1]>=d&&p.pop(),r=p.length+1,n=u!==void 0?Jr(u,r):Ze.get(t)===va?Jh(i,r):void 0):(p=Jr(En(f,d),r+1).slice(1,-1),f instanceof Date&&(p=p.map(g=>new Date(g)))),Vo(Vs(a))<0&&p.reverse(),i1(t,e,{domain:p,range:n,reverse:c,unknown:o})}function i1(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:o=a!==void 0?Jr(a,n.length+1):Ze.get(t)===va?Jh(i,n.length+1):void 0,reverse:u}){n=Vs(n);const c=Vo(n);if(!isNaN(c)&&!mH(n,c))throw new Error(`the ${t} scale has a non-monotonic domain`);return u&&(o=Ef(o)),{type:"threshold",scale:i5(c<0?Ef(n):n,o===void 0?[]:o).unknown(r),domain:n,range:o}}function mH(t,e){for(let n=1,r=t.length,i=t[0];n<r;++n){const a=xu(i,i=t[n]);if(a!==0&&a!==e)return!1}return!0}function yH(t){return{type:"identity",scale:Pq(Ze.get(t))?K3():e=>e}}function pu(t,e=u4){return t.length?[la(t,({value:n})=>n===void 0?n:la(n,e)),Fr(t,({value:n})=>n===void 0?n:Fr(n,e))]:[0,1]}function Y4(t,e){const n=Ze.get(t);return(n===Du||n===Wu||n===Uu?bH:pu)(e)}function bH(t){return[0,t.length?Fr(t,({value:e})=>e===void 0?e:Fr(e,u4)):1]}function _H(t,e){const n=t.find(({radius:o})=>o!==void 0);if(n!==void 0)return[0,n.radius];const r=Oo(t,.5,({value:o})=>o===void 0?NaN:Oo(o,.25,Vh)),i=e.map(o=>3*Math.sqrt(o/r)),a=30/Fr(i);return a<1?i.map(o=>o*a):i}function wH(t,e){const n=L0(t,({value:a})=>a===void 0?NaN:L0(a,Math.abs)),r=e.map(a=>12*a/n),i=60/Fr(r);return i<1?r.map(a=>a*i):r}function xH(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return pu(t,Vh);if(n<0)return pu(t,Uv)}return[1,10]}function SH(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const r of n)e.push(r);return e}function a1(t){return(e,n)=>r=>t(e+r*(n-e))}let Tg=0,$g;function MH(){const t=Tg;return Tg=0,$g=void 0,t}function Ra(t){t!==$g&&($g=t,console.warn(t),++Tg)}function td(t,e,n,r,{type:i,nice:a,clamp:o,domain:u=pu(r),unknown:c,pivot:f=0,scheme:d,range:p,symmetric:g=!0,interpolate:y=Ze.get(t)===va?d==null&&p!==void 0?Es:r1(d!==void 0?d:"rdbu"):En,reverse:_}){f=+f,u=Vs(u);let[b,w]=u;if(u.length>2&&Ra(`Warning: the diverging ${t} scale domain contains extra elements.`),xu(b,w)<0&&([b,w]=[w,b],_=!_),b=Math.min(b,f),w=Math.max(w,f),typeof y!="function"&&(y=H4(y)),p!==void 0&&(y=y.length===1?a1(y)(...p):Eh(y,p)),_&&(y=q4(y)),g){const x=n.apply(f),M=x-n.apply(b),A=n.apply(w)-x;M<A?b=n.invert(x-A):M>A&&(w=n.invert(x+M))}return e.domain([b,f,w]).unknown(c).interpolator(y),o&&e.clamp(o),a&&e.nice(a),{type:i,domain:[b,w],pivot:f,interpolate:y,scale:e}}function TH(t,e,n){return td(t,_5(),EH,e,n)}function $H(t,e,n){return G4(t,e,{...n,exponent:.5})}function G4(t,e,{exponent:n=1,...r}){return td(t,S5().exponent(n=+n),PH(n),e,{...r,type:"diverging-pow"})}function AH(t,e,{base:n=10,pivot:r=1,domain:i=pu(e,r<0?Uv:Vh),...a}){return td(t,w5().base(n=+n),CH,e,{domain:i,pivot:r,...a})}function kH(t,e,{constant:n=1,...r}){return td(t,x5().constant(n=+n),LH(n),e,r)}const EH={apply(t){return t},invert(t){return t}},CH={apply:Math.log,invert:Math.exp},NH={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function PH(t){return t===.5?NH:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function LH(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function X4(t,e,n,r){return qu(t,e,n,r)}function IH(t,e,n){return X4(t,iW(),e,n)}function OH(t,e,n){return X4(t,aW(),e,n)}const Hu=Symbol("ordinal");function K4(t,e,n,{type:r,interval:i,domain:a,range:o,reverse:u,hint:c}){return i=rl(i,r),a===void 0&&(a=Z4(n,i,t)),(r==="categorical"||r===Hu)&&(r="ordinal"),u&&(a=Ef(a)),a=e.domain(a).domain(),o!==void 0&&(typeof o=="function"&&(o=o(a)),e.range(o)),{type:r,domain:a,range:o,scale:e,hint:c,interval:i}}function RH(t,e,{type:n,interval:r,domain:i,range:a,scheme:o,unknown:u,...c}){r=rl(r,n),i===void 0&&(i=Z4(e,r,t));let f;if(Ze.get(t)===Zh)f=BH(e),a=a===void 0?DH(f):rn(a,Jv);else if(Ze.get(t)===va&&(a===void 0&&(n==="ordinal"||n===Hu)&&(a=oH(i,o),a!==void 0&&(o=void 0)),o===void 0&&a===void 0&&(o=n==="ordinal"?"turbo":"observable10"),o!==void 0))if(a!==void 0){const d=r1(o),p=a[0],g=a[1]-a[0];a=({length:y})=>Jr(_=>d(p+g*_),y)}else a=W4(o);if(u===fg)throw new Error(`implicit unknown on ${t} scale is not supported`);return K4(t,Ih().unknown(u),e,{...c,type:n,domain:i,range:a,hint:f})}function zH(t,e,{align:n=.5,padding:r=.5,...i}){return j4(BD().align(n).padding(r),e,i,t)}function FH(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=t==="fx"||t==="fy"?0:r,...o}){return j4(Oh().align(n).paddingInner(i).paddingOuter(a),e,o,t)}function j4(t,e,n,r){let{round:i}=n;return i!==void 0&&t.round(i=!!i),t=K4(r,t,e,n),t.round=i,t}function Z4(t,e,n){const r=new xh;for(const{value:i,domain:a}of t){if(a!==void 0)return a();if(i!==void 0)for(const o of i)r.add(o)}if(e!==void 0){const[i,a]=Jn(r).map(e.floor,e);return e.range(i,e.offset(a))}if(r.size>1e4&&Ze.get(n)===vi)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return Tf(r,ni)}function P2(t,e){let n;for(const{hint:r}of t){const i=r==null?void 0:r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function BH(t){return{fill:P2(t,"fill"),stroke:P2(t,"stroke")}}function DH(t){return jn(t.fill)?CW:EW}function Ag(t,{label:e,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:a=n,insetLeft:o=n,round:u,nice:c,clamp:f,zero:d,align:p,padding:g,projection:y,facet:{label:_=e}={},...b}={}){const w={};for(const[x,M]of t){const A=b[x],$=VH(x,M,{round:Ze.get(x)===vi?u:void 0,nice:c,clamp:f,zero:d,align:p,padding:g,projection:y,...A});if($){let{label:P=x==="fx"||x==="fy"?_:e,percent:L,transform:F,inset:V,insetTop:K=V!==void 0?V:x==="y"?r:0,insetRight:W=V!==void 0?V:x==="x"?i:0,insetBottom:R=V!==void 0?V:x==="y"?a:0,insetLeft:et=V!==void 0?V:x==="x"?o:0}=A||{};if(F==null)F=void 0;else if(typeof F!="function")throw new Error("invalid scale transform; not a function");$.percent=!!L,$.label=P===void 0?WH(M,$):P,$.transform=F,x==="x"||x==="fx"?($.insetLeft=+et,$.insetRight=+W):(x==="y"||x==="fy")&&($.insetTop=+K,$.insetBottom=+R),w[x]=$}}return w}function L2(t){const e={},n={scales:e};for(const[r,i]of Object.entries(t)){const{scale:a,type:o,interval:u,label:c}=i;e[r]=jH(i),n[r]=a,a.type=o,u!=null&&(a.interval=u),c!=null&&(a.label=c)}return n}function UH(t,e){const{x:n,y:r,fx:i,fy:a}=t,o=i||a?s1(e):e;i&&I2(i,o),a&&O2(a,o);const u=i||a?Q4(t,e):e;n&&I2(n,u),r&&O2(r,u)}function WH(t=[],e){let n;for(const{label:r}of t)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Gs(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function qH(t){return Math.sign(Vo(t.domain()))*Math.sign(Vo(t.range()))}function s1(t){const{marginTop:e,marginRight:n,marginBottom:r,marginLeft:i,width:a,height:o,facet:{marginTop:u,marginRight:c,marginBottom:f,marginLeft:d}}=t;return{marginTop:Math.max(e,u),marginRight:Math.max(n,c),marginBottom:Math.max(r,f),marginLeft:Math.max(i,d),width:a,height:o}}function Q4({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:u,height:c}=s1(n);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:t?t.scale.bandwidth()+o+i:u,height:e?e.scale.bandwidth()+r+a:c,facet:{width:u,height:c}}}function I2(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:a=0,marginRight:o=0}=e,u=a+n,c=i-o-r;t.range=[u,Math.max(u,c)],Gs(t)||(t.range=t8(t)),t.scale.range(t.range)}J4(t)}function O2(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:a=0,marginBottom:o=0}=e,u=a+n,c=i-o-r;t.range=[Math.max(u,c),u],Gs(t)?t.range.reverse():t.range=t8(t),t.scale.range(t.range)}J4(t)}function J4(t){t.round===void 0&&GH(t)&&HH(t)<=30&&t.scale.round(!0)}function HH({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),o=e-i,u=Math.abs(r-n)/Math.max(1,o+a*2);return(u-Math.floor(u))*o}function t8(t){const e=t.scale.domain().length+e8(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},(i,a)=>n+a/(e-1)*(r-n))}function VH(t,e=[],n={}){const r=YH(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&Gs({type:r})){const i=e.map(({value:a})=>a).filter(a=>a!==void 0);i.some(ar)?Ra(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${So(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${So(r)}".`):i.some(xq)?Ra(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${So(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${So(r)}".`):i.some(Sq)&&Ra(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${So(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${So(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=tf(e,n,gi);break;case"identity":switch(Ze.get(t)){case vi:n=tf(e,n,gi);break;case Zh:n=tf(e,n,XH);break}break;case"utc":case"time":n=tf(e,n,_4);break}switch(r){case"diverging":return TH(t,e,n);case"diverging-sqrt":return $H(t,e,n);case"diverging-pow":return G4(t,e,n);case"diverging-log":return AH(t,e,n);case"diverging-symlog":return kH(t,e,n);case"categorical":case"ordinal":case Hu:return RH(t,e,n);case"cyclical":case"sequential":case"linear":return fH(t,e,n);case"sqrt":return hH(t,e,n);case"threshold":return i1(t,e,n);case"quantile":return gH(t,e,n);case"quantize":return vH(t,e,n);case"pow":return V4(t,e,n);case"log":return dH(t,e,n);case"symlog":return pH(t,e,n);case"utc":return OH(t,e,n);case"time":return IH(t,e,n);case"point":return zH(t,e,n);case"band":return FH(t,e,n);case"identity":return yH(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function So(t){return typeof t=="symbol"?t.description:t}function R2(t){return typeof t=="string"?`${t}`.toLowerCase():t}const z2={toString:()=>"projection"};function YH(t,e,{type:n,domain:r,range:i,scheme:a,pivot:o,projection:u}){var d;if(n=R2(n),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&u!=null&&(n=z2);for(const p of e){const g=R2(p.type);if(g!==void 0){if(n===void 0)n=g;else if(n!==g)throw new Error(`scale incompatible with channel: ${n} !== ${g}`)}}if(n===z2)return;if(n!==void 0)return n;if(r===void 0&&!e.some(({value:p})=>p!==void 0))return;const c=Ze.get(t);if(c===Du)return"sqrt";if(c===Wu||c===Uu)return"linear";if(c===Zh)return"ordinal";const f=(d=r??i)==null?void 0:d.length;if(f<2||f>2)return l0(c);if(r!==void 0){if(_2(r))return l0(c);if(ar(r))return"utc"}else{const p=e.map(({value:g})=>g).filter(g=>g!==void 0);if(p.some(_2))return l0(c);if(p.some(ar))return"utc"}if(c===va){if(o!=null||uH(a))return"diverging";if(sH(a))return"categorical"}return"linear"}function l0(t){switch(t){case vi:return"point";case va:return Hu;default:return"ordinal"}}function Gs({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===Hu}function e8({type:t}){return t==="threshold"}function GH({type:t}){return t==="point"||t==="band"}function Ya(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let r=1,i=e.length;r<i;++r)if(t(e[r])-n)return!1;return!0}function tf(t,{domain:e,...n},r){var i;for(const a of t)a.value!==void 0&&(e===void 0&&(e=(i=a.value)==null?void 0:i.domain),a.value=r(a.value));return{domain:e===void 0?e:r(e),...n}}function XH(t){return rn(t,Jv)}function KH(t){return e=>{if(!Ze.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function jH({scale:t,type:e,domain:n,range:r,interpolate:i,interval:a,transform:o,percent:u,pivot:c}){if(e==="identity")return{type:"identity",apply:d=>d,invert:d=>d};const f=t.unknown?t.unknown():void 0;return{type:e,domain:cu(n),...r!==void 0&&{range:cu(r)},...o!==void 0&&{transform:o},...u&&{percent:u},...f!==void 0&&{unknown:f},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:d=>t(d),...t.invert&&{invert:d=>t.invert(d)}}}function ZH(t,e){const{fx:n,fy:r}=Ag(t,e),i=n==null?void 0:n.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?JI(i,a).map(([o,u],c)=>({x:o,y:u,i:c})):i?i.map((o,u)=>({x:o,i:u})):a?a.map((o,u)=>({y:o,i:u})):void 0}function QH(t,{x:e,y:n}){return e&&(e=kg(e)),n&&(n=kg(n)),t.filter(e&&n?r=>e.has(r.x)&&n.has(r.y):e?r=>e.has(r.x):r=>n.has(r.y)).sort(e&&n?(r,i)=>e.get(r.x)-e.get(i.x)||n.get(r.y)-n.get(i.y):e?(r,i)=>e.get(r.x)-e.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function o1(t,{fx:e,fy:n}){const r=ga(t),i=e==null?void 0:e.value,a=n==null?void 0:n.value;return e&&n?ko(r,o=>(o.fx=i[o[0]],o.fy=a[o[0]],o),o=>i[o],o=>a[o]):e?ko(r,o=>(o.fx=i[o[0]],o),o=>i[o]):ko(r,o=>(o.fy=a[o[0]],o),o=>a[o])}function JH(t,e,{marginTop:n,marginLeft:r}){const i=t?({x:o})=>t(o)-r:()=>0,a=e?({y:o})=>e(o)-n:()=>0;return function(o){this.tagName==="svg"?(this.setAttribute("x",i(o)),this.setAttribute("y",a(o))):this.setAttribute("transform",`translate(${i(o)},${a(o)})`)}}function tV(t){const e=[],n=new Uint32Array(Wa(t,r=>r.length));for(const r of t){let i=0;for(const a of t)r!==a&&(n.set(a,i),i+=a.length);e.push(n.slice(0,i))}return e}const eV=new Map([["top",u0],["right",h0],["bottom",c0],["left",f0],["top-left",ef(u0,f0)],["top-right",ef(u0,h0)],["bottom-left",ef(c0,f0)],["bottom-right",ef(c0,h0)],["top-empty",iV],["right-empty",oV],["bottom-empty",aV],["left-empty",sV],["empty",lV]]);function nV(t){if(t==null)return null;const e=eV.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const F2=new WeakMap;function kg(t){let e=F2.get(t);return e||F2.set(t,e=new $s(rn(t,(n,r)=>[n,r]))),e}function Ja(t,e){return kg(t).get(e)}function rV(t,e,n){return e=ia(e),n=ia(n),t.find(r=>Object.is(ia(r.x),e)&&Object.is(ia(r.y),n))}function ed(t,e,n){var r;return(r=rV(t,e,n))==null?void 0:r.empty}function u0(t,{y:e},{y:n}){return e?Ja(e,n)===0:!0}function c0(t,{y:e},{y:n}){return e?Ja(e,n)===e.length-1:!0}function f0(t,{x:e},{x:n}){return e?Ja(e,n)===0:!0}function h0(t,{x:e},{x:n}){return e?Ja(e,n)===e.length-1:!0}function iV(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=Ja(e,r);if(a>0)return ed(t,n,e[a-1])}function aV(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=Ja(e,r);if(a<e.length-1)return ed(t,n,e[a+1])}function sV(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=Ja(e,n);if(a>0)return ed(t,e[a-1],r)}function oV(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=Ja(e,n);if(a<e.length-1)return ed(t,e[a+1],r)}function lV(t,e,{empty:n}){return n}function ef(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function d0(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map(({x:i,y:a})=>{var o;return((o=r.get(i))==null?void 0:o.get(a))??[]}):e?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const n8=Math.PI,Xi=2*n8,p0=.618;function uV({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:a=e}={},o){if(t==null)return;if(typeof t.stream=="function")return t;let u,c,f="frame";if(Za(t)){let P;if({type:t,domain:c,inset:P,insetTop:n=P!==void 0?P:n,insetRight:r=P!==void 0?P:r,insetBottom:i=P!==void 0?P:i,insetLeft:a=P!==void 0?P:a,clip:f=f,...u}=t,t==null)return}typeof t!="function"&&({type:t}=Eg(t));const{width:d,height:p,marginLeft:g,marginRight:y,marginTop:_,marginBottom:b}=o,w=d-g-y-a-r,x=p-_-b-n-i;if(t=t==null?void 0:t({width:w,height:x,clip:f,...u}),t==null)return;f=cV(f,g,_,d-y,p-b);let M=g+a,A=_+n,$;if(c!=null){const[[P,L],[F,V]]=$v(t).bounds(c),K=Math.min(w/(F-P),x/(V-L));K>0?(M-=(K*(P+F)-w)/2,A-=(K*(L+V)-x)/2,$=Yf({point(W,R){this.stream.point(W*K+M,R*K+A)}})):Ra("Warning: the projection could not be fit to the specified domain; using the default scale.")}return $??($=M===0&&A===0?r8():Yf({point(P,L){this.stream.point(P+M,L+A)}})),{stream:P=>t.stream($.stream(f(P)))}}function Eg(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Yr(iD,.7463,.4673);case"albers":return nf(z3,.7463,.4673);case"azimuthal-equal-area":return Yr(aD,4,4);case"azimuthal-equidistant":return Yr(sD,Xi,Xi);case"conic-conformal":return nf(uD,Xi,Xi);case"conic-equal-area":return nf(Gf,6.1702,2.9781);case"conic-equidistant":return nf(hD,7.312,3.6282);case"equal-earth":return Yr(pD,5.4133,2.6347);case"equirectangular":return Yr(cD,Xi,n8);case"gnomonic":return Yr(gD,3.4641,3.4641);case"identity":return{type:r8};case"reflect-y":return{type:fV};case"mercator":return Yr(oD,Xi,Xi);case"orthographic":return Yr(vD,2,2);case"stereographic":return Yr(mD,2,2);case"transverse-mercator":return Yr(yD,Xi,Xi);default:throw new Error(`unknown projection type: ${t}`)}}function cV(t,e,n,r,i){if(t===!1||t==null||typeof t=="number")return a=>a;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return w3(e,n,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function Yr(t,e,n){return{type:({width:r,height:i,rotate:a,precision:o=.15,clip:u})=>{var f,d,p;const c=t();return o!=null&&((f=c.precision)==null||f.call(c,o)),a!=null&&((d=c.rotate)==null||d.call(c,a)),typeof u=="number"&&((p=c.clipAngle)==null||p.call(c,u)),r!=null&&(c.scale(Math.min(r/e,i/n)),c.translate([r/2,i/2])),c},aspectRatio:n/e}}function nf(t,e,n){const{type:r,aspectRatio:i}=Yr(t,e,n);return{type:a=>{const{parallels:o,domain:u,width:c,height:f}=a,d=r(a);return o!=null&&(d.parallels(o),u===void 0&&c!=null&&d.fitSize([c,f],{type:"Sphere"})),d},aspectRatio:i}}const r8=ra({stream:t=>t}),fV=ra(Yf({point(t,e){this.stream.point(t,-e)}}));function hV(t,e,n,r){const i=n[t],a=n[e],o=i.length,u=n[t]=new Float64Array(o).fill(NaN),c=n[e]=new Float64Array(o).fill(NaN);let f;const d=r.stream({point(p,g){u[f]=p,c[f]=g}});for(f=0;f<o;++f)d.point(i[f],a[f])}function dV({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(Za(t)&&(t=t.type),t!=null)}function pV(t){if(typeof(t==null?void 0:t.stream)=="function")return p0;if(Za(t)){let e,n;if({domain:e,type:t,...n}=t,e!=null&&t!=null){const r=typeof t=="string"?Eg(t).type:t,[[i,a],[o,u]]=$v(r({...n,width:100,height:100})).bounds(e),c=(u-a)/(o-i);return c&&isFinite(c)?c<.2?.2:c>5?5:c:p0}}if(t!=null){if(typeof t!="function"){const{aspectRatio:e}=Eg(t);if(e)return e}return p0}}function gV(t){const e=[],n=[],r={scale:"x",value:e},i={scale:"y",value:n},a={point(o,u){e.push(o),n.push(u)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const o of t.value)ds(o,a);return[r,i]}function vV({x:t,y:e}){if(t||e)return t??(t=n=>n),e??(e=n=>n),Yf({point(n,r){this.stream.point(t(n),e(r))}})}function l1(t={}){const{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:E4(n)}}function en(t,{document:e}){return we(Su(t).call(e.documentElement))}const Cg=Symbol("unset");function u1(t){return(t.length===1?mV:yV)(t)}function mV(t){let e,n=Cg;return r=>(Object.is(n,r)||(n=r,e=t(r)),e)}function yV(t){let e,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,a)=>!Object.is(i,r[a])))&&(n=r,e=t(...r)),e)}const bV=u1(t=>new Intl.NumberFormat(t));u1((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{month:e}}));u1((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{weekday:e}}));function _V(t="en-US"){const e=bV(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function wV(t){return JW(t,"Invalid Date")}function xV(t="en-US"){const e=_V(t);return n=>(n instanceof Date?wV:typeof n=="number"?e:Cn)(n)}const Ko=xV(),er=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let SV=0;function i8(){return`plot-clip-${++SV}`}function MV(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:o,fill:u,fillOpacity:c,stroke:f,strokeWidth:d,strokeOpacity:p,strokeLinejoin:g,strokeLinecap:y,strokeMiterlimit:_,strokeDasharray:b,strokeDashoffset:w,opacity:x,mixBlendMode:M,imageFilter:A,paintOrder:$,pointerEvents:P,shapeRendering:L,channels:F},{ariaLabel:V,fill:K="currentColor",fillOpacity:W,stroke:R="none",strokeOpacity:et,strokeWidth:j,strokeLinecap:C,strokeLinejoin:z,strokeMiterlimit:U,paintOrder:B}){K===null&&(u=null,c=null),R===null&&(f=null,p=null),jn(K)?!jn(R)&&(!jn(u)||F!=null&&F.fill)&&(R="none"):jn(R)&&(!jn(f)||F!=null&&F.stroke)&&(K="none");const[at,Z]=ha(u,K),[I,E]=Wn(c,W),[H,Y]=ha(f,R),[J,ht]=Wn(p,et),[nt,rt]=Wn(x);hu(Y)||(d===void 0&&(d=j),y===void 0&&(y=C),g===void 0&&(g=z),_===void 0&&!Aq(g)&&(_=U),!hu(Z)&&$===void 0&&($=B));const[lt,tt]=Wn(d);return K!==null&&(t.fill=Sn(Z,"currentColor"),t.fillOpacity=Nl(E,1)),R!==null&&(t.stroke=Sn(Y,"none"),t.strokeWidth=Nl(tt,1),t.strokeOpacity=Nl(ht,1),t.strokeLinejoin=Sn(g,"miter"),t.strokeLinecap=Sn(y,"butt"),t.strokeMiterlimit=Nl(_,4),t.strokeDasharray=Sn(b,"none"),t.strokeDashoffset=Sn(w,"0")),t.target=Cn(o),t.ariaLabel=Cn(V),t.ariaDescription=Cn(i),t.ariaHidden=Cn(a),t.opacity=Nl(rt,1),t.mixBlendMode=Sn(M,"normal"),t.imageFilter=Sn(A,"none"),t.paintOrder=Sn($,"normal"),t.pointerEvents=Sn(P,"auto"),t.shapeRendering=Sn(L,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:at,scale:"auto",optional:!0},fillOpacity:{value:I,scale:"auto",optional:!0},stroke:{value:H,scale:"auto",optional:!0},strokeOpacity:{value:J,scale:"auto",optional:!0},strokeWidth:{value:lt,optional:!0},opacity:{value:nt,scale:"auto",optional:!0}}}function TV(t,e){e&&t.filter(n=>Dv(e[n])).append("title").call(AV,e)}function $V(t,e){e&&t.filter(([n])=>Dv(e[n])).append("title").call(kV,e)}function AV(t,e){e&&t.text(n=>Ko(e[n]))}function kV(t,e){e&&t.text(([n])=>Ko(e[n]))}function Dr(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:o,stroke:u,strokeOpacity:c,strokeWidth:f,opacity:d,href:p}){r&&Gt(t,"aria-label",g=>r[g]),a&&Gt(t,"fill",g=>a[g]),o&&Gt(t,"fill-opacity",g=>o[g]),u&&Gt(t,"stroke",g=>u[g]),c&&Gt(t,"stroke-opacity",g=>c[g]),f&&Gt(t,"stroke-width",g=>f[g]),d&&Gt(t,"opacity",g=>d[g]),p&&o8(t,g=>p[g],e),n||TV(t,i)}function a8(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:o,stroke:u,strokeOpacity:c,strokeWidth:f,opacity:d,href:p}){r&&Gt(t,"aria-label",([g])=>r[g]),a&&Gt(t,"fill",([g])=>a[g]),o&&Gt(t,"fill-opacity",([g])=>o[g]),u&&Gt(t,"stroke",([g])=>u[g]),c&&Gt(t,"stroke-opacity",([g])=>c[g]),f&&Gt(t,"stroke-width",([g])=>f[g]),d&&Gt(t,"opacity",([g])=>d[g]),p&&o8(t,([g])=>p[g],e),n||$V(t,i)}function EV({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:i,strokeOpacity:a,strokeWidth:o,opacity:u,href:c},{tip:f}){return[t,f?void 0:e,n,r,i,a,o,u,c].filter(d=>d!==void 0)}function CV(t,e,n){const r=Sh(t,i=>e[i]);return n===void 0&&r.size>1+t.length>>1&&Ra("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*s8(t,e,n,r){const{z:i}=n,{z:a}=r,o=EV(r,n),u=[...e,...o];for(const c of a?CV(t,a,i):[t]){let f,d;t:for(const p of c){for(const g of u)if(!Va(g[p])){d&&d.push(-1);continue t}if(f===void 0){d&&(yield d),f=o.map(g=>ia(g[p])),d=[p];continue}d.push(p);for(let g=0;g<o.length;++g)if(ia(o[g][p])!==f[g]){yield d,f=o.map(_=>ia(_[p])),d=[p];continue t}}d&&(yield d)}}function NV(t,e,n,r){let i;const{clip:a=r.clip}=e;a==="frame"?(t=en("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),i=LV(r,n)):a&&(i=OV(a,r)),Gt(t,"aria-label",e.ariaLabel),Gt(t,"aria-description",e.ariaDescription),Gt(t,"aria-hidden",e.ariaHidden),Gt(t,"clip-path",i)}function PV(t){const e=new WeakMap;return(n,r)=>{let i=e.get(n);if(!i){const a=i8();we(n.ownerSVGElement).append("clipPath").attr("id",a).call(t,n,r),e.set(n,i=`url(#${a})`)}return i}}const LV=PV((t,e,n)=>{const{width:r,height:i,marginLeft:a,marginRight:o,marginTop:u,marginBottom:c}=n;t.append("rect").attr("x",a).attr("y",u).attr("width",r-o-a).attr("height",i-u-c)}),B2=new WeakMap,IV={type:"Sphere"};function OV(t,e){let n,r;if((n=B2.get(e))||B2.set(e,n=new WeakMap),t.type==="Sphere"&&(t=IV),!(r=n.get(t))){const i=i8();we(e.ownerSVGElement).append("clipPath").attr("id",i).append("path").attr("d",e.path()(t)),n.set(t,r=`url(#${i})`)}return r}function br(t,e,n,r){NV(t,e,n,r),Gt(t,"class",e.className),Gt(t,"fill",e.fill),Gt(t,"fill-opacity",e.fillOpacity),Gt(t,"stroke",e.stroke),Gt(t,"stroke-width",e.strokeWidth),Gt(t,"stroke-opacity",e.strokeOpacity),Gt(t,"stroke-linejoin",e.strokeLinejoin),Gt(t,"stroke-linecap",e.strokeLinecap),Gt(t,"stroke-miterlimit",e.strokeMiterlimit),Gt(t,"stroke-dasharray",e.strokeDasharray),Gt(t,"stroke-dashoffset",e.strokeDashoffset),Gt(t,"shape-rendering",e.shapeRendering),Gt(t,"filter",e.imageFilter),Gt(t,"paint-order",e.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=e;Gt(t,"pointer-events",i)}function Hn(t,e){RV(t,"mix-blend-mode",e.mixBlendMode),Gt(t,"opacity",e.opacity)}function o8(t,e,n){t.each(function(r){const i=e(r);if(i!=null){const a=this.ownerDocument.createElementNS(Ro.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(Ro.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function Gt(t,e,n){n!=null&&t.attr(e,n)}function RV(t,e,n){n!=null&&t.style(e,n)}function _r(t,e,{x:n,y:r},i=er,a=er){i+=e.dx,a+=e.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&t.attr("transform",`translate(${i},${a})`)}function Sn(t,e){if((t=Cn(t))!==e)return t}function Nl(t,e){if((t=yn(t))!==e)return t}const zV=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function c1(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!zV.test(t))throw new Error(`invalid class name: ${t}`);return t}function f1(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function Vu({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:i,marginBottom:a,marginLeft:o}){return[/left$/.test(t)?o:/right$/.test(t)?e-i:(o+e-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-a:(r+n-a)/2]}class On{constructor(e,n={},r={},i){const{facet:a="auto",facetAnchor:o,fx:u,fy:c,sort:f,dx:d=0,dy:p=0,margin:g=0,marginTop:y=g,marginRight:_=g,marginBottom:b=g,marginLeft:w=g,className:x,clip:M=i==null?void 0:i.clip,channels:A,tip:$,render:P}=r;if(this.data=e,this.sort=Go(f)?f:null,this.initializer=Xo(r).initializer,this.transform=this.initializer?r.transform:Qh(r).transform,a===null||a===!1?this.facet=null:(this.facet=ii(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=e===vf&&typeof u=="string"?[u]:u,this.fy=e===vf&&typeof c=="string"?[c]:c),this.facetAnchor=nV(o),n=k4(n),A!==void 0&&(n={...FV(A),...n}),i!==void 0&&(n={...MV(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([L,F])=>{if(Gh(F.value)){const{value:V,label:K=F.label,scale:W=F.scale}=F.value;F={...F,label:K,scale:W,value:V}}if(e===vf&&typeof F.value=="string"){const{value:V}=F;F={...F,value:[V]}}return[L,F]}).filter(([L,{value:F,optional:V}])=>{if(F!=null)return!0;if(V)return!1;throw new Error(`missing channel value: ${L}`)})),this.dx=+d,this.dy=+p,this.marginTop=+y,this.marginRight=+_,this.marginBottom=+b,this.marginLeft=+w,this.clip=E4(M),this.tip=BV($),this.className=Cn(x),this.facet==="super"){if(u||c)throw new Error("super-faceting cannot use fx or fy");for(const L in this.channels){const{scale:F}=n[L];if(!(F!=="x"&&F!=="y"))throw new Error("super-faceting cannot use x or y")}}P!=null&&(this.render=u8(P,this.render))}initialize(e,n,r){let i=Yo(this.data);e===void 0&&i!=null&&(e=[ga(i)]);const a=e;this.transform!=null&&({facets:e,data:i}=this.transform(i,e,r),i=Yo(i)),e!==void 0&&(e.original=a);const o=tH(this.channels,i);return this.sort!=null&&nH(i,e,o,n,this.sort),{data:i,facets:e,channels:o}}filter(e,n,r){for(const i in n){const{filter:a=Va}=n[i];if(a!==null){const o=r[i];e=e.filter(u=>a(o[u]))}}return e}project(e,n,r){for(const i in e)if(e[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in e&&e[a].scale==="y"&&hV(i,a,n,r.projection)}}scale(e,n,r){const i=eH(e,n);return r.projection&&this.project(e,i,r),i}}function l8(...t){return t.plot=On.prototype.plot,t}function u8(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,r,i,a,o,u){return t.call(this,n,r,i,a,o,(c,f,d,p,g)=>e.call(this,c,f,d,p,g,u))}}function FV(t){return Object.fromEntries(Object.entries(k4(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:Bu(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function BV(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?ii(t,"tip",["x","y","xy"]):t}function nd(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:Za(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}function DV(t,e,n={}){let r=.5-er,i=.5+er,a=.5+er,o=.5-er;for(const{marginTop:b,marginRight:w,marginBottom:x,marginLeft:M}of e)b>r&&(r=b),w>i&&(i=w),x>a&&(a=x),M>o&&(o=M);let{margin:u,marginTop:c=u!==void 0?u:r,marginRight:f=u!==void 0?u:i,marginBottom:d=u!==void 0?u:a,marginLeft:p=u!==void 0?u:o}=n;c=+c,f=+f,d=+d,p=+p;let{width:g=640,height:y=UV(t,n,{width:g,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:o})+Math.max(0,c-r+d-a)}=n;g=+g,y=+y;const _={width:g,height:y,marginTop:c,marginRight:f,marginBottom:d,marginLeft:p};if(t.fx||t.fy){let{margin:b,marginTop:w=b!==void 0?b:c,marginRight:x=b!==void 0?b:f,marginBottom:M=b!==void 0?b:d,marginLeft:A=b!==void 0?b:p}=n.facet??{};w=+w,x=+x,M=+M,A=+A,_.facet={marginTop:w,marginRight:x,marginBottom:M,marginLeft:A}}return _}function UV({x:t,y:e,fy:n,fx:r},{projection:i,aspectRatio:a},{width:o,marginTopDefault:u,marginRightDefault:c,marginBottomDefault:f,marginLeftDefault:d}){const p=n&&n.scale.domain().length||1,g=pV(i);if(g){const _=r?r.scale.domain().length:1,b=(1.1*p-.1)/(1.1*_-.1)*g,w=Math.max(.1,Math.min(10,b));return Math.round((o-d-c)*w+u+f)}const y=e?Gs(e)?e.scale.domain().length||1:Math.max(7,17/p):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const _=D2("y",e)/(D2("x",t)*a),b=r?r.scale.bandwidth():1,w=n?n.scale.bandwidth():1,x=b*(o-d-c)-t.insetLeft-t.insetRight;return(_*x+e.insetTop+e.insetBottom)/w+u+f}return!!(e||n)*Math.max(1,Math.min(60,y*p))*20+!!r*30+60}function D2(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:r}=e;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const u=e.scale.exponent();i=c=>Math.pow(c,u);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[a,o]=Jn(r);return Math.abs(i(o)-i(a))}const U2=new WeakMap;function h1(t,e,{x:n,y:r,px:i,py:a,maxRadius:o=40,channels:u,render:c,...f}={}){return o=+o,i!=null&&(n??(n=null),u={...u,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),u={...u,py:{value:a,scale:"y"}}),{x:n,y:r,channels:u,...f,render:u8(function(d,p,g,y,_,b){_={..._,pointerSticky:!1};const w=_.ownerSVGElement,{data:x}=_.getMarkState(this);let M=U2.get(w);M||U2.set(w,M={sticky:!1,roots:[],renders:[]});let A=M.renders.push(Y)-1;const{x:$,y:P,fx:L,fy:F}=p;let V=L?L(d.fx)-y.marginLeft:0,K=F?F(d.fy)-y.marginTop:0;$!=null&&$.bandwidth&&(V+=$.bandwidth()/2),P!=null&&P.bandwidth&&(K+=P.bandwidth()/2);const W=d.fi!=null;let R;if(W){let rt=M.facetStates;rt||(M.facetStates=rt=new Map),R=rt.get(this),R||rt.set(this,R=new Map)}const[et,j]=Vu(this,y),{px:C,py:z}=g,U=C?rt=>C[rt]:c8(g,et),B=z?rt=>z[rt]:f8(g,j);let at,Z,I,E;function H(rt,lt){if(W)if(E&&(E=cancelAnimationFrame(E)),rt==null)R.delete(d.fi);else{R.set(d.fi,lt),E=requestAnimationFrame(()=>{E=null;for(const[tt,ot]of R)if(ot<lt||ot===lt&&tt<d.fi){rt=null;break}Y(rt)});return}Y(rt)}function Y(rt){if(at===rt&&I===M.sticky)return;at=rt,I=_.pointerSticky=M.sticky;const lt=at==null?[]:[at];W&&(lt.fx=d.fx,lt.fy=d.fy,lt.fi=d.fi);const tt=b(lt,p,g,y,_);if(Z){if(W){const ot=Z.parentNode,_t=Z.getAttribute("transform"),Q=tt.getAttribute("transform");_t?tt.setAttribute("transform",_t):tt.removeAttribute("transform"),Q?ot.setAttribute("transform",Q):ot.removeAttribute("transform"),tt.removeAttribute("aria-label"),tt.removeAttribute("aria-description"),tt.removeAttribute("aria-hidden")}Z.replaceWith(tt)}if(M.roots[A]=Z=tt,!(at==null&&(R==null?void 0:R.size)>1)){const ot=at==null?null:Hs(x)?x[at]:x.get(at);_.dispatchValue(ot)}return tt}function J(rt){if(M.sticky||rt.pointerType==="mouse"&&rt.buttons===1)return;let[lt,tt]=hi(rt);lt-=V,tt-=K;const ot=lt<y.marginLeft||lt>y.width-y.marginRight?1:t,_t=tt<y.marginTop||tt>y.height-y.marginBottom?1:e;let Q=null,At=o*o;for(const vt of d){const St=ot*(U(vt)-lt),zt=_t*(B(vt)-tt),mt=St*St+zt*zt;mt<=At&&(Q=vt,At=mt)}if(Q!=null&&(t!==1||e!==1)){const vt=U(Q)-lt,St=B(Q)-tt;At=vt*vt+St*St}H(Q,At)}function ht(rt){rt.pointerType==="mouse"&&at!=null&&(M.sticky&&M.roots.some(lt=>lt==null?void 0:lt.contains(rt.target))||(M.sticky?(M.sticky=!1,M.renders.forEach(lt=>lt(null))):(M.sticky=!0,Y(at)),rt.stopImmediatePropagation()))}function nt(rt){rt.pointerType==="mouse"&&(M.sticky||H(null))}return w.addEventListener("pointerenter",J),w.addEventListener("pointermove",J),w.addEventListener("pointerdown",ht),w.addEventListener("pointerleave",nt),Y(null)},c)}}function WV(t){return h1(1,1,t)}function qV(t){return h1(1,.01,t)}function W2(t){return h1(.01,1,t)}function c8({x1:t,x2:e,x:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function f8({y1:t,y2:e,y:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function h8(t){return Gs(t)&&t.interval===void 0?void 0:"tabular-nums"}function HV(t,e){let{label:n=t.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:o=18,marginRight:u=0,marginBottom:c=16+r,marginLeft:f=0,style:d,ticks:p=(i-f-u)/64,tickFormat:g,fontVariant:y=h8(t),round:_=!0,opacity:b,className:w}=e;const x=l1(e);w=c1(w),b=Wn(b)[1],g===null&&(g=()=>null);const M=en("svg",x).attr("class",`${w}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(et=>et.append("style").text(`:where(.${w}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${w}-ramp text) {
  white-space: pre;
}`)).call(f1,d);let A=et=>et.selectAll(".tick line").attr("y1",o+c-a),$;const P=_?(et,j)=>et.rangeRound(j):(et,j)=>et.range(j),{type:L,domain:F,range:V,interpolate:K,scale:W,pivot:R}=t;if(K){const et=V===void 0?K:Eh(K.length===1?a1(K):K,V);$=P(W.copy(),Jr(En(f,i-u),Math.min(F.length+(R!==void 0),V===void 0?1/0:V.length)));const j=256,C=x.document.createElement("canvas");C.width=j,C.height=1;const z=C.getContext("2d");for(let U=0,B=j-1;U<j;++U)z.fillStyle=et(U/B),z.fillRect(U,0,1,1);M.append("image").attr("opacity",b).attr("x",f).attr("y",o).attr("width",i-f-u).attr("height",a-o-c).attr("preserveAspectRatio","none").attr("xlink:href",C.toDataURL())}else if(L==="threshold"){const et=F,j=g===void 0?C=>C:typeof g=="string"?Ds(g):g;$=P(zh().domain([-1,V.length-1]),[f,i-u]),M.append("g").attr("fill-opacity",b).selectAll().data(V).enter().append("rect").attr("x",(C,z)=>$(z-1)).attr("y",o).attr("width",(C,z)=>$(z)-$(z-1)).attr("height",a-o-c).attr("fill",C=>C),p=rn(et,(C,z)=>z),g=C=>j(et[C],C)}else $=P(Oh().domain(F),[f,i-u]),M.append("g").attr("fill-opacity",b).selectAll().data(F).enter().append("rect").attr("x",$).attr("y",o).attr("width",Math.max(0,$.bandwidth()-1)).attr("height",a-o-c).attr("fill",W),A=()=>{};return M.append("g").attr("transform",`translate(0,${a-c})`).call(SO($).ticks(Array.isArray(p)?null:p,typeof g=="string"?g:void 0).tickFormat(typeof g=="function"?g:void 0).tickSize(r).tickValues(Array.isArray(p)?p:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Sn(y,"normal")).call(A).call(et=>et.select(".domain").remove()),n!==void 0&&M.append("text").attr("x",f).attr("y",o-6).attr("fill","currentColor").attr("font-weight","bold").text(n),M.node()}const d8=Math.PI/180;function Yu(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:i=e}={}){t.markerStart=g0(n),t.markerMid=g0(r),t.markerEnd=g0(i)}function g0(t){if(t==null||t===!1)return null;if(t===!0)return H2;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return q2("auto");case"arrow-reverse":return q2("auto-start-reverse");case"dot":return VV;case"circle":case"circle-fill":return H2;case"circle-stroke":return YV;case"tick":return v0("auto");case"tick-x":return v0(90);case"tick-y":return v0(0)}throw new Error(`invalid marker: ${t}`)}function q2(t){return(e,n)=>en("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function VV(t,e){return en("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function H2(t,e){return en("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function YV(t,e){return en("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function v0(t){return(e,n)=>en("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",e).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let GV=0;function rd(t,e,{stroke:n},r){return g8(t,e,n&&(i=>n[i]),null,r)}function XV(t,e,{stroke:n,z:r},i){return g8(t,e,n&&(([a])=>n[a]),r,i)}const Ng=1,p8=2;function KV(t,e){const n=new Uint8Array(e.length),r=t.data().filter(a=>a.length>1),i=r.length;for(let a=0,o=Cg;a<i;++a){const u=r[a];if(u.length>1){const c=u[0];o!==(o=ia(e[c]))&&(n[c]|=Ng)}}for(let a=i-1,o=Cg;a>=0;--a){const u=r[a];if(u.length>1){const c=u[0];o!==(o=ia(e[c]))&&(n[c]|=p8)}}return([a])=>n[a]}function g8(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:i},a=()=>i,o,u){if(!e&&!n&&!r)return;const c=new Map,f=o&&KV(t,o);function d(p,g,y){return function(_){if(y&&!y(_))return;const b=a(_);let w=c.get(g);w||c.set(g,w=new Map);let x=w.get(b);if(!x){const M=this.parentNode.insertBefore(g(b,u),this),A=`plot-marker-${++GV}`;M.setAttribute("id",A),w.set(b,x=`url(#${A})`)}this.setAttribute(p,x)}}e&&t.each(d("marker-start",e,f&&(p=>f(p)&Ng))),n&&f&&t.each(d("marker-start",n,p=>!(f(p)&Ng))),n&&t.each(d("marker-mid",n)),r&&t.each(d("marker-end",r,f&&(p=>f(p)&p8)))}function id({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=v8(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function d1({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=v8(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function v8(t,e,n){return t===void 0&&e===void 0&&n===void 0?er?[1,0]:[.5,.5]:[e,n]}function m8(t,{interval:e}){return t={...Bu(t)},t.interval=jv(t.interval===void 0?e:t.interval),t}function ad(t,e,n,r){const{[t]:i,[`${t}1`]:a,[`${t}2`]:o}=n,{value:u,interval:c}=m8(i,n);if(u==null||c==null&&!r)return n;const f=Ys(i);if(c==null){let y;const _={transform:b=>y||(y=mn(b,u)),label:f};return{...n,[t]:void 0,[`${t}1`]:a===void 0?_:a,[`${t}2`]:o===void 0&&!(a===o&&r)?_:o}}let d,p;function g(y){return p!==void 0&&y===d?p:p=rn(mn(d=y,u),_=>c.floor(_))}return e({...n,[t]:void 0,[`${t}1`]:a===void 0?{transform:g,label:f}:a,[`${t}2`]:o===void 0?{transform:y=>g(y).map(_=>c.offset(_)),label:f}:o})}function y8(t,e,n){const{[t]:r}=n,{value:i,interval:a}=m8(r,n);return i==null||a==null?n:e({...n,[t]:{label:Ys(r),transform:o=>{const u=rn(mn(o,i),f=>a.floor(f)),c=u.map(f=>a.offset(f));return u.map(ar(u)?(f,d)=>f==null||isNaN(f=+f)||(d=c[d],d==null)||isNaN(d=+d)?void 0:new Date((f+d)/2):(f,d)=>f==null||(d=c[d],d==null)?NaN:(+f+ +d)/2)}}})}function jV(t={}){return ad("x",id,t,!0)}function ZV(t={}){return ad("y",d1,t,!0)}function QV(t={}){return ad("x",id,t)}function b8(t={}){return ad("y",d1,t)}function JV(t={}){return y8("x",id,t)}function tY(t={}){return y8("y",d1,t)}const _8={ariaLabel:"rule",fill:null,stroke:"currentColor"};class eY extends On{constructor(e,n={}){const{x:r,y1:i,y2:a,inset:o=0,insetTop:u=o,insetBottom:c=o}=n;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},nd(n,"x"),_8),this.insetTop=yn(u),this.insetBottom=yn(c),Yu(this,n)}render(e,n,r,i,a){const{x:o,y:u}=n,{x:c,y1:f,y2:d}=r,{width:p,height:g,marginTop:y,marginRight:_,marginLeft:b,marginBottom:w}=i,{insetTop:x,insetBottom:M}=this;return en("svg:g",a).call(br,this,i,a).call(_r,this,{x:c&&o},er,0).call(A=>A.selectAll().data(e).enter().append("line").call(Hn,this).attr("x1",c?$=>c[$]:(b+p-_)/2).attr("x2",c?$=>c[$]:(b+p-_)/2).attr("y1",f&&!Ya(u)?$=>f[$]+x:y+x).attr("y2",d&&!Ya(u)?u.bandwidth?$=>d[$]+u.bandwidth()-M:$=>d[$]-M:g-w-M).call(Dr,this,r).call(rd,this,r,a)).node()}}class nY extends On{constructor(e,n={}){const{x1:r,x2:i,y:a,inset:o=0,insetRight:u=o,insetLeft:c=o}=n;super(e,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},nd(n,"y"),_8),this.insetRight=yn(u),this.insetLeft=yn(c),Yu(this,n)}render(e,n,r,i,a){const{x:o,y:u}=n,{y:c,x1:f,x2:d}=r,{width:p,height:g,marginTop:y,marginRight:_,marginLeft:b,marginBottom:w}=i,{insetLeft:x,insetRight:M}=this;return en("svg:g",a).call(br,this,i,a).call(_r,this,{y:c&&u},0,er).call(A=>A.selectAll().data(e).enter().append("line").call(Hn,this).attr("x1",f&&!Ya(o)?$=>f[$]+x:b+x).attr("x2",d&&!Ya(o)?o.bandwidth?$=>d[$]+o.bandwidth()-M:$=>d[$]-M:p-_-M).attr("y1",c?$=>c[$]:(y+g-w)/2).attr("y2",c?$=>c[$]:(y+g-w)/2).call(Dr,this,r).call(rd,this,r,a)).node()}}function sa(t,e){let{x:n=In,y:r,y1:i,y2:a,...o}=b8(e);return[i,a]=w8(r,i,a),new eY(t,{...o,x:n,y1:i,y2:a})}function cn(t,e){let{y:n=In,x:r,x1:i,x2:a,...o}=QV(e);return[i,a]=w8(r,i,a),new nY(t,{...o,y:n,x1:i,x2:a})}function w8(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function p1(t,...e){let n=e.length;for(let r=0,i=!0;r<n;++r)typeof e[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let i=t[0];for(let a=0;a<n;++a)i+=e[a](r)+t[a+1];return i}}const rY={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},x8="";class g1 extends On{constructor(e,n={}){const{x:r,y:i,text:a=Qa(e)&&A4(e)?In:uu,frameAnchor:o,textAnchor:u=/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle",lineAnchor:c=/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle",lineHeight:f=1,lineWidth:d=1/0,textOverflow:p,monospace:g,fontFamily:y=g?"ui-monospace, monospace":void 0,fontSize:_,fontStyle:b,fontVariant:w,fontWeight:x,rotate:M}=n,[A,$]=Wn(M,0),[P,L]=uY(_);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:P,optional:!0},rotate:{value:wq(A),optional:!0},text:{value:a,filter:Dv,optional:!0}},n,rY),this.rotate=$,this.textAnchor=Sn(u,"middle"),this.lineAnchor=ii(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+f,this.lineWidth=+d,this.textOverflow=S8(p),this.monospace=!!g,this.fontFamily=Cn(y),this.fontSize=L,this.fontStyle=Cn(b),this.fontVariant=Cn(w),this.fontWeight=Cn(x),this.frameAnchor=jh(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${d}`);this.splitLines=T8(this),this.clipLine=$8(this)}render(e,n,r,i,a){const{x:o,y:u}=n,{x:c,y:f,rotate:d,text:p,title:g,fontSize:y}=r,{rotate:_}=this,[b,w]=Vu(this,i);return en("svg:g",a).call(br,this,i,a).call(M8,this,p,i).call(_r,this,{x:c&&o,y:f&&u}).call(x=>x.selectAll().data(e).enter().append("text").call(Hn,this).call(iY,this,p,g).attr("transform",p1`translate(${c?M=>c[M]:b},${f?M=>f[M]:w})${d?M=>` rotate(${d[M]})`:_?` rotate(${_})`:""}`).call(Gt,"font-size",y&&(M=>y[M])).call(Dr,this,r)).node()}}function S8(t){return t==null?null:ii(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function iY(t,e,n,r){if(!n)return;const{lineAnchor:i,lineHeight:a,textOverflow:o,splitLines:u,clipLine:c}=e;t.each(function(f){const d=u(Ko(n[f])??"").map(c),p=d.length,g=i==="top"?.71:i==="bottom"?1-p:(164-p*100)/200;if(p>1){let y=0;for(let _=0;_<p;++_){if(++y,!d[_])continue;const b=this.ownerDocument.createElementNS(Ro.svg,"tspan");b.setAttribute("x",0),_===y-1?b.setAttribute("y",`${(g+_)*a}em`):b.setAttribute("dy",`${y*a}em`),b.textContent=d[_],this.appendChild(b),y=0}}else g&&this.setAttribute("y",`${g*a}em`),this.textContent=d[0];if(o&&!r&&d[0]!==n[f]){const y=this.ownerDocument.createElementNS(Ro.svg,"title");y.textContent=n[f],this.appendChild(y)}})}function za(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Xh(e,n)),new g1(t,{...r,x:e,y:n})}function aY(t,{x:e=In,...n}={}){return new g1(t,tY({...n,x:e}))}function sY(t,{y:e=In,...n}={}){return new g1(t,JV({...n,y:e}))}function M8(t,e,n){Gt(t,"text-anchor",e.textAnchor),Gt(t,"font-family",e.fontFamily),Gt(t,"font-size",e.fontSize),Gt(t,"font-style",e.fontStyle),Gt(t,"font-variant",e.fontVariant===void 0?oY(n):e.fontVariant),Gt(t,"font-weight",e.fontWeight)}function oY(t){return t&&(Mq(t)||ar(t))?"tabular-nums":void 0}const lY=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function uY(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),lY.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function cY(t,e,n){const r=[];let i,a=0;for(const[o,u,c]of fY(t)){if(i===void 0&&(i=o),a>i&&n(t,i,u)>e&&(r.push(t.slice(i,a)+(t[a-1]===x8?"-":"")),i=o),c){r.push(t.slice(i,u)),i=void 0;continue}a=u}return r}function*fY(t){let e=0,n=0;const r=t.length;for(;n<r;){let i=1;switch(t[n]){case x8:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++i;case`
`:yield[e,n,!0],n+=i,e=n;break;default:++n;break}}yield[e,n,!0]}const V2={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function v1(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=il(t,i))r+=V2[t[i]]??(k8(t,i)?120:V2.e);return r}function m1(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=il(t,i))r+=k8(t,i)?126:63;return r}function T8({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return a=>a.split(/\r\n?|\n/g);const r=t?m1:v1,i=e*100;return a=>cY(a,i,r)}function $8({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return a=>a;const r=t?m1:v1,i=e*100;switch(n){case"clip-start":return a=>G2(a,i,r,"");case"clip-end":return a=>Y2(a,i,r,"");case"ellipsis-start":return a=>G2(a,i,r,Po);case"ellipsis-middle":return a=>hY(a,i,r,Po);case"ellipsis-end":return a=>Y2(a,i,r,Po)}}const Po="";function jo(t,e,n,r){const i=[];let a=0;for(let o=0,u=0,c=t.length;o<c;o=u){u=il(t,o);const f=n(t,o,u);if(a+f>e){for(a+=r;a>e&&o>0;)u=o,o=i.pop(),a-=n(t,o,u);return[o,e-a]}a+=f,i.push(o)}return[-1,0]}function Y2(t,e,n,r){t=t.trim();const i=n(r),[a]=jo(t,e,n,i);return a<0?t:t.slice(0,a).trimEnd()+r}function hY(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const a=n(r)/2,[o,u]=jo(t,e/2,n,a),[c]=jo(t,i-e/2-u+a,n,-a);return c<0?r:t.slice(0,o).trimEnd()+r+t.slice(il(t,c)).trimStart()}function G2(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const a=n(r),[o]=jo(t,i-e+a,n,-a);return o<0?r:r+t.slice(il(t,o)).trimStart()}const Pg=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,X2=new RegExp("\\p{Extended_Pictographic}","uy");function il(t,e){return e+=dY(t,e)?2:1,gY(t,e)&&(e=Pg.lastIndex),pY(t,e)?il(t,e+1):e}function A8(t,e){return t.charCodeAt(e)<128}function dY(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const r=t.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function pY(t,e){return t.charCodeAt(e)===8205}function gY(t,e){return A8(t,e)?!1:(Pg.lastIndex=e,Pg.test(t))}function k8(t,e){return A8(t,e)?!1:(X2.lastIndex=e,X2.test(t))}const vY={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},E8=3.5,mY=E8*5,C8={draw(t,e,n){const r=e*n/mY;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},yY={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},bY=new Map([["arrow",C8],["spike",yY]]);function _Y(t){return t&&typeof t.draw=="function"}function wY(t){if(_Y(t))return t;const e=bY.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class N8 extends On{constructor(e,n={}){const{x:r,y:i,r:a=E8,length:o,rotate:u,shape:c=C8,anchor:f="middle",frameAnchor:d}=n,[p,g]=Wn(o,12),[y,_]=Wn(u,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:p,scale:"length",optional:!0},rotate:{value:y,optional:!0}},n,vY),this.r=+a,this.length=g,this.rotate=_,this.shape=wY(c),this.anchor=ii(f,"anchor",["start","middle","end"]),this.frameAnchor=jh(d)}render(e,n,r,i,a){const{x:o,y:u}=n,{x:c,y:f,length:d,rotate:p}=r,{length:g,rotate:y,anchor:_,shape:b,r:w}=this,[x,M]=Vu(this,i);return en("svg:g",a).call(br,this,i,a).call(_r,this,{x:c&&o,y:f&&u}).call(A=>A.selectAll().data(e).enter().append("path").call(Hn,this).attr("transform",p1`translate(${c?$=>c[$]:x},${f?$=>f[$]:M})${p?$=>` rotate(${p[$]})`:y?` rotate(${y})`:""}${_==="start"?"":_==="end"?d?$=>` translate(0,${d[$]})`:` translate(0,${g})`:d?$=>` translate(0,${d[$]/2})`:` translate(0,${g/2})`}`).attr("d",d?$=>{const P=Na();return b.draw(P,d[$],w),P}:(()=>{const $=Na();return b.draw($,g,w),$})()).call(Dr,this,r)).node()}}function xY(t,e={}){const{x:n=In,...r}=e;return new N8(t,{...r,x:n})}function SY(t,e={}){const{y:n=In,...r}=e;return new N8(t,{...r,y:n})}function ts(t,e){return arguments.length<2&&!Qa(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function sd({anchor:t}={},e){return t===void 0?e[0]:ii(t,"anchor",e)}function P8(t){return sd(t,["left","right"])}function L8(t){return sd(t,["right","left"])}function I8(t){return sd(t,["bottom","top"])}function O8(t){return sd(t,["top","bottom"])}function R8(){const[t,e]=ts(...arguments);return F8("y",P8(e),t,e)}function MY(){const[t,e]=ts(...arguments);return F8("fy",L8(e),t,e)}function z8(){const[t,e]=ts(...arguments);return B8("x",I8(e),t,e)}function TY(){const[t,e]=ts(...arguments);return B8("fx",O8(e),t,e)}function F8(t,e,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:u=1,fill:c=r,fillOpacity:f=i,textAnchor:d,textStroke:p,textStrokeOpacity:g,textStrokeWidth:y,tickSize:_=t==="y"?6:0,tickPadding:b,tickRotate:w,x,margin:M,marginTop:A=M===void 0?20:M,marginRight:$=M===void 0?e==="right"?40:0:M,marginBottom:P=M===void 0?20:M,marginLeft:L=M===void 0?e==="left"?40:0:M,label:F,labelAnchor:V,labelArrow:K,labelOffset:W,ariaLabel:R=`${t}-axis`,...et}){return _=yn(_),b=yn(b),w=yn(w),V!==void 0&&(V=ii(V,"labelAnchor",["center","top","bottom"])),K=G8(K),l8(_&&!jn(a)?$Y(t,e,n,{stroke:a,strokeOpacity:o,strokeWidth:u,tickSize:_,tickPadding:b,tickRotate:w,x,ariaLabel:R,...et}):null,jn(c)?null:kY(t,e,n,{fill:c,fillOpacity:f,stroke:p,strokeOpacity:g,strokeWidth:y,textAnchor:d,tickSize:_,tickPadding:b,tickRotate:w,x,marginTop:A,marginRight:$,marginBottom:P,marginLeft:L,ariaLabel:R,...et}),!jn(c)&&F!==null?za([],q8({fill:c,fillOpacity:f,...et},function(j,C,z,U,B){const at=U[t],{marginTop:Z,marginRight:I,marginBottom:E,marginLeft:H}=t==="y"&&B.inset||B,Y=V??(at.bandwidth?"center":"top"),J=W??(e==="right"?I:H)-3;return Y==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=Y,this.frameAnchor=`${Y}-${e}`,this.rotate=0),this.dy=Y==="top"?3-Z:Y==="bottom"?E-3:0,this.dx=e==="right"?J:-J,this.ariaLabel=`${R} label`,{facets:[[0]],channels:{text:{value:[Y8(t,at,{anchor:e,label:F,labelAnchor:Y,labelArrow:K})]}}}})):null)}function B8(t,e,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:u=1,fill:c=r,fillOpacity:f=i,textAnchor:d,textStroke:p,textStrokeOpacity:g,textStrokeWidth:y,tickSize:_=t==="x"?6:0,tickPadding:b,tickRotate:w,y:x,margin:M,marginTop:A=M===void 0?e==="top"?30:0:M,marginRight:$=M===void 0?20:M,marginBottom:P=M===void 0?e==="bottom"?30:0:M,marginLeft:L=M===void 0?20:M,label:F,labelAnchor:V,labelArrow:K,labelOffset:W,ariaLabel:R=`${t}-axis`,...et}){return _=yn(_),b=yn(b),w=yn(w),V!==void 0&&(V=ii(V,"labelAnchor",["center","left","right"])),K=G8(K),l8(_&&!jn(a)?AY(t,e,n,{stroke:a,strokeOpacity:o,strokeWidth:u,tickSize:_,tickPadding:b,tickRotate:w,y:x,ariaLabel:R,...et}):null,jn(c)?null:EY(t,e,n,{fill:c,fillOpacity:f,stroke:p,strokeOpacity:g,strokeWidth:y,textAnchor:d,tickSize:_,tickPadding:b,tickRotate:w,y:x,marginTop:A,marginRight:$,marginBottom:P,marginLeft:L,ariaLabel:R,...et}),!jn(c)&&F!==null?za([],q8({fill:c,fillOpacity:f,...et},function(j,C,z,U,B){const at=U[t],{marginTop:Z,marginRight:I,marginBottom:E,marginLeft:H}=t==="x"&&B.inset||B,Y=V??(at.bandwidth?"center":"right"),J=W??(e==="top"?Z:E)-3;return Y==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${Y}`,this.textAnchor=Y==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-J:J,this.dx=Y==="right"?I-3:Y==="left"?3-H:0,this.ariaLabel=`${R} label`,{facets:[[0]],channels:{text:{value:[Y8(t,at,{anchor:e,label:F,labelAnchor:Y,labelArrow:K})]}}}})):null)}function $Y(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=e+(t==="y"?"-empty":""),frameAnchor:u=e,tickSize:c,inset:f=0,insetLeft:d=f,insetRight:p=f,dx:g=0,y=t==="y"?void 0:null,ariaLabel:_,...b}){return al(SY,t,n,{ariaLabel:`${_} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:o,frameAnchor:u,y,...b,dx:e==="left"?+g-er+ +d:+g+er-p,anchor:"start",length:c,shape:e==="left"?zY:FY})}function AY(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=e+(t==="x"?"-empty":""),frameAnchor:u=e,tickSize:c,inset:f=0,insetTop:d=f,insetBottom:p=f,dy:g=0,x:y=t==="x"?void 0:null,ariaLabel:_,...b}){return al(xY,t,n,{ariaLabel:`${_} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:o,frameAnchor:u,x:y,...b,dy:e==="bottom"?+g-er-p:+g+er+ +d,anchor:"start",length:c,shape:e==="bottom"?OY:RY})}function kY(t,e,n,{facetAnchor:r=e+(t==="y"?"-empty":""),frameAnchor:i=e,tickSize:a,tickRotate:o=0,tickPadding:u=Math.max(3,9-a)+(Math.abs(o)>60?4*Math.cos(o*d8):0),text:c,textAnchor:f=Math.abs(o)>60?"middle":e==="left"?"end":"start",lineAnchor:d=o>60?"top":o<-60?"bottom":"middle",fontVariant:p,inset:g=0,insetLeft:y=g,insetRight:_=g,dx:b=0,ariaLabel:w,y:x=t==="y"?void 0:null,...M}){return al(sY,t,n,{ariaLabel:`${w} tick label`},{facetAnchor:r,frameAnchor:i,text:c,textAnchor:f,lineAnchor:d,fontVariant:p,rotate:o,y:x,...M,dx:e==="left"?+b-a-u+ +y:+b+ +a+ +u-_},function(A,$,P,L,F){p===void 0&&(this.fontVariant=V8(A)),c===void 0&&(F.text=H8(A,$,P,L,e))})}function EY(t,e,n,{facetAnchor:r=e+(t==="x"?"-empty":""),frameAnchor:i=e,tickSize:a,tickRotate:o=0,tickPadding:u=Math.max(3,9-a)+(Math.abs(o)>=10?4*Math.cos(o*d8):0),text:c,textAnchor:f=Math.abs(o)>=10?o<0^e==="bottom"?"start":"end":"middle",lineAnchor:d=Math.abs(o)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:p,inset:g=0,insetTop:y=g,insetBottom:_=g,dy:b=0,x:w=t==="x"?void 0:null,ariaLabel:x,...M}){return al(aY,t,n,{ariaLabel:`${x} tick label`},{facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:f,lineAnchor:d,fontVariant:p,rotate:o,x:w,...M,dy:e==="bottom"?+b+ +a+ +u-_:+b-a-u+ +y},function(A,$,P,L,F){p===void 0&&(this.fontVariant=V8(A)),c===void 0&&(F.text=H8(A,$,P,L,e))})}function CY(){const[t,e]=ts(...arguments);return D8("y",P8(e),t,e)}function NY(){const[t,e]=ts(...arguments);return D8("fy",L8(e),t,e)}function PY(){const[t,e]=ts(...arguments);return U8("x",I8(e),t,e)}function LY(){const[t,e]=ts(...arguments);return U8("fx",O8(e),t,e)}function D8(t,e,n,{y:r=t==="y"?void 0:null,x:i=null,x1:a=e==="left"?i:null,x2:o=e==="right"?i:null,ariaLabel:u=`${t}-grid`,ariaHidden:c=!0,...f}){return al(cn,t,n,{ariaLabel:u,ariaHidden:c},{y:r,x1:a,x2:o,...W8(f)})}function U8(t,e,n,{x:r=t==="x"?void 0:null,y:i=null,y1:a=e==="top"?i:null,y2:o=e==="bottom"?i:null,ariaLabel:u=`${t}-grid`,ariaHidden:c=!0,...f}){return al(sa,t,n,{ariaLabel:u,ariaHidden:c},{x:r,y1:a,y2:o,...W8(f)})}function W8({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:i=1,...a}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...a}}function q8({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:u,pointerEvents:c,shapeRendering:f,clip:d=!1},p){return[,t]=ha(t),[,e]=Wn(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:u,pointerEvents:c,shapeRendering:f,clip:d,initializer:p}}function al(t,e,n,r,i,a){let o;function u(d,p,g,y,_,b){const w=d==null&&(e==="fx"||e==="fy"),{[e]:x}=y;if(!x)throw new Error(`missing scale: ${e}`);const M=x.domain();let{interval:A,ticks:$,tickFormat:P,tickSpacing:L=e==="x"?80:35}=i;if(typeof $=="string"&&X8(x)&&(A=$,$=void 0),$===void 0&&($=rl(A,x.type)??IY(x,L)),d==null){if(Qa($))d=Vs($);else if($o($))d=m0($,...Jn(M));else if(x.interval){let V=x.interval;if(x.ticks){const[K,W]=Jn(M),R=(W-K)/V[Fu];V=v2(V,R/$)??V,d=m0(V,K,W)}else{d=M;const K=d.length;V=v2(V,K/$)??V,V!==x.interval&&(d=m0(V,...Jn(d)))}if(V===x.interval){const K=Math.round(d.length/$);K>1&&(d=d.filter((W,R)=>R%K===0))}}else x.ticks?d=x.ticks($):d=M;if(!x.ticks&&d.length&&d!==M){const V=new xh(M);d=d.filter(K=>V.has(K)),d.length||Ra(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?p=[ga(d)]:o[e]={scale:e,value:In}}a==null||a.call(this,x,d,$,P,o);const F=Object.fromEntries(Object.entries(o).map(([V,K])=>[V,{...K,value:mn(d,K.value)}]));return w&&(p=b.filterFacets(d,F)),{data:d,facets:p,channels:F}}const c=Xo(i).initializer,f=t(n,Xo({...i,initializer:u},c));return n==null?(o=f.channels,f.channels={}):o={},r!==void 0&&Object.assign(f,r),f.clip===void 0&&(f.clip=!1),f}function IY(t,e){const[n,r]=Jn(t.range());return(r-n)/e}function H8(t,e,n,r,i){return{value:y1(t,e,n,r,i)}}function y1(t,e,n,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&e&&ar(e)?aq(t.type,e,i)??Ko:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,r):typeof r=="string"&&t.domain().length>0?(ar(t.domain())?Ou:Ds)(r):r===void 0?Ko:ra(r)}function m0(t,e,n){return t.range(e,t.offset(t.floor(n)))}const OY={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},RY={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},zY={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},FY={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function V8(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function Y8(t,e,{anchor:n,label:r=e.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&X8(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!e.bandwidth||e.interval)&&!/[]/.test(r)),!a)return r;if(a===!0){const o=qH(e);o&&(a=/x$/.test(t)||i==="center"?/x$/.test(t)===o<0?"left":"right":o<0?"up":"down")}switch(a){case"left":return` ${r}`;case"right":return`${r} `;case"up":return n==="right"?`${r} `:` ${r}`;case"down":return n==="right"?`${r} `:` ${r}`}return r}}function G8(t="auto"){return jn(t)?!1:typeof t=="boolean"?t:ii(t,"labelArrow",["auto","up","right","down","left"])}function X8(t){return ar(t.domain())}function K2(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function BY(t,{opacity:e,...n}={}){if(!Gs(t)&&!e8(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return K8(t,n,(r,i,a,o)=>r.append("svg").attr("width",a).attr("height",o).attr("fill",i.scale).attr("fill-opacity",Wn(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function DY(t,{fill:e=(f=>(f=t.hint)==null?void 0:f.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:r=(d=>(d=t.hint)==null?void 0:d.stroke)()!==void 0?t.hint.stroke:jn(e)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:o=4.5,...u}={},c){const[p,g]=ha(e),[y,_]=ha(r),b=K2(c,p),w=K2(c,y),x=o*o*Math.PI;return n=Wn(n)[1],i=Wn(i)[1],a=Wn(a)[1],K8(t,u,(M,A,$,P)=>M.append("svg").attr("viewBox","-8 -8 16 16").attr("width",$).attr("height",P).attr("fill",p==="color"?L=>b.scale(L):g).attr("fill-opacity",n).attr("stroke",y==="color"?L=>w.scale(L):_).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",L=>{const F=Na();return t.scale(L).draw(F,x),F}))}function K8(t,e={},n){let{columns:r,tickFormat:i,fontVariant:a=h8(t),swatchSize:o=15,swatchWidth:u=o,swatchHeight:c=o,marginLeft:f=0,className:d,style:p,width:g}=e;const y=l1(e);d=c1(d),i=y1(t.scale,t.domain,void 0,i);const _=en("div",y).attr("class",`${d}-swatches ${d}-swatches-${r!=null?"columns":"wrap"}`);let b;return r!=null?(b=`:where(.${d}-swatches-columns .${d}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${d}-swatches-columns .${d}-swatch::before) {
  flex-shrink: 0;
}
:where(.${d}-swatches-columns .${d}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,_.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${d}-swatch`).call(n,t,u,c).call(w=>w.append("div").attr("class",`${d}-swatch-label`).attr("title",i).text(i))):(b=`:where(.${d}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${d}-swatches-wrap .${d}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,_.selectAll().data(t.domain).enter().append("span").attr("class",`${d}-swatch`).call(n,t,u,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),_.call(w=>w.insert("style","*").text(`:where(.${d}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${d}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${b}`)).style("margin-left",f?`${+f}px`:null).style("width",g===void 0?null:`${+g}px`).style("font-variant",Sn(a,"normal")).call(f1,p).node()}const Lg=new Map([["symbol",DY],["color",Z8],["opacity",WY]]);function UY(t,e,n={}){return(r,i)=>{if(!Lg.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return Lg.get(r)(t[r],j8(e,n[r],i),a=>t[a])}}function j8({className:t,...e},{label:n,ticks:r,tickFormat:i}={},a){return kq(a,{className:t,...e},{label:n,ticks:r,tickFormat:i})}function Z8(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return BY(t,n);case"ramp":return HV(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function WY({type:t,interpolate:e,...n},{legend:r=!0,color:i=qa(0,0,0),...a}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Z8({type:t,...n,interpolate:qY(i)},{legend:r,...a})}function qY(t){const{r:e,g:n,b:r}=qa(t)||qa(0,0,0);return i=>`rgba(${e},${n},${r},${i})`}function HY(t,e,n){const r=[];for(const[i,a]of Lg){const o=n[i];if(o!=null&&o.legend&&i in t){const u=a(t[i],j8(e,t[i],o),c=>t[c]);u!=null&&r.push(u)}}return r}function Q8(t={},e="y"){return M4(t)?t:{...t,[e]:In}}function VY(t,e){if(e.length===1)return{data:t,facets:e};const n=fu(t),r=new Uint8Array(n);let i=0;for(const u of e)for(const c of u)r[c]&&++i,r[c]=1;if(i===0)return{data:t,facets:e};t=cu(t);const a=t[m4]=new Uint32Array(n+i);e=e.map(u=>cu(u,Uint32Array));let o=n;r.fill(0);for(const u of e)for(let c=0,f=u.length;c<f;++c){const d=u[c];r[d]?(u[c]=o,t[o]=t[d],a[o]=d,++o):a[d]=d,r[d]=1}return{data:t,facets:e}}function YY(t={},e={}){arguments.length===1&&([t,e]=GY(t));const{x1:n,x:r=n,y:i,...a}=e,[o,u,c,f]=KY(r,i,"x","y",t,a);return{...o,x1:n,x:u,y1:c,y2:f,y:xg(c,f)}}function J8({y:t,y1:e,y2:n,...r}={}){return r=nd(r,"x"),e===void 0&&n===void 0?YY({y:t,...r}):([e,n]=gq(t,e,n),{...r,y1:e,y2:n})}function GY(t){const{offset:e,order:n,reverse:r,...i}=t;return[{offset:e,order:n,reverse:r},i]}const XY={length:!0};function KY(t,e=cq,n,r,{offset:i,order:a,reverse:o},u){if(e===null)throw new Error(`stack requires ${r}`);const c=Xv(u),[f,d]=Ki(t),[p,g]=sh(e),[y,_]=sh(e);return p.hint=y.hint=XY,i=jY(i),a=JY(a,i,r),[Qh(u,(b,w,x)=>{({data:b,facets:w}=VY(b,w));const M=t==null?void 0:d(T4(mn(b,t),x==null?void 0:x[n])),A=mn(b,e,Float64Array),$=mn(b,c),P=a&&a(b,M,A,$),L=fu(b),F=g(new Float64Array(L)),V=_(new Float64Array(L)),K=[];for(const W of w){const R=M?Array.from(Sh(W,et=>M[et]).values()):[W];if(P)for(const et of R)et.sort(P);for(const et of R){let j=0,C=0;o&&et.reverse();for(const z of et){const U=A[z];U<0?j=V[z]=(F[z]=j)+U:U>0?C=V[z]=(F[z]=C)+U:V[z]=F[z]=C}}K.push(R)}return i&&i(K,F,V,$),{data:b,facets:w}}),f,p,y]}function jY(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return ZY;case"center":case"silhouette":return QY;case"wiggle":return eS}throw new Error(`unknown offset: ${t}`)}}function tS(t,e){let n=0,r=0;for(const i of t){const a=e[i];a<n&&(n=a),a>r&&(r=a)}return[n,r]}function ZY(t,e,n){for(const r of t)for(const i of r){const[a,o]=tS(i,n);for(const u of i){const c=1/(o-a||1);e[u]=c*(e[u]-a),n[u]=c*(n[u]-a)}}}function QY(t,e,n){for(const r of t){for(const i of r){const[a,o]=tS(i,n);for(const u of i){const c=(o+a)/2;e[u]-=c,n[u]-=c}}nS(r,e,n)}rS(t,e,n)}function eS(t,e,n,r){for(const i of t){const a=new $s;let o=0;for(const u of i){let c=-1;const f=u.map(y=>Math.abs(n[y]-e[y])),d=u.map(y=>{c=r?r[y]:++c;const _=n[y]-e[y],b=a.has(c)?_-a.get(c):0;return a.set(c,_),b}),p=[0,...tO(d)];for(const y of u)e[y]+=o,n[y]+=o;const g=Wa(f);g&&(o-=Wa(f,(y,_)=>(d[_]/2+p[_])*y)/g)}nS(i,e,n)}rS(t,e,n)}function nS(t,e,n){const r=la(t,i=>la(i,a=>e[a]));for(const i of t)for(const a of i)e[a]-=r,n[a]-=r}function rS(t,e,n){const r=t.length;if(r===1)return;const i=t.map(u=>u.flat()),a=i.map(u=>(la(u,c=>e[c])+Fr(u,c=>n[c]))/2),o=la(a);for(let u=0;u<r;u++){const c=o-a[u];for(const f of i[u])e[f]+=c,n[f]+=c}}function JY(t,e,n){if(t===void 0&&e===eS)return j2(ni);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?ah:ni;switch((r?t.slice(1):t).toLowerCase()){case"value":case n:return tG(i);case"z":return eG(i);case"sum":return nG(i);case"appearance":return rG(i);case"inside-out":return j2(i)}return Z2(y4(t))}if(typeof t=="function")return(t.length===1?Z2:iG)(t);if(Hs(t))return aG(t);throw new Error(`invalid order: ${t}`)}}function tG(t){return(e,n,r)=>(i,a)=>t(r[i],r[a])}function eG(t){return(e,n,r,i)=>(a,o)=>t(i[a],i[o])}function nG(t){return od(t,(e,n,r,i)=>dv(ga(e),a=>Wa(a,o=>r[o]),a=>i[a]))}function rG(t){return od(t,(e,n,r,i)=>dv(ga(e),a=>n[Tx(a,o=>r[o])],a=>i[a]))}function j2(t){return od(t,(e,n,r,i)=>{const a=ga(e),o=dv(a,p=>n[Tx(p,g=>r[g])],p=>i[p]),u=ko(a,p=>Wa(p,g=>r[g]),p=>i[p]),c=[],f=[];let d=0;for(const p of o)d<0?(d+=u.get(p),c.push(p)):(d-=u.get(p),f.push(p));return f.reverse().concat(c)})}function Z2(t){return e=>{const n=mn(e,t);return(r,i)=>ni(n[r],n[i])}}function iG(t){return e=>Hs(e)?(n,r)=>t(e[n],e[r]):(n,r)=>t(e.get(n),e.get(r))}function aG(t){return od(ni,()=>t)}function od(t,e){return(n,r,i,a)=>{if(!a)throw new Error("missing channel: z");const o=new $s(e(n,r,i,a).map((u,c)=>[u,c]));return(u,c)=>t(o.get(a[u]),o.get(a[c]))}}const sG={ariaLabel:"rect"};class oG extends On{constructor(e,n={}){const{x1:r,y1:i,x2:a,y2:o}=n;super(e,{x1:{value:r,scale:"x",type:r!=null&&a==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&o==null?"band":void 0,optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0}},n,sG),b1(this,n),_1(this,n)}render(e,n,r,i,a){const{x:o,y:u}=n;let{x1:c,y1:f,x2:d,y2:p}=r;const{marginTop:g,marginRight:y,marginBottom:_,marginLeft:b,width:w,height:x}=i,{projection:M}=a,{insetTop:A,insetRight:$,insetBottom:P,insetLeft:L}=this,{rx:F,ry:V,rx1y1:K,rx1y2:W,rx2y1:R,rx2y2:et}=this;(c||d)&&!M&&Ya(o)&&(c=d=null),(f||p)&&!M&&Ya(u)&&(f=p=null);const j=o!=null&&o.bandwidth?o.bandwidth():0,C=u!=null&&u.bandwidth?u.bandwidth():0;return en("svg:g",a).call(br,this,i,a).call(_r,this,{},0,0).call(z=>z.selectAll().data(e).enter().call(K||W||R||et?U=>U.append("path").call(Hn,this).call(w1,c&&d?B=>c[B]+(d[B]<c[B]?-$:L):c?B=>c[B]+L:b+L,f&&p?B=>f[B]+(p[B]<f[B]?-P:A):f?B=>f[B]+A:g+A,c&&d?B=>d[B]-(d[B]<c[B]?-L:$):c?B=>c[B]+j-$:w-y-$,f&&p?B=>p[B]-(p[B]<f[B]?-A:P):f?B=>f[B]+C-P:x-_-P,this).call(Dr,this,r):U=>U.append("rect").call(Hn,this).attr("x",c?d?B=>Math.min(c[B],d[B])+L:B=>c[B]+L:b+L).attr("y",f?p?B=>Math.min(f[B],p[B])+A:B=>f[B]+A:g+A).attr("width",c?d?B=>Math.max(0,Math.abs(d[B]-c[B])+j-L-$):j-L-$:w-y-b-$-L).attr("height",f?p?B=>Math.max(0,Math.abs(f[B]-p[B])+C-A-P):C-A-P:x-g-_-A-P).call(Gt,"rx",F).call(Gt,"ry",V).call(Dr,this,r))).node()}}function b1(t,{inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:a=e}={}){t.insetTop=yn(n),t.insetRight=yn(r),t.insetBottom=yn(i),t.insetLeft=yn(a)}function _1(t,{r:e,rx:n,ry:r,rx1:i=e,ry1:a=e,rx2:o=e,ry2:u=e,rx1y1:c=i!==void 0?+i:a!==void 0?+a:0,rx1y2:f=i!==void 0?+i:u!==void 0?+u:0,rx2y1:d=o!==void 0?+o:a!==void 0?+a:0,rx2y2:p=o!==void 0?+o:u!==void 0?+u:0}={}){c||f||d||p?(t.rx1y1=c,t.rx1y2=f,t.rx2y1=d,t.rx2y2=p):(t.rx=Sn(n,"auto"),t.ry=Sn(r,"auto"))}function w1(t,e,n,r,i,a){const{rx1y1:o,rx1y2:u,rx2y1:c,rx2y2:f}=a;typeof e!="function"&&(e=ra(e)),typeof n!="function"&&(n=ra(n)),typeof r!="function"&&(r=ra(r)),typeof i!="function"&&(i=ra(i));const d=Math.max(Math.abs(o+c),Math.abs(u+f)),p=Math.max(Math.abs(o+u),Math.abs(c+f));t.attr("d",g=>{const y=e(g),_=n(g),b=r(g),w=i(g),x=y>b,M=_>w,A=x?b:y,$=x?y:b,P=M?w:_,L=M?_:w,F=Math.min(1,($-A)/d,(L-P)/p),V=F*(x?M?f:c:M?u:o),K=F*(x?M?u:o:M?f:c),W=F*(x?M?o:u:M?c:f),R=F*(x?M?c:f:M?o:u);return`M${A},${P+af(V,R)}A${V},${V} 0 0 ${V<0?0:1} ${A+rf(V,R)},${P}H${$-rf(K,W)}A${K},${K} 0 0 ${K<0?0:1} ${$},${P+af(K,W)}V${L-af(W,K)}A${W},${W} 0 0 ${W<0?0:1} ${$-rf(W,K)},${L}H${A+rf(R,V)}A${R},${R} 0 0 ${R<0?0:1} ${A},${L-af(R,V)}Z`})}function rf(t,e){return e<0?t:Math.abs(t)}function af(t,e){return e<0?Math.abs(t):t}function mf(t,e){return new oG(t,jV(ZV(e)))}const lG={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},uG={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class cG extends On{constructor(e={}){const{anchor:n=null}=e;super(vf,void 0,e,n==null?lG:uG),this.anchor=x4(n,"anchor",["top","right","bottom","left"]),b1(this,e),n||_1(this,e)}render(e,n,r,i,a){const{marginTop:o,marginRight:u,marginBottom:c,marginLeft:f,width:d,height:p}=i,{anchor:g,insetTop:y,insetRight:_,insetBottom:b,insetLeft:w}=this,{rx:x,ry:M,rx1y1:A,rx1y2:$,rx2y1:P,rx2y2:L}=this,F=f+w,V=d-u-_,K=o+y,W=p-c-b;return en(g?"svg:line":A||$||P||L?"svg:path":"svg:rect",a).datum(0).call(br,this,i,a).call(Hn,this).call(Dr,this,r).call(_r,this,{}).call(g==="left"?R=>R.attr("x1",F).attr("x2",F).attr("y1",K).attr("y2",W):g==="right"?R=>R.attr("x1",V).attr("x2",V).attr("y1",K).attr("y2",W):g==="top"?R=>R.attr("x1",F).attr("x2",V).attr("y1",K).attr("y2",K):g==="bottom"?R=>R.attr("x1",F).attr("x2",V).attr("y1",W).attr("y2",W):A||$||P||L?R=>R.call(w1,F,K,V,W,this):R=>R.attr("x",F).attr("y",K).attr("width",V-F).attr("height",W-K).attr("rx",x).attr("ry",M)).node()}}function fG(t){return new cG(t)}const y0={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},hG=new Set(["geometry","href","src","ariaLabel","scales"]);class dG extends On{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&Qa(e)&&A4(e)&&(n={...n,title:In});const{x:r,y:i,x1:a,x2:o,y1:u,y2:c,anchor:f,preferredAnchor:d="bottom",monospace:p,fontFamily:g=p?"ui-monospace, monospace":void 0,fontSize:y,fontStyle:_,fontVariant:b,fontWeight:w,lineHeight:x=1,lineWidth:M=20,frameAnchor:A,format:$,textAnchor:P="start",textOverflow:L,textPadding:F=8,title:V,pointerSize:K=12,pathFilter:W="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:a!=null&&o!=null?null:r,scale:"x",optional:!0},y:{value:u!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:o==null},y1:{value:u,scale:"y",optional:c==null},x2:{value:o,scale:"x",optional:a==null},y2:{value:c,scale:"y",optional:u==null},title:{value:V,optional:!0}},n,y0),this.anchor=Sg(f,"anchor"),this.preferredAnchor=Sg(d,"preferredAnchor"),this.frameAnchor=jh(A),this.textAnchor=Sn(P,"middle"),this.textPadding=+F,this.pointerSize=+K,this.pathFilter=Cn(W),this.lineHeight=+x,this.lineWidth=+M,this.textOverflow=S8(L),this.monospace=!!p,this.fontFamily=Cn(g),this.fontSize=yn(y),this.fontStyle=Cn(_),this.fontVariant=Cn(b),this.fontWeight=Cn(w);for(const R in y0)R in this.channels&&(this[R]=y0[R]);this.splitLines=T8(this),this.clipLine=$8(this),this.format=typeof $=="string"||typeof $=="function"?{title:$}:{...$}}render(e,n,r,i,a){const o=this,{x:u,y:c,fx:f,fy:d}=n,{ownerSVGElement:p,document:g}=a,{anchor:y,monospace:_,lineHeight:b,lineWidth:w}=this,{textPadding:x,pointerSize:M,pathFilter:A}=this,{marginTop:$,marginLeft:P}=i,{x1:L,y1:F,x2:V,y2:K,x:W=L??V,y:R=F??K}=r,et=f?f(e.fx)-P:0,j=d?d(e.fy)-$:0,[C,z]=Vu(this,i),U=c8(r,C),B=f8(r,z),at=_?m1:v1,Z=at(Po);let I,E;"title"in r?(I=Q2.call(this,{title:r.channels.title},n),E=yG):(I=Q2.call(this,r.channels,n),E=bG);const H=en("svg:g",a).call(br,this,i,a).call(M8,this).call(_r,this,{x:W&&u,y:R&&c}).call(ht=>ht.selectAll().data(e).enter().append("g").attr("transform",nt=>`translate(${Math.round(U(nt))},${Math.round(B(nt))})`).call(Hn,this).call(nt=>nt.append("path").attr("filter",A)).call(nt=>nt.append("text").each(function(rt){const lt=we(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const tt=E.call(o,rt,e,I,n,r);if(typeof tt=="string")for(const ot of o.splitLines(tt))Y(lt,{value:o.clipLine(ot)});else{const ot=new Set;for(const _t of tt){const{label:Q=""}=_t;Q&&ot.has(Q)||(ot.add(Q),Y(lt,_t))}}})));function Y(ht,{label:nt,value:rt,color:lt,opacity:tt}){nt??(nt=""),rt??(rt="");const ot=lt!=null||tt!=null;let _t,Q=w*100;const[At]=jo(nt,Q,at,Z);if(At>=0)nt=nt.slice(0,At).trimEnd()+Po,_t=rt.trim(),rt="";else{(nt||!rt&&!ot)&&(rt=" "+rt);const[St]=jo(rt,Q-at(nt),at,Z);St>=0&&(_t=rt.trim(),rt=rt.slice(0,St).trimEnd()+Po)}const vt=ht.append("tspan").attr("x",0).attr("dy",`${b}em`).text("");nt&&vt.append("tspan").attr("font-weight","bold").text(nt),rt&&vt.append(()=>g.createTextNode(rt)),ot&&vt.append("tspan").text(" ").attr("fill",lt).attr("fill-opacity",tt).style("user-select","none"),_t&&vt.append("title").text(_t)}function J(){const{width:ht,height:nt}=i.facet??i;H.selectChildren().each(function(rt){let{x:lt,width:tt,height:ot}=this.getBBox();tt=Math.round(tt),ot=Math.round(ot);let _t=y;if(_t===void 0){const vt=U(rt)+et,St=B(rt)+j,zt=vt+tt+M+x*2<ht,mt=vt-tt-M-x*2>0,Nt=St+ot+M+x*2<nt,oe=St-ot-M-x*2>0;_t=zt&&mt?Nt&&oe?o.preferredAnchor:oe?"bottom":"top":Nt&&oe?zt?"left":"right":(zt||mt)&&(Nt||oe)?`${oe?"bottom":"top"}-${zt?"left":"right"}`:o.preferredAnchor}const Q=this.firstChild,At=this.lastChild;if(Q.setAttribute("d",mG(_t,M,x,tt,ot)),lt)for(const vt of At.childNodes)vt.setAttribute("x",-lt);At.setAttribute("y",`${+gG(_t,At.childNodes.length,b).toFixed(6)}em`),At.setAttribute("transform",`translate(${vG(_t,M,x,tt,ot)})`)}),H.attr("visibility",null)}return e.length&&(H.attr("visibility","hidden"),p.isConnected?Promise.resolve().then(J):typeof requestAnimationFrame<"u"&&requestAnimationFrame(J)),H.node()}}function pG(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Xh(e,n)),new dG(t,{...r,x:e,y:n})}function gG(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function vG(t,e,n,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,i/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,i/2]}}function mG(t,e,n,r,i){const a=r+n*2,o=i+n*2;switch(t){case"middle":return`M${-a/2},${-o/2}h${a}v${o}h${-a}z`;case"top-left":return`M0,0l${e},${e}h${a-e}v${o}h${-a}z`;case"top":return`M0,0l${e/2},${e/2}h${(a-e)/2}v${o}h${-a}v${-o}h${(a-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-a}v${o}h${a}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-o/2}h${-a}v${o}h${a}v${e/2-o/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${a-e}v${-o}h${-a}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(a-e)/2}v${-o}h${-a}v${o}h${(a-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-a}v${-o}h${a}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-o/2}h${a}v${o}h${-a}v${e/2-o/2}z`}}function Q2(t,e){var i,a;const n={};let r=this.format;r=J2(r,t,"x"),r=J2(r,t,"y"),this.format=r;for(const o in r){const u=r[o];if(!(u===null||u===!1))if(o==="fx"||o==="fy")n[o]=!0;else{const c=T2(t,o);c&&(n[o]=c)}}for(const o in t){if(o in n||o in r||hG.has(o)||(o==="x"||o==="y")&&t.geometry)continue;const u=T2(t,o);if(u){if(u.scale==null&&u.defaultScale==="color")continue;n[o]=u}}this.facet&&(e.fx&&!("fx"in r)&&(n.fx=!0),e.fy&&!("fy"in r)&&(n.fy=!0));for(const o in n){const u=this.format[o];if(typeof u=="string"){const c=((i=n[o])==null?void 0:i.value)??((a=e[o])==null?void 0:a.domain())??[];this.format[o]=(ar(c)?Ou:Ds)(u)}else if(u===void 0||u===!0){const c=e[o];this.format[o]=c!=null&&c.bandwidth?y1(c,c.domain()):Ko}}return n}function J2(t,e,n){if(!(n in t))return t;const r=`${n}1`,i=`${n}2`;if((r in t||!(r in e))&&(i in t||!(i in e)))return t;const a=Object.entries(t),o=t[n];return a.splice(a.findIndex(([u])=>u===n)+1,0,[r,o],[i,o]),Object.fromEntries(a)}function yG(t,e,{title:n}){return this.format.title(n.value[t],t)}function*bG(t,e,n,r,i){for(const a in n){if(a==="fx"||a==="fy"){yield{label:lh(r,n,a),value:this.format[a](e[a],t)};continue}if(a==="x1"&&"x2"in n||a==="y1"&&"y2"in n)continue;const o=n[a];if(a==="x2"&&"x1"in n)yield{label:ew(r,n,"x"),value:tw(this.format.x2,n.x1,o,t)};else if(a==="y2"&&"y1"in n)yield{label:ew(r,n,"y"),value:tw(this.format.y2,n.y1,o,t)};else{const u=o.value[t],c=o.scale;if(!Va(u)&&c==null)continue;yield{label:lh(r,n,a),value:this.format[a](u,t),color:c==="color"?i[a][t]:null,opacity:c==="opacity"?i[a][t]:null}}}}function tw(t,e,n,r){var i;return(i=n.hint)!=null&&i.length?`${t(n.value[r]-e.value[r],r)}`:`${t(e.value[r],r)}${t(n.value[r],r)}`}function ew(t,e,n){const r=lh(t,e,`${n}1`,n),i=lh(t,e,`${n}2`,n);return r===i?r:`${r}${i}`}function lh(t,e,n,r=n){const i=e[n],a=t[(i==null?void 0:i.scale)??n];return String((a==null?void 0:a.label)??(i==null?void 0:i.label)??r)}function Re(t={}){var Z;const{facet:e,style:n,title:r,subtitle:i,caption:a,ariaLabel:o,ariaDescription:u}=t,c=c1(t.className),f=t.marks===void 0?[]:rw(t.marks);f.push(...$G(f));const d=MG(e,t),p=new Map;for(const I of f){const E=iw(I,d,t);E&&p.set(I,E)}const g=new Map;d&&Pl(g,[d],t),Pl(g,p,t);const y=rw(AG(f,g,t));for(const I of y){const E=iw(I,d,t);E&&p.set(I,E)}f.unshift(...y);let _=ZH(g,t);if(_!==void 0){const I=d?d0(_,d):void 0;for(const H of f){if(H.facet===null||H.facet==="super")continue;const Y=p.get(H);Y!==void 0&&(Y.facetsIndex=H.fx!=null||H.fy!=null?d0(_,Y):I)}const E=new Set;for(const{facetsIndex:H}of p.values())H==null||H.forEach((Y,J)=>{(Y==null?void 0:Y.length)>0&&E.add(J)});_.forEach(0<E.size&&E.size<_.length?(H,Y)=>H.empty=!E.has(Y):H=>H.empty=!1);for(const H of f)if(H.facet==="exclude"){const Y=p.get(H);Y!==void 0&&(Y.facetsIndex=tV(Y.facetsIndex))}}for(const I of Ze.keys())wg(t[I])&&I!=="fx"&&I!=="fy"&&g.set(I,[]);const b=new Map;for(const I of f){if(b.has(I))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:E,channels:H}=p.get(I)??{},{data:Y,facets:J,channels:ht}=I.initialize(E,H,t);x1(ht,t),b.set(I,{data:Y,facets:J,channels:ht})}const w=Ag(Pl(g,b,t),t),x=DV(w,f,t);UH(w,x);const M=L2(w),{fx:A,fy:$}=M,P=A||$?Q4(w,x):x,L=A||$?IG(M,x):x,F=l1(t),V=F.document,K=Su("svg").call(V.documentElement);let W=K;F.ownerSVGElement=K,F.className=c,F.projection=uV(t,P),F.path=function(){return $v(this.projection??vV(M))},F.filterFacets=(I,E)=>d0(_,{channels:E,groups:o1(I,E)}),F.getMarkState=I=>{const E=b.get(I),H=p.get(I);return{...E,channels:{...E.channels,...H==null?void 0:H.channels}}},F.dispatchValue=I=>{W.value!==I&&(W.value=I,W.dispatchEvent(new F.document.defaultView.Event("input",{bubbles:!0})))};const R=new Set;for(const[I,E]of b)if(I.initializer!=null){const H=I.facet==="super"?L:P,Y=I.initializer(E.data,E.facets,E.channels,M,H,F);if(Y.data!==void 0&&(E.data=Y.data),Y.facets!==void 0&&(E.facets=Y.facets),Y.channels!==void 0){const{fx:J,fy:ht,...nt}=Y.channels;SG(nt),Object.assign(E.channels,nt);for(const rt of Object.values(nt)){const{scale:lt}=rt;lt!=null&&!Nq(Ze.get(lt))&&(iS(rt,t),R.add(lt))}(J!=null||ht!=null)&&p.set(I,!0)}}if(R.size){const I=new Map;Pl(I,b,t,J=>R.has(J)),Pl(g,b,t,J=>R.has(J));const E=LG(Ag(I,t),w),{scales:H,...Y}=L2(E);Object.assign(w,E),Object.assign(M,Y),Object.assign(M.scales,H)}let et,j;_!==void 0&&(et={x:A==null?void 0:A.domain(),y:$==null?void 0:$.domain()},_=QH(_,et),j=JH(A,$,x));for(const[I,E]of b)E.values=I.scale(E.channels,M,F);const{width:C,height:z}=x;we(K).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",C).attr("height",z).attr("viewBox",`0 0 ${C} ${z}`).attr("aria-label",o).attr("aria-description",u).call(I=>I.append("style").text(`:where(.${c}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${c} text),
:where(.${c} tspan) {
  white-space: pre;
}`)).call(f1,n);for(const I of f){const{channels:E,values:H,facets:Y}=b.get(I);if(_===void 0||I.facet==="super"){let J=null;if(Y&&(J=Y[0],J=I.filter(J,E,H),J.length===0))continue;const ht=I.render(J,M,H,L,F);if(ht==null)continue;K.appendChild(ht)}else{let J;for(const ht of _){if(!(((Z=I.facetAnchor)==null?void 0:Z.call(I,_,et,ht))??!ht.empty))continue;let nt=null;if(Y){const lt=p.has(I);if(nt=Y[lt?ht.i:0],nt=I.filter(nt,E,H),nt.length===0)continue;!lt&&nt===Y[0]&&(nt=vq(nt)),nt.fx=ht.x,nt.fy=ht.y,nt.fi=ht.i}const rt=I.render(nt,M,H,P,F);if(rt!=null){(J??(J=we(K).append("g"))).append(()=>rt).datum(ht);for(const lt of["aria-label","aria-description","aria-hidden","transform"])rt.hasAttribute(lt)&&(J.attr(lt,rt.getAttribute(lt)),rt.removeAttribute(lt))}}J==null||J.selectChildren().each(j)}}const U=HY(w,F,t),{figure:B=r!=null||i!=null||a!=null||U.length>0}=t;B&&(W=V.createElement("figure"),W.className=`${c}-figure`,W.style.maxWidth="initial",r!=null&&W.append(nw(V,r,"h2")),i!=null&&W.append(nw(V,i,"h3")),W.append(...U,K),a!=null&&W.append(_G(V,a)),"value"in K&&(W.value=K.value,delete K.value)),W.scale=KH(M.scales),W.legend=UY(w,F,t);const at=MH();return at>0&&we(K).append("text").attr("x",C).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${at.toLocaleString("en-US")} warning${at===1?"":"s"}. Please check the console.`),W}function nw(t,e,n){if(e.ownerDocument)return e;const r=t.createElement(n);return r.append(e),r}function _G(t,e){const n=t.createElement("figcaption");return n.append(e),n}function rw(t){return t.flat(1/0).filter(e=>e!=null).map(wG)}function wG(t){return typeof t.render=="function"?t:new xG(t)}class xG extends On{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function x1(t,e){for(const n in t)iS(t[n],e);return t}function iS(t,e){const{scale:n,transform:r=!0}=t;if(n==null||!r)return;const{type:i,percent:a,interval:o,transform:u=a?c=>c==null?NaN:c*100:$4(o,i)}=e[n]??{};u!=null&&(t.value=rn(t.value,u),t.transform=!1)}function SG(t){for(const e in t)F4(e,t[e])}function Pl(t,e,n,r=fq){var i,a;for(const{channels:o}of e.values())for(const u in o){const c=o[u],{scale:f}=c;if(f!=null&&r(f))if(f==="projection"){if(!dV(n)){const d=((i=n.x)==null?void 0:i.domain)===void 0,p=((a=n.y)==null?void 0:a.domain)===void 0;if(d||p){const[g,y]=gV(c);d&&b0(t,"x",g),p&&b0(t,"y",y)}}}else b0(t,f,c)}return t}function b0(t,e,n){const r=t.get(e);r!==void 0?r.push(n):t.set(e,[n])}function MG(t,e){if(t==null)return;const{x:n,y:r}=t;if(n==null&&r==null)return;const i=Yo(t.data);if(i==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=du(i,{value:n,scale:"fx"})),r!=null&&(a.fy=du(i,{value:r,scale:"fy"})),x1(a,e);const o=o1(i,a);return{channels:a,groups:o,data:t.data}}function iw(t,e,n){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const c=Yo(t.data??r??i);if(c===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(c===null)return;const f={};return r!=null&&(f.fx=du(c,{value:r,scale:"fx"})),i!=null&&(f.fy=du(c,{value:i,scale:"fy"})),x1(f,n),{channels:f,groups:o1(c,f)}}if(e===void 0)return;const{channels:a,groups:o,data:u}=e;if(t.facet!=="auto"||t.data===u)return{channels:a,groups:o};u.length>0&&(o.size>1||o.size===1&&a.fx&&a.fy&&[...o][0][1].size>1)&&fu(Yo(t.data))===fu(u)&&Ra(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function TG(t,e={}){return Xo({...e,x:null,y:null},(n,r,i,a,o,u)=>u.getMarkState(t))}function $G(t){const e=[];for(const n of t){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:a}=r;i=/^x$/i.test(i)?qV:/^y$/i.test(i)?W2:WV,r=i(TG(n,r)),r.title=null,a===void 0&&(r.preferredAnchor=i===W2?"left":"bottom");const o=pG(n.data,r);o.facet=n.facet,o.facetAnchor=n.facetAnchor,e.push(o)}}return e}function AG(t,e,n){let{projection:r,x:i={},y:a={},fx:o={},fy:u={},axis:c,grid:f,facet:d={},facet:{axis:p=c,grid:g}=d,x:{axis:y=c,grid:_=y===null?null:f}=i,y:{axis:b=c,grid:w=b===null?null:f}=a,fx:{axis:x=p,grid:M=x===null?null:g}=o,fy:{axis:A=p,grid:$=A===null?null:g}=u}=n;(r||!wg(i)&&!aw("x",t))&&(y=_=null),(r||!wg(a)&&!aw("y",t))&&(b=w=null),e.has("fx")||(x=M=null),e.has("fy")||(A=$=null),y===void 0&&(y=!lf(t,"x")),b===void 0&&(b=!lf(t,"y")),x===void 0&&(x=!lf(t,"fx")),A===void 0&&(A=!lf(t,"fy")),y===!0&&(y="bottom"),b===!0&&(b="left"),x===!0&&(x=y==="top"||y===null?"bottom":"top"),A===!0&&(A=b==="right"||b===null?"left":"right");const P=[];return of(P,$,NY,u),sf(P,A,MY,"right","left",d,u),of(P,M,LY,o),sf(P,x,TY,"top","bottom",d,o),of(P,w,CY,a),sf(P,b,R8,"left","right",n,a),of(P,_,PY,i),sf(P,y,z8,"bottom","top",n,i),P}function sf(t,e,n,r,i,a,o){if(!e)return;const u=kG(e);o=EG(u?r:e,a,o);const{line:c}=o;(n===R8||n===z8)&&c&&!hu(c)&&t.push(fG(CG(o))),t.push(n(o)),u&&t.push(n({...o,anchor:i,label:null}))}function of(t,e,n,r){!e||hu(e)||t.push(n(NG(e,r)))}function kG(t){return/^\s*both\s*$/i.test(t)}function EG(t,e,{line:n=e.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:u,tickRotate:c,fontVariant:f,ariaLabel:d,ariaDescription:p,label:g=e.label,labelAnchor:y,labelArrow:_=e.labelArrow,labelOffset:b}){return{anchor:t,line:n,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:u,tickRotate:c,fontVariant:f,ariaLabel:d,ariaDescription:p,label:g,labelAnchor:y,labelArrow:_,labelOffset:b}}function CG(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function NG(t,{stroke:e=Kh(t)?t:void 0,ticks:n=PG(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function PG(t){switch(typeof t){case"number":return!0;case"string":return!Kh(t)}return Qa(t)||typeof(t==null?void 0:t.range)=="function"}function lf(t,e){const n=`${e}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function aw(t,e){for(const n of e)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===t||i==="projection")return!0}return!1}function LG(t,e){for(const n in t){const r=t[n],i=e[n];r.label===void 0&&i&&(r.label=i.label)}return t}function IG({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:u,height:c}=s1(n),f=t&&sw(t),d=e&&sw(e);return{marginTop:e?d[0]:r,marginRight:t?u-f[1]:i,marginBottom:e?c-d[1]:a,marginLeft:t?f[0]:o,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:u,height:c}}function sw(t){const e=t.domain();if(e.length===0)return[0,t.bandwidth()];let n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}const OG=new Map([["basis",yg],["basis-closed",NW],["basis-open",PW],["bundle",LW],["bump-x",_W],["bump-y",wW],["cardinal",IW],["cardinal-closed",OW],["cardinal-open",RW],["catmull-rom",zW],["catmull-rom-closed",FW],["catmull-rom-open",BW],["linear",zu],["linear-closed",DW],["monotone-x",UW],["monotone-y",WW],["natural",qW],["step",HW],["step-after",VW],["step-before",o4]]);function aS(t=zu,e){if(typeof t=="function")return t;const n=OG.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}function sS(t=Zo,e){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?Zo:aS(t,e)}function Zo(t){return zu(t)}function Ao(t={y:"count"},e={}){[t,e]=FG(t,e);const{x:n,y:r}=e;return zG(BG(n,e,In),null,null,r,t,id(e))}function RG(t,e,n={}){if((n==null?void 0:n.interval)==null)return n;const{reduce:r=n1}=n,i={filter:null};return n[e]!=null&&(i[e]=r),n[`${e}1`]!=null&&(i[`${e}1`]=r),n[`${e}2`]!=null&&(i[`${e}2`]=r),t(i,n)}function oS(t={}){return RG(Ao,"y",nd(t,"x"))}function zG(t,e,n,r,{data:i=z4,filter:a=oh,sort:o,reverse:u,...c}={},f={}){t=ow(t),e=ow(e),c=UG(c,f),i=cS(i,In),o=o==null?void 0:lS("sort",o,f),a=a==null?void 0:uS("filter",a,f),r!=null&&s0(c,"y","y1","y2")&&(r=null);const[d,p]=Ki(t),[g,y]=Ki(t),[_,b]=Ki(e),[w,x]=Ki(e),[M,A]=r!=null?[r,"y"]:[],[$,P]=Ki(M),{x:L,y:F,z:V,fill:K,stroke:W,x1:R,x2:et,y1:j,y2:C,domain:z,cumulative:U,thresholds:B,interval:at,...Z}=f,[I,E]=Ki(V),[H]=ha(K),[Y]=ha(W),[J,ht]=Ki(H),[nt,rt]=Ki(Y);return{..."z"in f&&{z:I||V},..."fill"in f&&{fill:J||K},..."stroke"in f&&{stroke:nt||W},...Qh(Z,(lt,tt,ot)=>{const _t=T4(mn(lt,M),ot==null?void 0:ot[A]),Q=mn(lt,V),At=mn(lt,H),vt=mn(lt,Y),St=Vq(c,{z:Q,fill:At,stroke:vt}),zt=[],mt=[],Nt=_t&&P([]),oe=Q&&E([]),ae=At&&ht([]),qt=vt&&rt([]),Vt=t&&p([]),Se=t&&y([]),Fe=e&&b([]),_e=e&&x([]),jt=HG(t,e,lt);let Zt=0;for(const Qt of c)Qt.initialize(lt);o&&o.initialize(lt),a&&a.initialize(lt);for(const Qt of tt){const pe=[];for(const ft of c)ft.scope("facet",Qt);o&&o.scope("facet",Qt),a&&a.scope("facet",Qt);for(const[ft,wt]of w2(Qt,St))for(const[Tt,Pt]of w2(wt,_t))for(const[Et,Ot]of jt(Pt))if(St&&(Ot.z=ft),!(a&&!a.reduce(Et,Ot))){pe.push(Zt++),mt.push(i.reduceIndex(Et,lt,Ot)),_t&&Nt.push(Tt),Q&&oe.push(St===Q?ft:Q[(Et.length>0?Et:Pt)[0]]),At&&ae.push(St===At?ft:At[(Et.length>0?Et:Pt)[0]]),vt&&qt.push(St===vt?ft:vt[(Et.length>0?Et:Pt)[0]]),Vt&&(Vt.push(Ot.x1),Se.push(Ot.x2)),Fe&&(Fe.push(Ot.y1),_e.push(Ot.y2));for(const kt of c)kt.reduce(Et,Ot);o&&o.reduce(Et,Ot)}zt.push(pe)}return Yq(zt,o,u),{data:mt,facets:zt}}),...!s0(c,"x")&&(d?{x1:d,x2:g,x:xg(d,g)}:{x:L,x1:R,x2:et}),...!s0(c,"y")&&(_?{y1:_,y2:w,y:xg(_,w)}:{y:F,y1:j,y2:C}),...$&&{[A]:$},...Object.fromEntries(c.map(({name:lt,output:tt})=>[lt,tt]))}}function FG({cumulative:t,domain:e,thresholds:n,interval:r,...i},a){return[i,{cumulative:t,domain:e,thresholds:n,interval:r,...a}]}function BG(t,{cumulative:e,domain:n,thresholds:r,interval:i},a){return t={...Bu(t)},t.domain===void 0&&(t.domain=n),t.cumulative===void 0&&(t.cumulative=e),t.thresholds===void 0&&(t.thresholds=r),t.interval===void 0&&(t.interval=i),t.value===void 0&&(t.value=a),t.thresholds=DG(t.thresholds,t.interval),t}function ow(t){if(t==null)return;const{value:e,cumulative:n,domain:r=Jn,thresholds:i}=t,a=o=>{let u=mn(o,e),c;if(ar(u)||qG(i)){u=rn(u,w4,Float64Array);let[d,p]=typeof r=="function"?r(u):r,g=typeof i=="function"&&!$o(i)?i(u,d,p):i;typeof g=="number"&&(g=p5(d,p,g)),$o(g)&&(r===Jn&&(d=g.floor(d),p=g.offset(g.floor(p))),g=g.range(d,g.offset(p))),c=g}else{u=gi(u);let[d,p]=typeof r=="function"?r(u):r,g=typeof i=="function"&&!$o(i)?i(u,d,p):i;if(typeof g=="number")if(r===Jn){let y=kf(d,p,g);if(isFinite(y))if(y>0){let _=Math.round(d/y),b=Math.round(p/y);_*y<=d||--_,b*y>p||++b;let w=b-_+1;g=new Float64Array(w);for(let x=0;x<w;++x)g[x]=(_+x)*y}else if(y<0){y=-y;let _=Math.round(d*y),b=Math.round(p*y);_/y<=d||--_,b/y>p||++b;let w=b-_+1;g=new Float64Array(w);for(let x=0;x<w;++x)g[x]=(_+x)/y}else g=[d];else g=[d]}else g=Zl(d,p,g);else $o(g)&&(r===Jn&&(d=g.floor(d),p=g.offset(g.floor(p))),g=g.range(d,g.offset(p)));c=g}const f=[];if(c.length===1)f.push([c[0],c[0]]);else for(let d=1;d<c.length;++d)f.push([c[d-1],c[d]]);return f.bin=(n<0?YG:n>0?VG:S1)(f,c,u),f};return a.label=Ys(e),a}function DG(t,e,n=lw){if(t===void 0)return e===void 0?n:rl(e);if(typeof t=="string"){switch(t.toLowerCase()){case"freedman-diaconis":return cO;case"scott":return $x;case"sturges":return sO;case"auto":return lw}return Hv(t)}return t}function UG(t,e){return Wq(t,e,lS)}function lS(t,e,n){return O4(t,e,n,uS)}function uS(t,e,n){return R4(t,e,n,cS)}function cS(t,e){return e1(t,e,WG)}function WG(t){switch(`${t}`.toLowerCase()){case"x":return GG;case"x1":return KG;case"x2":return jG;case"y":return XG;case"y1":return ZG;case"y2":return QG;case"z":return Jq}throw new Error(`invalid bin reduce: ${t}`)}function lw(t,e,n){return Math.min(200,$x(t,e,n))}function qG(t){return _q(t)||Qa(t)&&ar(t)}function HG(t,e,n){const r=t==null?void 0:t(n),i=e==null?void 0:e(n);return r&&i?function*(a){const o=r.bin(a);for(const[u,[c,f]]of r.entries()){const d=i.bin(o[u]);for(const[p,[g,y]]of i.entries())yield[d[p],{data:n,x1:c,y1:g,x2:f,y2:y}]}}:r?function*(a){const o=r.bin(a);for(const[u,[c,f]]of r.entries())yield[o[u],{data:n,x1:c,x2:f}]}:function*(a){const o=i.bin(a);for(const[u,[c,f]]of i.entries())yield[o[u],{data:n,y1:c,y2:f}]}}function S1(t,e,n){return e=gi(e),r=>{var a;const i=t.map(()=>[]);for(const o of r)(a=i[wh(e,n[o])-1])==null||a.push(o);return i}}function VG(t,e,n){const r=S1(t,e,n);return i=>{const a=r(i);for(let o=1,u=a.length;o<u;++o){const c=a[o-1],f=a[o];for(const d of c)f.push(d)}return a}}function YG(t,e,n){const r=S1(t,e,n);return i=>{const a=r(i);for(let o=a.length-2;o>=0;--o){const u=a[o+1],c=a[o];for(const f of u)c.push(f)}return a}}function fS(t,e){const n=(+t+ +e)/2;return t instanceof Date?new Date(n):n}const GG={reduceIndex(t,e,{x1:n,x2:r}){return fS(n,r)}},XG={reduceIndex(t,e,{y1:n,y2:r}){return fS(n,r)}},KG={reduceIndex(t,e,{x1:n}){return n}},jG={reduceIndex(t,e,{x2:n}){return n}},ZG={reduceIndex(t,e,{y1:n}){return n}},QG={reduceIndex(t,e,{y2:n}){return n}},JG={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class tX extends On{constructor(e,n={}){const{x1:r,y1:i,x2:a,y2:o,z:u,curve:c,tension:f}=n;super(e,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:a,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0},z:{value:Xv(n),optional:!0}},n,JG),this.z=u,this.curve=aS(c,f)}filter(e){return e}render(e,n,r,i,a){const{x1:o,y1:u,x2:c=o,y2:f=u}=r;return en("svg:g",a).call(br,this,i,a).call(_r,this,n,0,0).call(d=>d.selectAll().data(s8(e,[o,u,c,f],this,r)).enter().append("path").call(Hn,this).call(a8,this,r).attr("d",bW().curve(this.curve).defined(p=>p>=0).x0(p=>o[p]).y0(p=>u[p]).x1(p=>c[p]).y1(p=>f[p]))).node()}}function Ig(t,e){const{x:n=uu,...r}=oS(e);return new tX(t,J8(Q8({...r,x1:n,x2:void 0},n===uu?"y2":"y")))}const eX={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class nX extends On{constructor(e,n={}){const{x1:r,y1:i,x2:a,y2:o,curve:u,tension:c}=n;super(e,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:a,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0}},n,eX),this.curve=sS(u,c),Yu(this,n)}project(e,n,r){this.curve!==Zo&&super.project(e,n,r)}render(e,n,r,i,a){const{x1:o,y1:u,x2:c=o,y2:f=u}=r,{curve:d}=this;return en("svg:g",a).call(br,this,i,a).call(_r,this,n).call(p=>p.selectAll().data(e).enter().append("path").call(Hn,this).attr("d",d===Zo&&a.projection?rX(a.path(),o,u,c,f):g=>{const y=Na(),_=d(y);return _.lineStart(),_.point(o[g],u[g]),_.point(c[g],f[g]),_.lineEnd(),y}).call(Dr,this,r).call(rd,this,r,a)).node()}}function rX(t,e,n,r,i){return e=gi(e),n=gi(n),r=gi(r),i=gi(i),a=>t({type:"LineString",coordinates:[[e[a],n[a]],[r[a],i[a]]]})}function M1(t,{x:e,x1:n,x2:r,y:i,y1:a,y2:o,...u}={}){return[n,r]=uw(e,n,r),[a,o]=uw(i,a,o),new nX(t,{...u,x1:n,x2:r,y1:a,y2:o})}function uw(t,e,n){if(t===void 0){if(e===void 0){if(n!==void 0)return[n]}else if(n===void 0)return[e]}else{if(e===void 0)return n===void 0?[t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}const iX={ariaLabel:"bar"};class aX extends On{constructor(e,n,r={},i=iX){super(e,n,r,i),b1(this,r),_1(this,r)}render(e,n,r,i,a){const{rx:o,ry:u,rx1y1:c,rx1y2:f,rx2y1:d,rx2y2:p}=this,g=this._x(n,r,i),y=this._y(n,r,i),_=this._width(n,r,i),b=this._height(n,r,i);return en("svg:g",a).call(br,this,i,a).call(this._transform,this,n).call(w=>w.selectAll().data(e).enter().call(c||f||d||p?x=>x.append("path").call(Hn,this).call(w1,g,y,cw(g,_),cw(y,b),this).call(Dr,this,r):x=>x.append("rect").call(Hn,this).attr("x",g).attr("width",_).attr("y",y).attr("height",b).call(Gt,"rx",o).call(Gt,"ry",u).call(Dr,this,r))).node()}_x(e,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?a=>n[a]+i:r+i}_y(e,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?a=>n[a]+i:r+i}_width({x:e},{x:n},{marginRight:r,marginLeft:i,width:a}){const{insetLeft:o,insetRight:u}=this,c=n&&e?e.bandwidth():a-r-i;return Math.max(0,c-o-u)}_height({y:e},{y:n},{marginTop:r,marginBottom:i,height:a}){const{insetTop:o,insetBottom:u}=this,c=n&&e?e.bandwidth():a-r-i;return Math.max(0,c-o-u)}}function cw(t,e){return typeof t=="function"&&typeof e=="function"?n=>t(n)+e(n):typeof t=="function"?n=>t(n)+e:typeof e=="function"?n=>t+e(n):t+e}class sX extends aX{constructor(e,n={},r){const{x:i,y1:a,y2:o}=n;super(e,{y1:{value:a,scale:"y"},y2:{value:o,scale:"y"},x:{value:i,scale:"x",type:"band",optional:!0}},n,r)}_transform(e,n,{y:r}){e.call(_r,n,{y:r},0,0)}_y({y:e},{y1:n,y2:r},{marginTop:i}){const{insetTop:a}=this;return Ya(e)?i+a:o=>Math.min(n[o],r[o])+a}_height({y:e},{y1:n,y2:r},{marginTop:i,marginBottom:a,height:o}){const{insetTop:u,insetBottom:c}=this;return Ya(e)?o-i-a-u-c:f=>Math.max(0,Math.abs(r[f]-n[f])-u-c)}}function Ga(t,e={}){return pq(e)||(e={...e,x:uu,y2:In}),new sX(t,J8(b8(Q8(e))))}const oX={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function lX(t){return t.sort===void 0&&t.reverse===void 0?Bq({channel:"-r"},t):t}class uX extends On{constructor(e,n={}){const{x:r,y:i,r:a,rotate:o,symbol:u=lu,frameAnchor:c}=n,[f,d]=Wn(o,0),[p,g]=zq(u),[y,_]=Wn(a,p==null?3:4.5);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:y,scale:"r",filter:Vh,optional:!0},rotate:{value:f,optional:!0},symbol:{value:p,scale:"auto",optional:!0}},lX(n),oX),this.r=_,this.rotate=d,this.symbol=g,this.frameAnchor=jh(c);const{channels:b}=this,{symbol:w}=b;if(w){const{fill:x,stroke:M}=b;w.hint={fill:x?x.value===w.value?"color":"currentColor":this.fill??"currentColor",stroke:M?M.value===w.value?"color":"currentColor":this.stroke??"none"}}}render(e,n,r,i,a){const{x:o,y:u}=n,{x:c,y:f,r:d,rotate:p,symbol:g}=r,{r:y,rotate:_,symbol:b}=this,[w,x]=Vu(this,i),M=b===lu,A=d?void 0:y*y*Math.PI;return Uv(y)&&(e=[]),en("svg:g",a).call(br,this,i,a).call(_r,this,{x:c&&o,y:f&&u}).call($=>$.selectAll().data(e).enter().append(M?"circle":"path").call(Hn,this).call(M?P=>{P.attr("cx",c?L=>c[L]:w).attr("cy",f?L=>f[L]:x).attr("r",d?L=>d[L]:y)}:P=>{P.attr("transform",p1`translate(${c?L=>c[L]:w},${f?L=>f[L]:x})${p?L=>` rotate(${p[L]})`:_?` rotate(${_})`:""}`).attr("d",d&&g?L=>{const F=Na();return g[L].draw(F,d[L]*d[L]*Math.PI),F}:d?L=>{const F=Na();return b.draw(F,d[L]*d[L]*Math.PI),F}:g?L=>{const F=Na();return g[L].draw(F,A),F}:(()=>{const L=Na();return b.draw(L,A),L})())}).call(Dr,this,r)).node()}}function Mn(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Xh(e,n)),new uX(t,{...r,x:e,y:n})}const cX={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class hS extends On{constructor(e,n={}){const{x:r,y:i,z:a,curve:o,tension:u}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Xv(n),optional:!0}},n,cX),this.z=a,this.curve=sS(o,u),Yu(this,n)}filter(e){return e}project(e,n,r){this.curve!==Zo&&super.project(e,n,r)}render(e,n,r,i,a){const{x:o,y:u}=r,{curve:c}=this;return en("svg:g",a).call(br,this,i,a).call(_r,this,n).call(f=>f.selectAll().data(s8(e,[o,u],this,r)).enter().append("path").call(Hn,this).call(a8,this,r).call(XV,this,r,a).attr("d",c===Zo&&a.projection?fX(a.path(),o,u):ou().curve(c).defined(d=>d>=0).x(d=>o[d]).y(d=>u[d]))).node()}}function fX(t,e,n){return e=gi(e),n=gi(n),r=>{let i=[];const a=[i];for(const o of r)o===-1?(i=[],a.push(i)):i.push([e[o],n[o]]);return t({type:"MultiLineString",coordinates:a})}}function gu(t,{x:e,y:n,...r}={}){return[e,n]=Xh(e,n),new hS(t,{...r,x:e,y:n})}function fw(t,{x:e=uu,y:n=In,...r}={}){return new hS(t,oS({...r,x:e,y:n}))}const hX={ariaLabel:"tick",fill:null,stroke:"currentColor"};class dX extends On{constructor(e,n,r){super(e,n,r,hX),Yu(this,r)}render(e,n,r,i,a){return en("svg:g",a).call(br,this,i,a).call(this._transform,this,n).call(o=>o.selectAll().data(e).enter().append("line").call(Hn,this).attr("x1",this._x1(n,r,i)).attr("x2",this._x2(n,r,i)).attr("y1",this._y1(n,r,i)).attr("y2",this._y2(n,r,i)).call(Dr,this,r).call(rd,this,r,a)).node()}}class pX extends dX{constructor(e,n={}){const{x:r,y:i,inset:a=0,insetTop:o=a,insetBottom:u=a}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y",type:"band",optional:!0}},n),this.insetTop=yn(o),this.insetBottom=yn(u)}_transform(e,n,{x:r}){e.call(_r,n,{x:r},er,0)}_x1(e,{x:n}){return r=>n[r]}_x2(e,{x:n}){return r=>n[r]}_y1({y:e},{y:n},{marginTop:r}){const{insetTop:i}=this;return n&&e?a=>n[a]+i:r+i}_y2({y:e},{y:n},{height:r,marginBottom:i}){const{insetBottom:a}=this;return n&&e?o=>n[o]+e.bandwidth()-a:r-i-a}}function gX(t,{x:e=In,...n}={}){return new pX(t,{...n,x:e})}On.prototype.plot=function({marks:t=[],...e}={}){return Re({...e,marks:[...t,this]})};const Qo={Diversifying:"#e74c3c",Neutral:"#95a5a6",Purifying:"#3498db",Invariable:"#ecf0f1"},jr=10;function vX(t){return[{label:"Site-level dN/dS estimates",available:e=>!!e["confidence interval"]},{label:"alpha/beta site-level estimates",available:()=>!0},{label:"Bootstrap vs asymptotic p-value",available:()=>t},{label:"Rate density plots",available:()=>!0},{label:"Q-Q plots",available:()=>t},{label:"Dense rate plot",available:()=>!0}]}function mX(t,e){return{"Site-level dN/dS estimates":"Maximum likelihood estimates of dN/dS at each site, together with estimated profile confidence intervals (if available). dN/dS = 1 (neutrality) is depicted as a horizontal gray line. Boundaries between partitions (if present) are shown as vertical dashed lines.","alpha/beta site-level estimates":`Maximum likelihood estimates of synonymous () and non-synonymous rates () at each site shown as bars. The line shows the estimates under the null model (=). Estimates above ${jr} are censored at this value.`,"Dense rate plot":`Maximum likelihood estimates of synonymous () and non-synonymous rates () at each site. Estimates above ${jr} are censored at this value. p-values are also shown`,"Bootstrap vs asymptotic p-value":`Comparison of site-level p-values for non-neutrality using parametric bootstrap and the asymptotic approximation. Rejection region (p  ${e}) is shown as a shaded rectangle`,"Rate density plots":`Kernel density estimates of site-level rate estimates. Means are shown with red rules. Estimates above ${jr} are censored at this value.`,"Q-Q plots":"Comparison of asymptotic vs bootstrap LRT distributions (limited to 60 sites)."}[t]||""}function yX(t){var n;const e=t.map(r=>({...r,"dN/dS MLE":Math.min(r["dN/dS MLE"]||0,jr),"dN/dS LB":Math.min(r["dN/dS LB"]||0,jr),"dN/dS UB":Math.min(r["dN/dS UB"]||0,jr)}));return Re({width:800,height:400,marginBottom:40,x:{label:"Codon",tickFormat:r=>r.toString()},y:{label:"dN/dS",grid:!0,type:"sqrt"},color:{type:"categorical",domain:Object.keys(Qo),range:Object.values(Qo),legend:!0},marks:[cn([1],{stroke:"gray",strokeOpacity:.5,strokeWidth:2}),...((n=t[0])==null?void 0:n["dN/dS LB"])!==void 0?[M1(e,{x:"codon",y1:"dN/dS LB",y2:"dN/dS UB",stroke:"steelblue",strokeWidth:1})]:[],Mn(e,{x:"codon",y:"dN/dS MLE",fill:"class",r:4,tip:!0})]})}function bX(t){const e=t.map(r=>({codon:r.codon,alpha:-Math.min(r.alpha,jr),beta:Math.min(r.beta,jr),neutral:Math.min(r["alpha=beta"],jr),class:r.class,partition:r.partition})),n=Math.max(...e.map(r=>Math.max(Math.abs(r.alpha),r.beta)));return Re({width:800,height:400,marginLeft:60,marginBottom:50,x:{label:"Codon",tickFormat:r=>r.toString()},y:{label:"Rate estimate",domain:[-n*1.1,n*1.1],grid:!0,tickFormat:r=>{const i=Math.abs(r);return r>0?` = ${i.toFixed(1)}`:r<0?` = ${i.toFixed(1)}`:"0"}},color:{type:"categorical",domain:Object.keys(Qo),range:Object.values(Qo)},marks:[cn([0],{stroke:"gray",strokeOpacity:.5,strokeWidth:1}),mf(e,{x:r=>r.codon-.4,x2:r=>r.codon+.4,y:0,y2:"alpha",fill:"class",stroke:"white",strokeWidth:.5,fillOpacity:.8}),mf(e,{x:r=>r.codon-.4,x2:r=>r.codon+.4,y:0,y2:"beta",fill:"class",stroke:"white",strokeWidth:.5,fillOpacity:.8}),M1(e,{x:r=>r.codon-.4,x2:r=>r.codon+.4,y:"neutral",y2:"neutral",stroke:"#333",strokeWidth:2,strokeOpacity:.8}),mf(e,{x:r=>r.codon-.4,x2:r=>r.codon+.4,y:"alpha",y2:"beta",fill:"transparent",title:r=>`Codon ${r.codon}
 = ${Math.abs(r.alpha).toFixed(3)}
 = ${r.beta.toFixed(3)}
= = ${r.neutral.toFixed(3)}
Class: ${r.class}`})]})}function _X(t,e){const n=t.map(r=>({...r,agree:(r["p-value"]-e)*((r["p-asmp"]||0)-e)>=0?"Yes":"No"}));return Re({width:500,height:500,x:{label:"Bootstrap p-value",type:"sqrt",grid:!0},y:{label:"Asymptotic p-value",type:"sqrt",grid:!0},color:{type:"categorical",domain:Object.keys(Qo),range:Object.values(Qo),legend:!0},marks:[mf([{x1:0,y1:0,x2:e,y2:e}],{x1:"x1",y1:"y1",x2:"x2",y2:"y2",fill:"#DDD",fillOpacity:.3}),Mn(n,{x:"p-value",y:"p-asmp",fill:"class",symbol:r=>r.agree==="Yes"?"circle":"cross",r:5,fillOpacity:.7,tip:!0})]})}function wX(t){const e=t.map(a=>Math.min(a.alpha,jr)),n=t.map(a=>Math.min(a.beta,jr)),r=Hl(e),i=Hl(n);return Re({width:600,height:400,x:{label:"Rate value",grid:!0},y:{label:"Density",grid:!0},marks:[Ig(e,Ao({y:"count"},{x:a=>a})),fw(e,Ao({y:"count"},{x:a=>a})),Ig(n,Ao({y:"count"},{x:a=>a})),fw(n,Ao({y:"count"},{x:a=>a})),sa([r],{stroke:"steelblue",strokeWidth:2,strokeDasharray:"4,2"}),sa([i],{stroke:"orange",strokeWidth:2,strokeDasharray:"4,2"}),za([{x:r,y:0,text:` mean: ${r.toFixed(2)}`}],{x:"x",y:"y",text:"text",dy:-10,fill:"steelblue",fontSize:12}),za([{x:i,y:0,text:` mean: ${i.toFixed(2)}`}],{x:"x",y:"y",text:"text",dy:-25,fill:"orange",fontSize:12})]})}function xX(t,e,n){switch(t){case"Site-level dN/dS estimates":return yX(e);case"alpha/beta site-level estimates":return bX(e);case"Bootstrap vs asymptotic p-value":return _X(e,n);case"Rate density plots":return wX(e);default:return null}}var dS="1.13.7",hw=typeof self=="object"&&self.self===self&&self||typeof globalThis=="object"&&globalThis.global===globalThis&&globalThis||Function("return this")()||{},ld=Array.prototype,T1=Object.prototype,dw=typeof Symbol<"u"?Symbol.prototype:null,SX=ld.push,Gu=ld.slice,vu=T1.toString,MX=T1.hasOwnProperty,pS=typeof ArrayBuffer<"u",TX=typeof DataView<"u",$X=Array.isArray,pw=Object.keys,gw=Object.create,vw=pS&&ArrayBuffer.isView,AX=isNaN,kX=isFinite,gS=!{toString:null}.propertyIsEnumerable("toString"),mw=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],EX=Math.pow(2,53)-1;function sr(t,e){return e=e==null?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var a=Array(e+1);for(i=0;i<e;i++)a[i]=arguments[i];return a[e]=r,t.apply(this,a)}}function Xs(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function CX(t){return t===null}function Is(t){return t===void 0}function vS(t){return t===!0||t===!1||vu.call(t)==="[object Boolean]"}function NX(t){return!!(t&&t.nodeType===1)}function Rn(t){var e="[object "+t+"]";return function(n){return vu.call(n)===e}}const ud=Rn("String"),mS=Rn("Number"),PX=Rn("Date"),LX=Rn("RegExp"),IX=Rn("Error"),yS=Rn("Symbol"),bS=Rn("ArrayBuffer");var _S=Rn("Function"),OX=hw.document&&hw.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof OX!="function"&&(_S=function(t){return typeof t=="function"||!1});const Ln=_S,wS=Rn("Object");var xS=TX&&(!/\[native code\]/.test(String(DataView))||wS(new DataView(new ArrayBuffer(8)))),$1=typeof Map<"u"&&wS(new Map),RX=Rn("DataView");function zX(t){return t!=null&&Ln(t.getInt8)&&bS(t.buffer)}const uh=xS?zX:RX,Ks=$X||Rn("Array");function es(t,e){return t!=null&&MX.call(t,e)}var Og=Rn("Arguments");(function(){Og(arguments)||(Og=function(t){return es(t,"callee")})})();const A1=Og;function FX(t){return!yS(t)&&kX(t)&&!isNaN(parseFloat(t))}function SS(t){return mS(t)&&AX(t)}function MS(t){return function(){return t}}function TS(t){return function(e){var n=t(e);return typeof n=="number"&&n>=0&&n<=EX}}function $S(t){return function(e){return e==null?void 0:e[t]}}const ch=$S("byteLength"),BX=TS(ch);var DX=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function UX(t){return vw?vw(t)&&!uh(t):BX(t)&&DX.test(vu.call(t))}const AS=pS?UX:MS(!1),or=$S("length");function WX(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,t.push(i)}}}function kS(t,e){e=WX(e);var n=mw.length,r=t.constructor,i=Ln(r)&&r.prototype||T1,a="constructor";for(es(t,a)&&!e.contains(a)&&e.push(a);n--;)a=mw[n],a in t&&t[a]!==i[a]&&!e.contains(a)&&e.push(a)}function an(t){if(!Xs(t))return[];if(pw)return pw(t);var e=[];for(var n in t)es(t,n)&&e.push(n);return gS&&kS(t,e),e}function qX(t){if(t==null)return!0;var e=or(t);return typeof e=="number"&&(Ks(t)||ud(t)||A1(t))?e===0:or(an(t))===0}function ES(t,e){var n=an(e),r=n.length;if(t==null)return!r;for(var i=Object(t),a=0;a<r;a++){var o=n[a];if(e[o]!==i[o]||!(o in i))return!1}return!0}function Ae(t){if(t instanceof Ae)return t;if(!(this instanceof Ae))return new Ae(t);this._wrapped=t}Ae.VERSION=dS;Ae.prototype.value=function(){return this._wrapped};Ae.prototype.valueOf=Ae.prototype.toJSON=Ae.prototype.value;Ae.prototype.toString=function(){return String(this._wrapped)};function yw(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,ch(t))}var bw="[object DataView]";function Rg(t,e,n,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var i=typeof t;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:CS(t,e,n,r)}function CS(t,e,n,r){t instanceof Ae&&(t=t._wrapped),e instanceof Ae&&(e=e._wrapped);var i=vu.call(t);if(i!==vu.call(e))return!1;if(xS&&i=="[object Object]"&&uh(t)){if(!uh(e))return!1;i=bw}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return dw.valueOf.call(t)===dw.valueOf.call(e);case"[object ArrayBuffer]":case bw:return CS(yw(t),yw(e),n,r)}var a=i==="[object Array]";if(!a&&AS(t)){var o=ch(t);if(o!==ch(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;a=!0}if(!a){if(typeof t!="object"||typeof e!="object")return!1;var u=t.constructor,c=e.constructor;if(u!==c&&!(Ln(u)&&u instanceof u&&Ln(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var f=n.length;f--;)if(n[f]===t)return r[f]===e;if(n.push(t),r.push(e),a){if(f=t.length,f!==e.length)return!1;for(;f--;)if(!Rg(t[f],e[f],n,r))return!1}else{var d=an(t),p;if(f=d.length,an(e).length!==f)return!1;for(;f--;)if(p=d[f],!(es(e,p)&&Rg(t[p],e[p],n,r)))return!1}return n.pop(),r.pop(),!0}function HX(t,e){return Rg(t,e)}function Xu(t){if(!Xs(t))return[];var e=[];for(var n in t)e.push(n);return gS&&kS(t,e),e}function k1(t){var e=or(t);return function(n){if(n==null)return!1;var r=Xu(n);if(or(r))return!1;for(var i=0;i<e;i++)if(!Ln(n[t[i]]))return!1;return t!==LS||!Ln(n[E1])}}var E1="forEach",NS="has",C1=["clear","delete"],PS=["get",NS,"set"],VX=C1.concat(E1,PS),LS=C1.concat(PS),YX=["add"].concat(C1,E1,NS);const GX=$1?k1(VX):Rn("Map"),XX=$1?k1(LS):Rn("WeakMap"),KX=$1?k1(YX):Rn("Set"),jX=Rn("WeakSet");function js(t){for(var e=an(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function ZX(t){for(var e=an(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function IS(t){for(var e={},n=an(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function zg(t){var e=[];for(var n in t)Ln(t[n])&&e.push(n);return e.sort()}function N1(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var a=arguments[i],o=t(a),u=o.length,c=0;c<u;c++){var f=o[c];(!e||n[f]===void 0)&&(n[f]=a[f])}return n}}const ai=N1(Xu),mu=N1(an),P1=N1(Xu,!0);function QX(){return function(){}}function OS(t){if(!Xs(t))return{};if(gw)return gw(t);var e=QX();e.prototype=t;var n=new e;return e.prototype=null,n}function JX(t,e){var n=OS(t);return e&&mu(n,e),n}function RS(t){return Xs(t)?Ks(t)?t.slice():ai({},t):t}function tK(t,e){return e(t),t}function zS(t){return Ks(t)?t:[t]}Ae.toPath=zS;function Ku(t){return Ae.toPath(t)}function L1(t,e){for(var n=e.length,r=0;r<n;r++){if(t==null)return;t=t[e[r]]}return n?t:void 0}function FS(t,e,n){var r=L1(t,Ku(e));return Is(r)?n:r}function cd(t,e){e=Ku(e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(!es(t,i))return!1;t=t[i]}return!!n}function I1(t){return t}function yu(t){return t=mu({},t),function(e){return ES(e,t)}}function O1(t){return t=Ku(t),function(e){return L1(e,t)}}function ju(t,e,n){if(e===void 0)return t;switch(n??3){case 1:return function(r){return t.call(e,r)};case 3:return function(r,i,a){return t.call(e,r,i,a)};case 4:return function(r,i,a,o){return t.call(e,r,i,a,o)}}return function(){return t.apply(e,arguments)}}function BS(t,e,n){return t==null?I1:Ln(t)?ju(t,e,n):Xs(t)&&!Ks(t)?yu(t):O1(t)}function R1(t,e){return BS(t,e,1/0)}Ae.iteratee=R1;function ur(t,e,n){return Ae.iteratee!==R1?Ae.iteratee(t,e):BS(t,e,n)}function DS(t,e,n){e=ur(e,n);for(var r=an(t),i=r.length,a={},o=0;o<i;o++){var u=r[o];a[u]=e(t[u],u,t)}return a}function US(){}function eK(t){return t==null?US:function(e){return FS(t,e)}}function nK(t,e,n){var r=Array(Math.max(0,t));e=ju(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function Fg(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const bu=Date.now||function(){return new Date().getTime()};function WS(t){var e=function(a){return t[a]},n="(?:"+an(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(a){return a=a==null?"":""+a,r.test(a)?a.replace(i,e):a}}const qS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},rK=WS(qS),iK=IS(qS),aK=WS(iK),sK=Ae.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var _0=/(.)^/,oK={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},lK=/\\|'|\r|\n|\u2028|\u2029/g;function uK(t){return"\\"+oK[t]}var cK=/^\s*(\w|\$)+\s*$/;function fK(t,e,n){!e&&n&&(e=n),e=P1({},e,Ae.templateSettings);var r=RegExp([(e.escape||_0).source,(e.interpolate||_0).source,(e.evaluate||_0).source].join("|")+"|$","g"),i=0,a="__p+='";t.replace(r,function(f,d,p,g,y){return a+=t.slice(i,y).replace(lK,uK),i=y+f.length,d?a+=`'+
((__t=(`+d+`))==null?'':_.escape(__t))+
'`:p?a+=`'+
((__t=(`+p+`))==null?'':__t)+
'`:g&&(a+=`';
`+g+`
__p+='`),f}),a+=`';
`;var o=e.variable;if(o){if(!cK.test(o))throw new Error("variable is not a bare identifier: "+o)}else a=`with(obj||{}){
`+a+`}
`,o="obj";a=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+a+`return __p;
`;var u;try{u=new Function(o,"_",a)}catch(f){throw f.source=a,f}var c=function(f){return u.call(this,f,Ae)};return c.source="function("+o+`){
`+a+"}",c}function hK(t,e,n){e=Ku(e);var r=e.length;if(!r)return Ln(n)?n.call(t):n;for(var i=0;i<r;i++){var a=t==null?void 0:t[e[i]];a===void 0&&(a=n,i=r),t=Ln(a)?a.call(t):a}return t}var dK=0;function pK(t){var e=++dK+"";return t?t+e:e}function gK(t){var e=Ae(t);return e._chain=!0,e}function HS(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var a=OS(t.prototype),o=t.apply(a,i);return Xs(o)?o:a}var Ti=sr(function(t,e){var n=Ti.placeholder,r=function(){for(var i=0,a=e.length,o=Array(a),u=0;u<a;u++)o[u]=e[u]===n?arguments[i++]:e[u];for(;i<arguments.length;)o.push(arguments[i++]);return HS(t,r,this,this,o)};return r});Ti.placeholder=Ae;const VS=sr(function(t,e,n){if(!Ln(t))throw new TypeError("Bind must be called on a function");var r=sr(function(i){return HS(t,r,e,this,n.concat(i))});return r}),wr=TS(or);function Zs(t,e,n,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(t);for(var i=r.length,a=0,o=or(t);a<o;a++){var u=t[a];if(wr(u)&&(Ks(u)||A1(u)))if(e>1)Zs(u,e-1,n,r),i=r.length;else for(var c=0,f=u.length;c<f;)r[i++]=u[c++];else n||(r[i++]=u)}return r}const vK=sr(function(t,e){e=Zs(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=VS(t[r],t)}return t});function mK(t,e){var n=function(r){var i=n.cache,a=""+(e?e.apply(this,arguments):r);return es(i,a)||(i[a]=t.apply(this,arguments)),i[a]};return n.cache={},n}const YS=sr(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),yK=Ti(YS,Ae,1);function bK(t,e,n){var r,i,a,o,u=0;n||(n={});var c=function(){u=n.leading===!1?0:bu(),r=null,o=t.apply(i,a),r||(i=a=null)},f=function(){var d=bu();!u&&n.leading===!1&&(u=d);var p=e-(d-u);return i=this,a=arguments,p<=0||p>e?(r&&(clearTimeout(r),r=null),u=d,o=t.apply(i,a),r||(i=a=null)):!r&&n.trailing!==!1&&(r=setTimeout(c,p)),o};return f.cancel=function(){clearTimeout(r),u=0,r=i=a=null},f}function _K(t,e,n){var r,i,a,o,u,c=function(){var d=bu()-i;e>d?r=setTimeout(c,e-d):(r=null,n||(o=t.apply(u,a)),r||(a=u=null))},f=sr(function(d){return u=this,a=d,i=bu(),r||(r=setTimeout(c,e),n&&(o=t.apply(u,a))),o});return f.cancel=function(){clearTimeout(r),r=a=u=null},f}function wK(t,e){return Ti(e,t)}function z1(t){return function(){return!t.apply(this,arguments)}}function xK(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function SK(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function GS(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const MK=Ti(GS,2);function XS(t,e,n){e=ur(e,n);for(var r=an(t),i,a=0,o=r.length;a<o;a++)if(i=r[a],e(t[i],i,t))return i}function KS(t){return function(e,n,r){n=ur(n,r);for(var i=or(e),a=t>0?0:i-1;a>=0&&a<i;a+=t)if(n(e[a],a,e))return a;return-1}}const F1=KS(1),jS=KS(-1);function ZS(t,e,n,r){n=ur(n,r,1);for(var i=n(e),a=0,o=or(t);a<o;){var u=Math.floor((a+o)/2);n(t[u])<i?a=u+1:o=u}return a}function QS(t,e,n){return function(r,i,a){var o=0,u=or(r);if(typeof a=="number")t>0?o=a>=0?a:Math.max(a+u,o):u=a>=0?Math.min(a+1,u):a+u+1;else if(n&&a&&u)return a=n(r,i),r[a]===i?a:-1;if(i!==i)return a=e(Gu.call(r,o,u),SS),a>=0?a+o:-1;for(a=t>0?o:u-1;a>=0&&a<u;a+=t)if(r[a]===i)return a;return-1}}const JS=QS(1,F1,ZS),TK=QS(-1,jS);function Bg(t,e,n){var r=wr(t)?F1:XS,i=r(t,e,n);if(i!==void 0&&i!==-1)return t[i]}function $K(t,e){return Bg(t,yu(e))}function lr(t,e,n){e=ju(e,n);var r,i;if(wr(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var a=an(t);for(r=0,i=a.length;r<i;r++)e(t[a[r]],a[r],t)}return t}function qn(t,e,n){e=ur(e,n);for(var r=!wr(t)&&an(t),i=(r||t).length,a=Array(i),o=0;o<i;o++){var u=r?r[o]:o;a[o]=e(t[u],u,t)}return a}function t7(t){var e=function(n,r,i,a){var o=!wr(n)&&an(n),u=(o||n).length,c=t>0?0:u-1;for(a||(i=n[o?o[c]:c],c+=t);c>=0&&c<u;c+=t){var f=o?o[c]:c;i=r(i,n[f],f,n)}return i};return function(n,r,i,a){var o=arguments.length>=3;return e(n,ju(r,a,4),i,o)}}const w0=t7(1),_w=t7(-1);function vr(t,e,n){var r=[];return e=ur(e,n),lr(t,function(i,a,o){e(i,a,o)&&r.push(i)}),r}function e7(t,e,n){return vr(t,z1(ur(e)),n)}function Dg(t,e,n){e=ur(e,n);for(var r=!wr(t)&&an(t),i=(r||t).length,a=0;a<i;a++){var o=r?r[a]:a;if(!e(t[o],o,t))return!1}return!0}function fh(t,e,n){e=ur(e,n);for(var r=!wr(t)&&an(t),i=(r||t).length,a=0;a<i;a++){var o=r?r[a]:a;if(e(t[o],o,t))return!0}return!1}function wi(t,e,n,r){return wr(t)||(t=js(t)),(typeof n!="number"||r)&&(n=0),JS(t,e,n)>=0}const AK=sr(function(t,e,n){var r,i;return Ln(e)?i=e:(e=Ku(e),r=e.slice(0,-1),e=e[e.length-1]),qn(t,function(a){var o=i;if(!o){if(r&&r.length&&(a=L1(a,r)),a==null)return;o=a[e]}return o==null?o:o.apply(a,n)})});function fd(t,e){return qn(t,O1(e))}function kK(t,e){return vr(t,yu(e))}function B1(t,e,n){var r=-1/0,i=-1/0,a,o;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=wr(t)?t:js(t);for(var u=0,c=t.length;u<c;u++)a=t[u],a!=null&&a>r&&(r=a)}else e=ur(e,n),lr(t,function(f,d,p){o=e(f,d,p),(o>i||o===-1/0&&r===-1/0)&&(r=f,i=o)});return r}function n7(t,e,n){var r=1/0,i=1/0,a,o;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=wr(t)?t:js(t);for(var u=0,c=t.length;u<c;u++)a=t[u],a!=null&&a<r&&(r=a)}else e=ur(e,n),lr(t,function(f,d,p){o=e(f,d,p),(o<i||o===1/0&&r===1/0)&&(r=f,i=o)});return r}var EK=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function r7(t){return t?Ks(t)?Gu.call(t):ud(t)?t.match(EK):wr(t)?qn(t,I1):js(t):[]}function i7(t,e,n){if(e==null||n)return wr(t)||(t=js(t)),t[Fg(t.length-1)];var r=r7(t),i=or(r);e=Math.max(Math.min(e,i),0);for(var a=i-1,o=0;o<e;o++){var u=Fg(o,a),c=r[o];r[o]=r[u],r[u]=c}return r.slice(0,e)}function CK(t){return i7(t,1/0)}function a7(t,e,n){var r=0;return e=ur(e,n),fd(qn(t,function(i,a,o){return{value:i,index:r++,criteria:e(i,a,o)}}).sort(function(i,a){var o=i.criteria,u=a.criteria;if(o!==u){if(o>u||o===void 0)return 1;if(o<u||u===void 0)return-1}return i.index-a.index}),"value")}function hd(t,e){return function(n,r,i){var a=e?[[],[]]:{};return r=ur(r,i),lr(n,function(o,u){var c=r(o,u,n);t(a,o,c)}),a}}const NK=hd(function(t,e,n){es(t,n)?t[n].push(e):t[n]=[e]}),PK=hd(function(t,e,n){t[n]=e}),LK=hd(function(t,e,n){es(t,n)?t[n]++:t[n]=1}),IK=hd(function(t,e,n){t[n?0:1].push(e)},!0);function OK(t){return t==null?0:wr(t)?t.length:an(t).length}function RK(t,e,n){return e in n}const D1=sr(function(t,e){var n={},r=e[0];if(t==null)return n;Ln(r)?(e.length>1&&(r=ju(r,e[1])),e=Xu(t)):(r=RK,e=Zs(e,!1,!1),t=Object(t));for(var i=0,a=e.length;i<a;i++){var o=e[i],u=t[o];r(u,o,t)&&(n[o]=u)}return n}),zK=sr(function(t,e){var n=e[0],r;return Ln(n)?(n=z1(n),e.length>1&&(r=e[1])):(e=qn(Zs(e,!1,!1),String),n=function(i,a){return!wi(e,a)}),D1(t,n,r)});function s7(t,e,n){return Gu.call(t,0,Math.max(0,t.length-(e==null||n?1:e)))}function x0(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[0]:s7(t,t.length-e)}function xs(t,e,n){return Gu.call(t,e==null||n?1:e)}function FK(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[t.length-1]:xs(t,Math.max(0,t.length-e))}function o7(t){return vr(t,Boolean)}function BK(t,e){return Zs(t,e,!1)}const l7=sr(function(t,e){return e=Zs(e,!0,!0),vr(t,function(n){return!wi(e,n)})}),DK=sr(function(t,e){return l7(t,e)});function Ug(t,e,n,r){vS(e)||(r=n,n=e,e=!1),n!=null&&(n=ur(n,r));for(var i=[],a=[],o=0,u=or(t);o<u;o++){var c=t[o],f=n?n(c,o,t):c;e&&!n?((!o||a!==f)&&i.push(c),a=f):n?wi(a,f)||(a.push(f),i.push(c)):wi(i,c)||i.push(c)}return i}const u7=sr(function(t){return Ug(Zs(t,!0,!0))});function c7(t){for(var e=[],n=arguments.length,r=0,i=or(t);r<i;r++){var a=t[r];if(!wi(e,a)){var o;for(o=1;o<n&&wi(arguments[o],a);o++);o===n&&e.push(a)}}return e}function Wg(t){for(var e=t&&B1(t,or).length||0,n=Array(e),r=0;r<e;r++)n[r]=fd(t,r);return n}const UK=sr(Wg);function yf(t,e){for(var n={},r=0,i=or(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function WK(t,e,n){e==null&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),a=0;a<r;a++,t+=n)i[a]=t;return i}function qK(t,e){if(e==null||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(Gu.call(t,r,r+=e));return n}function U1(t,e){return t._chain?Ae(e).chain():e}function f7(t){return lr(zg(t),function(e){var n=Ae[e]=t[e];Ae.prototype[e]=function(){var r=[this._wrapped];return SX.apply(r,arguments),U1(this,n.apply(Ae,r))}}),Ae}lr(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=ld[t];Ae.prototype[t]=function(){var n=this._wrapped;return n!=null&&(e.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0]),U1(this,n)}});lr(["concat","join","slice"],function(t){var e=ld[t];Ae.prototype[t]=function(){var n=this._wrapped;return n!=null&&(n=e.apply(n,arguments)),U1(this,n)}});const HK=Object.freeze(Object.defineProperty({__proto__:null,VERSION:dS,after:SK,all:Dg,allKeys:Xu,any:fh,assign:mu,before:GS,bind:VS,bindAll:vK,chain:gK,chunk:qK,clone:RS,collect:qn,compact:o7,compose:xK,constant:MS,contains:wi,countBy:LK,create:JX,debounce:_K,default:Ae,defaults:P1,defer:yK,delay:YS,detect:Bg,difference:l7,drop:xs,each:lr,escape:rK,every:Dg,extend:ai,extendOwn:mu,filter:vr,find:Bg,findIndex:F1,findKey:XS,findLastIndex:jS,findWhere:$K,first:x0,flatten:BK,foldl:w0,foldr:_w,forEach:lr,functions:zg,get:FS,groupBy:NK,has:cd,head:x0,identity:I1,include:wi,includes:wi,indexBy:PK,indexOf:JS,initial:s7,inject:w0,intersection:c7,invert:IS,invoke:AK,isArguments:A1,isArray:Ks,isArrayBuffer:bS,isBoolean:vS,isDataView:uh,isDate:PX,isElement:NX,isEmpty:qX,isEqual:HX,isError:IX,isFinite:FX,isFunction:Ln,isMap:GX,isMatch:ES,isNaN:SS,isNull:CX,isNumber:mS,isObject:Xs,isRegExp:LX,isSet:KX,isString:ud,isSymbol:yS,isTypedArray:AS,isUndefined:Is,isWeakMap:XX,isWeakSet:jX,iteratee:R1,keys:an,last:FK,lastIndexOf:TK,map:qn,mapObject:DS,matcher:yu,matches:yu,max:B1,memoize:mK,methods:zg,min:n7,mixin:f7,negate:z1,noop:US,now:bu,object:yf,omit:zK,once:MK,pairs:ZX,partial:Ti,partition:IK,pick:D1,pluck:fd,property:O1,propertyOf:eK,random:Fg,range:WK,reduce:w0,reduceRight:_w,reject:e7,rest:xs,restArguments:sr,result:hK,sample:i7,select:vr,shuffle:CK,size:OK,some:fh,sortBy:a7,sortedIndex:ZS,tail:xs,take:x0,tap:tK,template:fK,templateSettings:sK,throttle:bK,times:nK,toArray:r7,toPath:zS,transpose:Wg,unescape:aK,union:u7,uniq:Ug,unique:Ug,uniqueId:pK,unzip:Wg,values:js,where:kK,without:DK,wrap:wK,zip:UK},Symbol.toStringTag,{value:"Module"}));var ww=f7(HK);ww._=ww;const h7=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",VK=h7+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",YK="["+h7+"]["+VK+"]*",GK=new RegExp("^"+YK+"$");function d7(t,e){const n=[];let r=e.exec(t);for(;r;){const i=[];i.startIndex=e.lastIndex-r[0].length;const a=r.length;for(let o=0;o<a;o++)i.push(r[o]);n.push(i),r=e.exec(t)}return n}const W1=function(t){const e=GK.exec(t);return!(e===null||typeof e>"u")};function XK(t){return typeof t<"u"}const KK={allowBooleanAttributes:!1,unpairedTags:[]};function jK(t,e){e=Object.assign({},KK,e);const n=[];let r=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let a=0;a<t.length;a++)if(t[a]==="<"&&t[a+1]==="?"){if(a+=2,a=Sw(t,a),a.err)return a}else if(t[a]==="<"){let o=a;if(a++,t[a]==="!"){a=Mw(t,a);continue}else{let u=!1;t[a]==="/"&&(u=!0,a++);let c="";for(;a<t.length&&t[a]!==">"&&t[a]!==" "&&t[a]!=="	"&&t[a]!==`
`&&t[a]!=="\r";a++)c+=t[a];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),a--),!ij(c)){let p;return c.trim().length===0?p="Invalid space after '<'.":p="Tag '"+c+"' is an invalid name.",tn("InvalidTag",p,Dn(t,a))}const f=JK(t,a);if(f===!1)return tn("InvalidAttr","Attributes for '"+c+"' have open quote.",Dn(t,a));let d=f.value;if(a=f.index,d[d.length-1]==="/"){const p=a-d.length;d=d.substring(0,d.length-1);const g=Tw(d,e);if(g===!0)r=!0;else return tn(g.err.code,g.err.msg,Dn(t,p+g.err.line))}else if(u)if(f.tagClosed){if(d.trim().length>0)return tn("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Dn(t,o));if(n.length===0)return tn("InvalidTag","Closing tag '"+c+"' has not been opened.",Dn(t,o));{const p=n.pop();if(c!==p.tagName){let g=Dn(t,p.tagStartPos);return tn("InvalidTag","Expected closing tag '"+p.tagName+"' (opened in line "+g.line+", col "+g.col+") instead of closing tag '"+c+"'.",Dn(t,o))}n.length==0&&(i=!0)}}else return tn("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Dn(t,a));else{const p=Tw(d,e);if(p!==!0)return tn(p.err.code,p.err.msg,Dn(t,a-d.length+p.err.line));if(i===!0)return tn("InvalidXml","Multiple possible root nodes found.",Dn(t,a));e.unpairedTags.indexOf(c)!==-1||n.push({tagName:c,tagStartPos:o}),r=!0}for(a++;a<t.length;a++)if(t[a]==="<")if(t[a+1]==="!"){a++,a=Mw(t,a);continue}else if(t[a+1]==="?"){if(a=Sw(t,++a),a.err)return a}else break;else if(t[a]==="&"){const p=nj(t,a);if(p==-1)return tn("InvalidChar","char '&' is not expected.",Dn(t,a));a=p}else if(i===!0&&!xw(t[a]))return tn("InvalidXml","Extra text at the end",Dn(t,a));t[a]==="<"&&a--}}else{if(xw(t[a]))continue;return tn("InvalidChar","char '"+t[a]+"' is not expected.",Dn(t,a))}if(r){if(n.length==1)return tn("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",Dn(t,n[0].tagStartPos));if(n.length>0)return tn("InvalidXml","Invalid '"+JSON.stringify(n.map(a=>a.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return tn("InvalidXml","Start tag expected.",1);return!0}function xw(t){return t===" "||t==="	"||t===`
`||t==="\r"}function Sw(t,e){const n=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){const r=t.substr(n,e-n);if(e>5&&r==="xml")return tn("InvalidXml","XML declaration allowed only at the start of the document.",Dn(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function Mw(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let n=1;for(e+=8;e<t.length;e++)if(t[e]==="<")n++;else if(t[e]===">"&&(n--,n===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}const ZK='"',QK="'";function JK(t,e){let n="",r="",i=!1;for(;e<t.length;e++){if(t[e]===ZK||t[e]===QK)r===""?r=t[e]:r!==t[e]||(r="");else if(t[e]===">"&&r===""){i=!0;break}n+=t[e]}return r!==""?!1:{value:n,index:e,tagClosed:i}}const tj=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function Tw(t,e){const n=d7(t,tj),r={};for(let i=0;i<n.length;i++){if(n[i][1].length===0)return tn("InvalidAttr","Attribute '"+n[i][2]+"' has no space in starting.",Ll(n[i]));if(n[i][3]!==void 0&&n[i][4]===void 0)return tn("InvalidAttr","Attribute '"+n[i][2]+"' is without value.",Ll(n[i]));if(n[i][3]===void 0&&!e.allowBooleanAttributes)return tn("InvalidAttr","boolean attribute '"+n[i][2]+"' is not allowed.",Ll(n[i]));const a=n[i][2];if(!rj(a))return tn("InvalidAttr","Attribute '"+a+"' is an invalid name.",Ll(n[i]));if(!r.hasOwnProperty(a))r[a]=1;else return tn("InvalidAttr","Attribute '"+a+"' is repeated.",Ll(n[i]))}return!0}function ej(t,e){let n=/\d/;for(t[e]==="x"&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(n))break}return-1}function nj(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,ej(t,e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(t[e]===";")break;return-1}return e}function tn(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function rj(t){return W1(t)}function ij(t){return W1(t)}function Dn(t,e){const n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function Ll(t){return t.startIndex+t[1].length}const aj={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t},captureMetaData:!1},sj=function(t){return Object.assign({},aj,t)};let hh;typeof Symbol!="function"?hh="@@xmlMetadata":hh=Symbol("XML Node Metadata");class ps{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:n})}addChild(e,n){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child}),n!==void 0&&(this.child[this.child.length-1][hh]={startIndex:n})}static getMetaDataSymbol(){return hh}}function oj(t,e){const n={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let r=1,i=!1,a=!1,o="";for(;e<t.length;e++)if(t[e]==="<"&&!a){if(i&&gs(t,"!ENTITY",e)){e+=7;let u,c;[u,c,e]=lj(t,e+1),c.indexOf("&")===-1&&(n[u]={regx:RegExp(`&${u};`,"g"),val:c})}else if(i&&gs(t,"!ELEMENT",e)){e+=8;const{index:u}=cj(t,e+1);e=u}else if(i&&gs(t,"!ATTLIST",e))e+=8;else if(i&&gs(t,"!NOTATION",e)){e+=9;const{index:u}=uj(t,e+1);e=u}else if(gs(t,"!--",e))a=!0;else throw new Error("Invalid DOCTYPE");r++,o=""}else if(t[e]===">"){if(a?t[e-1]==="-"&&t[e-2]==="-"&&(a=!1,r--):r--,r===0)break}else t[e]==="["?i=!0:o+=t[e];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:e}}const Ia=(t,e)=>{for(;e<t.length&&/\s/.test(t[e]);)e++;return e};function lj(t,e){e=Ia(t,e);let n="";for(;e<t.length&&!/\s/.test(t[e])&&t[e]!=='"'&&t[e]!=="'";)n+=t[e],e++;if(q1(n),e=Ia(t,e),t.substring(e,e+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(t[e]==="%")throw new Error("Parameter entities are not supported");let r="";return[e,r]=bf(t,e,"entity"),e--,[n,r,e]}function uj(t,e){e=Ia(t,e);let n="";for(;e<t.length&&!/\s/.test(t[e]);)n+=t[e],e++;q1(n),e=Ia(t,e);const r=t.substring(e,e+6).toUpperCase();if(r!=="SYSTEM"&&r!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${r}"`);e+=r.length,e=Ia(t,e);let i=null,a=null;if(r==="PUBLIC")[e,i]=bf(t,e,"publicIdentifier"),e=Ia(t,e),(t[e]==='"'||t[e]==="'")&&([e,a]=bf(t,e,"systemIdentifier"));else if(r==="SYSTEM"&&([e,a]=bf(t,e,"systemIdentifier"),!a))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:n,publicIdentifier:i,systemIdentifier:a,index:--e}}function bf(t,e,n){let r="";const i=t[e];if(i!=='"'&&i!=="'")throw new Error(`Expected quoted string, found "${i}"`);for(e++;e<t.length&&t[e]!==i;)r+=t[e],e++;if(t[e]!==i)throw new Error(`Unterminated ${n} value`);return e++,[e,r]}function cj(t,e){e=Ia(t,e);let n="";for(;e<t.length&&!/\s/.test(t[e]);)n+=t[e],e++;if(!q1(n))throw new Error(`Invalid element name: "${n}"`);e=Ia(t,e);let r="";if(t[e]==="E"&&gs(t,"MPTY",e))e+=4;else if(t[e]==="A"&&gs(t,"NY",e))e+=2;else if(t[e]==="("){for(e++;e<t.length&&t[e]!==")";)r+=t[e],e++;if(t[e]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${t[e]}"`);return{elementName:n,contentModel:r.trim(),index:e}}function gs(t,e,n){for(let r=0;r<e.length;r++)if(e[r]!==t[n+r+1])return!1;return!0}function q1(t){if(W1(t))return t;throw new Error(`Invalid entity name ${t}`)}const fj=/^[-+]?0x[a-fA-F0-9]+$/,hj=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,dj={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function pj(t,e={}){if(e=Object.assign({},dj,e),!t||typeof t!="string")return t;let n=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(n))return t;if(t==="0")return 0;if(e.hex&&fj.test(n))return yj(n,16);if(n.search(/.+[eE].+/)!==-1)return vj(t,n,e);{const r=hj.exec(n);if(r){const i=r[1]||"",a=r[2];let o=mj(r[3]);const u=i?t[a.length+1]===".":t[a.length]===".";if(!e.leadingZeros&&(a.length>1||a.length===1&&!u))return t;{const c=Number(n),f=String(c);if(c===0)return c;if(f.search(/[eE]/)!==-1)return e.eNotation?c:t;if(n.indexOf(".")!==-1)return f==="0"||f===o||f===`${i}${o}`?c:t;let d=a?o:n;return a?d===f||i+d===f?c:t:d===f||d===i+f?c:t}}else return t}}const gj=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function vj(t,e,n){if(!n.eNotation)return t;const r=e.match(gj);if(r){let i=r[1]||"";const a=r[3].indexOf("e")===-1?"E":"e",o=r[2],u=i?t[o.length+1]===a:t[o.length]===a;return o.length>1&&u?t:o.length===1&&(r[3].startsWith(`.${a}`)||r[3][0]===a)?Number(e):n.leadingZeros&&!u?(e=(r[1]||"")+r[3],Number(e)):t}else return t}function mj(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substring(0,t.length-1))),t}function yj(t,e){if(parseInt)return parseInt(t,e);if(Number.parseInt)return Number.parseInt(t,e);if(window&&window.parseInt)return window.parseInt(t,e);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}function bj(t){return typeof t=="function"?t:Array.isArray(t)?e=>{for(const n of t)if(typeof n=="string"&&e===n||n instanceof RegExp&&n.test(e))return!0}:()=>!1}class _j{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,r)=>String.fromCodePoint(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,r)=>String.fromCodePoint(Number.parseInt(r,16))}},this.addExternalEntities=wj,this.parseXml=$j,this.parseTextData=xj,this.resolveNameSpace=Sj,this.buildAttributesMap=Tj,this.isItStopNode=Cj,this.replaceEntitiesValue=kj,this.readStopNodeData=Pj,this.saveTextToParentTag=Ej,this.addChild=Aj,this.ignoreAttributesFn=bj(this.options.ignoreAttributes)}}function wj(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function xj(t,e,n,r,i,a,o){if(t!==void 0&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){o||(t=this.replaceEntitiesValue(t));const u=this.options.tagValueProcessor(e,t,n,i,a);return u==null?t:typeof u!=typeof t||u!==t?u:this.options.trimValues?Hg(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?Hg(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function Sj(t){if(this.options.removeNSPrefix){const e=t.split(":"),n=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=n+e[1])}return t}const Mj=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function Tj(t,e,n){if(this.options.ignoreAttributes!==!0&&typeof t=="string"){const r=d7(t,Mj),i=r.length,a={};for(let o=0;o<i;o++){const u=this.resolveNameSpace(r[o][1]);if(this.ignoreAttributesFn(u,e))continue;let c=r[o][4],f=this.options.attributeNamePrefix+u;if(u.length)if(this.options.transformAttributeName&&(f=this.options.transformAttributeName(f)),f==="__proto__"&&(f="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);const d=this.options.attributeValueProcessor(u,c,e);d==null?a[f]=c:typeof d!=typeof c||d!==c?a[f]=d:a[f]=Hg(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(a[f]=!0)}if(!Object.keys(a).length)return;if(this.options.attributesGroupName){const o={};return o[this.options.attributesGroupName]=a,o}return a}}const $j=function(t){t=t.replace(/\r\n?/g,`
`);const e=new ps("!xml");let n=e,r="",i="";for(let a=0;a<t.length;a++)if(t[a]==="<")if(t[a+1]==="/"){const u=ms(t,">",a,"Closing Tag is not closed.");let c=t.substring(a+2,u).trim();if(this.options.removeNSPrefix){const p=c.indexOf(":");p!==-1&&(c=c.substr(p+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&(r=this.saveTextToParentTag(r,n,i));const f=i.substring(i.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let d=0;f&&this.options.unpairedTags.indexOf(f)!==-1?(d=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=i.lastIndexOf("."),i=i.substring(0,d),n=this.tagsNodeStack.pop(),r="",a=u}else if(t[a+1]==="?"){let u=qg(t,a,!1,"?>");if(!u)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),!(this.options.ignoreDeclaration&&u.tagName==="?xml"||this.options.ignorePiTags)){const c=new ps(u.tagName);c.add(this.options.textNodeName,""),u.tagName!==u.tagExp&&u.attrExpPresent&&(c[":@"]=this.buildAttributesMap(u.tagExp,i,u.tagName)),this.addChild(n,c,i,a)}a=u.closeIndex+1}else if(t.substr(a+1,3)==="!--"){const u=ms(t,"-->",a+4,"Comment is not closed.");if(this.options.commentPropName){const c=t.substring(a+4,u-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}a=u}else if(t.substr(a+1,2)==="!D"){const u=oj(t,a);this.docTypeEntities=u.entities,a=u.i}else if(t.substr(a+1,2)==="!["){const u=ms(t,"]]>",a,"CDATA is not closed.")-2,c=t.substring(a+9,u);r=this.saveTextToParentTag(r,n,i);let f=this.parseTextData(c,n.tagname,i,!0,!1,!0,!0);f==null&&(f=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):n.add(this.options.textNodeName,f),a=u+2}else{let u=qg(t,a,this.options.removeNSPrefix),c=u.tagName;const f=u.rawTagName;let d=u.tagExp,p=u.attrExpPresent,g=u.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,i,!1));const y=n;y&&this.options.unpairedTags.indexOf(y.tagname)!==-1&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),c!==e.tagname&&(i+=i?"."+c:c);const _=a;if(this.isItStopNode(this.options.stopNodes,i,c)){let b="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),d=c):d=d.substr(0,d.length-1),a=u.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)a=u.closeIndex;else{const x=this.readStopNodeData(t,f,g+1);if(!x)throw new Error(`Unexpected end of ${f}`);a=x.i,b=x.tagContent}const w=new ps(c);c!==d&&p&&(w[":@"]=this.buildAttributesMap(d,i,c)),b&&(b=this.parseTextData(b,c,i,!0,p,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),w.add(this.options.textNodeName,b),this.addChild(n,w,i,_)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));const b=new ps(c);c!==d&&p&&(b[":@"]=this.buildAttributesMap(d,i,c)),this.addChild(n,b,i,_),i=i.substr(0,i.lastIndexOf("."))}else{const b=new ps(c);this.tagsNodeStack.push(n),c!==d&&p&&(b[":@"]=this.buildAttributesMap(d,i,c)),this.addChild(n,b,i,_),n=b}r="",a=g}}else r+=t[a];return e.child};function Aj(t,e,n,r){this.options.captureMetaData||(r=void 0);const i=this.options.updateTag(e.tagname,n,e[":@"]);i===!1||(typeof i=="string"&&(e.tagname=i),t.addChild(e,r))}const kj=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){const n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function Ej(t,e,n,r){return t&&(r===void 0&&(r=e.child.length===0),t=this.parseTextData(t,e.tagname,n,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,r),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function Cj(t,e,n){const r="*."+n;for(const i in t){const a=t[i];if(r===a||e===a)return!0}return!1}function Nj(t,e,n=">"){let r,i="";for(let a=e;a<t.length;a++){let o=t[a];if(r)o===r&&(r="");else if(o==='"'||o==="'")r=o;else if(o===n[0])if(n[1]){if(t[a+1]===n[1])return{data:i,index:a}}else return{data:i,index:a};else o==="	"&&(o=" ");i+=o}}function ms(t,e,n,r){const i=t.indexOf(e,n);if(i===-1)throw new Error(r);return i+e.length-1}function qg(t,e,n,r=">"){const i=Nj(t,e+1,r);if(!i)return;let a=i.data;const o=i.index,u=a.search(/\s/);let c=a,f=!0;u!==-1&&(c=a.substring(0,u),a=a.substring(u+1).trimStart());const d=c;if(n){const p=c.indexOf(":");p!==-1&&(c=c.substr(p+1),f=c!==i.data.substr(p+1))}return{tagName:c,tagExp:a,closeIndex:o,attrExpPresent:f,rawTagName:d}}function Pj(t,e,n){const r=n;let i=1;for(;n<t.length;n++)if(t[n]==="<")if(t[n+1]==="/"){const a=ms(t,">",n,`${e} is not closed`);if(t.substring(n+2,a).trim()===e&&(i--,i===0))return{tagContent:t.substring(r,n),i:a};n=a}else if(t[n+1]==="?")n=ms(t,"?>",n+1,"StopNode is not closed.");else if(t.substr(n+1,3)==="!--")n=ms(t,"-->",n+3,"StopNode is not closed.");else if(t.substr(n+1,2)==="![")n=ms(t,"]]>",n,"StopNode is not closed.")-2;else{const a=qg(t,n,">");a&&((a&&a.tagName)===e&&a.tagExp[a.tagExp.length-1]!=="/"&&i++,n=a.closeIndex)}}function Hg(t,e,n){if(e&&typeof t=="string"){const r=t.trim();return r==="true"?!0:r==="false"?!1:pj(t,n)}else return XK(t)?t:""}const S0=ps.getMetaDataSymbol();function Lj(t,e){return p7(t,e)}function p7(t,e,n){let r;const i={};for(let a=0;a<t.length;a++){const o=t[a],u=Ij(o);let c="";if(n===void 0?c=u:c=n+"."+u,u===e.textNodeName)r===void 0?r=o[u]:r+=""+o[u];else{if(u===void 0)continue;if(o[u]){let f=p7(o[u],e,c);const d=Rj(f,e);o[S0]!==void 0&&(f[S0]=o[S0]),o[":@"]?Oj(f,o[":@"],c,e):Object.keys(f).length===1&&f[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?f=f[e.textNodeName]:Object.keys(f).length===0&&(e.alwaysCreateTextNode?f[e.textNodeName]="":f=""),i[u]!==void 0&&i.hasOwnProperty(u)?(Array.isArray(i[u])||(i[u]=[i[u]]),i[u].push(f)):e.isArray(u,c,d)?i[u]=[f]:i[u]=f}}}return typeof r=="string"?r.length>0&&(i[e.textNodeName]=r):r!==void 0&&(i[e.textNodeName]=r),i}function Ij(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];if(r!==":@")return r}}function Oj(t,e,n,r){if(e){const i=Object.keys(e),a=i.length;for(let o=0;o<a;o++){const u=i[o];r.isArray(u,n+"."+u,!0,!0)?t[u]=[e[u]]:t[u]=e[u]}}}function Rj(t,e){const{textNodeName:n}=e,r=Object.keys(t).length;return!!(r===0||r===1&&(t[n]||typeof t[n]=="boolean"||t[n]===0))}class g7{constructor(e){this.externalEntities={},this.options=sj(e)}parse(e,n){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});const a=jK(e,n);if(a!==!0)throw Error(`${a.err.msg}:${a.err.line}:${a.err.col}`)}const r=new _j(this.options);r.addExternalEntities(this.externalEntities);const i=r.parseXml(e);return this.options.preserveOrder||i===void 0?i:Lj(i,this.options)}addEntity(e,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=n}static getMetaDataSymbol(){return ps.getMetaDataSymbol()}}var zj=function(t,e){var i=new g7({ignoreAttributes:!1,attributeNamePrefix:"",parseAttributeValue:!0}).parse(t)["nex:nexml"].trees.tree.map(function(a){var o=a.node.map(p=>p),u=o.reduce(function(p,g){return g.edges=[],g.name=g.id,p[g.id]=g,p},{}),c=o.filter(p=>p.root),f=c>0?c[0].id:o[0].id;u[f].name="root",a.edge.map(p=>p).forEach(function(p){u[p.source].edges.push(p)});function d(p,g){if(p.edges){var y=fd(p.edges,"target");p.children=js(D1(u,y)),p.children.forEach(function(_,b){_.attribute=p.edges[b].length||""}),p.children.forEach(d),p.annotation=""}}return d(u[f]),u[f]});return i};function Fj(t,e,n,r){let i=this.nodes.descendants();if(t.parent&&i.indexOf(t)>=0){let o=t.parent.children.indexOf(t),u={name:n,parent:t.parent,attribute:r?r[2]:null,original_child_order:t.original_child_order},c={name:e,parent:u,attribute:r?r[1]:null,original_child_order:2};u.children=[t,c],t.parent.children[o]=u,t.parent=u,t.attribute=r?r[0]:null,t.original_child_order=1}return this}function Bj(t,e){return t.children?t.children.push(e):t.children=[e],t}function Dj(t,e){return{data:{name:t,attribute:e?e[1]:null},parent:""}}function Uj(t){let e=this.nodes.descendants();if(typeof t!="number")return this.deleteANode(e.indexOf(t));if(t>0&&t<e.length){let n=e[t];if(n.parent){let r=n.parent.children.indexOf(n);r>=0&&(e.splice(t,1),n.children&&n.children.forEach(function(i){i.original_child_order=n.parent.children.length,n.parent.children.push(i),i.parent=n.parent}),n.parent.children.length>2?n.parent.children.splice(r,1):n.parent.parent?(n.parent.parent.children[n.parent.parent.children.indexOf(n.parent)]=n.parent.children[1-r],n.parent.children[1-r].parent=n.parent.parent,e.splice(e.indexOf(n.parent),1)):(e.splice(0,1),e.parent=null,delete e.data.attribute,delete e.data.annotation,delete e.data.original_child_order,e.name="root",e.data.name="root"))}}return this}function Wj(){return vr(this.nodes.descendants(),t=>!cd(t,"children"))}function qj(){return vr(this.nodes.descendants(),t=>cd(t,"children"))}function Hj(){return this.nodes}function Vj(){return this.nodes}function Yj(t){return vr(this.nodes.descendants(),e=>e.data.name==t)[0]}function Gj(t){lr(this.nodes.descendants(),function(e){e.data&&e.data.name in t&&(e.annotations=t[e.data.name])})}function He(t){return!cd(t,"children")}function Xj(t,e){return this.nodes.each(function(n){t in n&&(e&&(n[e]=n[t]),delete n[t])}),this}function Kj(t){t||this.nodes.each(e=>{He(e)||(e[this.selection_attribute_name]=!1,e.data.traits||(e.data.traits={}),e.data.traits[this.selection_attribute_name]=e[this.selection_attribute_name])})}function v7(t,e,n){let r=[];function i(a){He(a)?e&&a!=t&&r.push(a):(n&&a!=t&&r.push(a),a.children.forEach(i))}return i(t),r}const jj=Object.freeze(Object.defineProperty({__proto__:null,addChild:Bj,assignAttributes:Gj,clearInternalNodes:Kj,createNode:Dj,deleteANode:Uj,getInternals:qj,getNodeByName:Yj,getNodes:Vj,getRootNode:Hj,getTips:Wj,graftANode:Fj,isLeafNode:He,selectAllDescendants:v7,updateKeyName:Xj},Symbol.toStringTag,{value:"Module"}));function _u(t,e={}){const n=/^-?\d+(\.\d+)?$/;let r=e.left_delimiter||"{",i=e.right_delimiter||"}",a=[];function o(){let A={name:null},$=a[a.length-1];"children"in $||($.children=[]),a.push(A),$.children.push(a[a.length-1]),a[a.length-1].original_child_order=$.children.length}function u(){let A=a.pop();A.name=d,"children"in A?A.bootstrap_values=d:A.name=d,A.attribute=p,r=="["&&g.includes("&&NHX")?g.split(":").slice(1).forEach($=>{const[P,L]=$.split("=");A[P]=n.test(L)?+L:L}):A.annotation=g,d="",p="",g=""}function c(A){return{json:null,error:"Unexpected '"+t[A]+"' in '"+t.substring(A-20,A+1)+"[ERROR HERE]"+t.substring(A+1,A+20)+"'"}}let f=0,d="",p="",g="",y=null,_={"'":1,'"':1},b={name:"root"};a.push(b);for(var w=/\s/,x=0;x<t.length;x++)try{var M=t[x];switch(f){case 0:{M=="("&&(o(),f=1);break}case 1:case 3:{if(M==":")f=3;else if(M==","||M==")")try{u(),f=1,M==","&&o()}catch{return c(x)}else if(M=="("){if(d.length>0)return c(x);o()}else if(M in _){if(f==1&&d.length===0&&p.length===0&&g.length===0){f=2,y=M;continue}return c(x)}else if(M==r){if(g.length)return c(x);f=4}else if(f==3)p+=M;else{if(w.test(M))continue;if(M==";"){x=t.length;break}d+=M}break}case 2:{if(M==y){if(x<t.length-1&&t[x+1]==y){x++,d+=y;continue}y=0,f=1;continue}else d+=M;break}case 4:{if(M==i)f=3;else{if(M==r)return c(x);g+=M}break}}}catch{return c(x)}return a.length!=1?c(t.length-1):{json:b,error:null}}function Zj(t,e){let n=this;t||(t=a=>"");function r(a){if(a.notshown)return;if(He(a)||(i.push("("),a.children.forEach(function(u,c){c&&i.push(","),r(u)}),i.push(")")),a.data.name!=="root"){const u=a.data.name.replaceAll("'","''");/\W/.test(u)?i.push("'"+u+"'"):i.push(u)}i.push(t(a));let o=n.branch_length_accessor(a);o!==void 0&&i.push(":"+o)}let i=[];return t=t||"",r(e||this.nodes),i.join("")+";"}function Qj(t){let e=t,n=e.toUpperCase().indexOf("BEGIN DATA;"),r=e.slice(n);if(r.length<2)return"";n=r.toUpperCase().indexOf("END;");let i=r.slice(0,n);r=qn(i.split(";"),c=>c.trim());let a=vr(r,c=>c.toUpperCase().startsWith("DIMENSION"));a=a[0].split(" "),a=yf(qn(xs(a),c=>c.split("=")));let o=vr(r,c=>c.toUpperCase().startsWith("FORMAT"));o=o[0].split(" "),o=yf(qn(xs(o),c=>c.split("="))),o.symbols=e7(o.symbols.split(""),c=>c=='"');let u=vr(r,c=>c.toUpperCase().startsWith("MATRIX"));return u=u[0].split(`
`),u=yf(qn(xs(u),c=>o7(c.split(" ")))),u=DS(u,(c,f)=>c=="?"?o.symbols:Array(c)),{dimensions:a,format:o,matrix:u}}function Jj(t,e,n){lr(t.getTips(),r=>{r.data.test=n.matrix[r.data.name]})}function m7(t){let e=t,n=e.toUpperCase().indexOf("BEGIN TREES;"),r=e.slice(n);if(r.length<2)return"";n=r.toUpperCase().indexOf("END;");let a=r.slice(0,n).split(`
`);return a=vr(a,o=>o.trim().toUpperCase().startsWith("TREE")),_u(a[0])}const tZ=Object.freeze(Object.defineProperty({__proto__:null,default:m7,loadAnnotations:Jj,parseAnnotations:Qj},Symbol.toStringTag,{value:"Module"}));function Vg(t){var e={};if(t.nodeType==1){if(t.attributes.length>0){e["@attributes"]={};for(var n=0;n<t.attributes.length;n++){var r=t.attributes.item(n);e["@attributes"][r.nodeName]=r.nodeValue}}}else t.nodeType==3&&(e=t.nodeValue);if(t.hasChildNodes()&&t.childNodes.length===1&&t.childNodes[0].nodeType===3)e=t.childNodes[0].nodeValue;else if(t.hasChildNodes())for(var i=0;i<t.childNodes.length;i++){var a=t.childNodes.item(i),o=a.nodeName;if(typeof e[o]>"u")e[o]=Vg(a);else{if(typeof e[o].push>"u"){var u=e[o];e[o]=[],e[o].push(u)}e[o].push(Vg(a))}}return e}var y7=function(t,e){function n(a,o){a.clade&&(Array.isArray(a.clade)||(a.clade=[a.clade]),a.clade.forEach(n),a.children=a.clade,delete a.clade),a.annotation=1,a.attribute="0.01",a.branch_length&&(a.attribute=a.branch_length),a.taxonomy&&(a.name=a.taxonomy.scientific_name),a.annotation=""}var r;typeof t=="string"&&(DOMParser?t=new DOMParser().parseFromString(t,"text/xml"):t=new g7().parse(t)),t=Vg(t);var i=t.phyloxml.phylogeny;return Array.isArray(i)&&(i=i[0],console.warn("PhyloXML files with multiple phylogenies are not currently supported. Only the first phylogeny will be loaded.")),r=i.clade,r.name="root",n(r),{json:r,error:null}};function eZ(t,e){e.left_delimiter="[",e.right_delimiter="]";const n=_u(t,e);function r(i){if(i.annotation){i.beast={};const o=i.annotation.split(/=|,|{|}/).filter(u=>u);for(var a=0;a<o.length;a+=2){let u=o[a].replace(/&|%/g,"");/[a-df-zA-DF-Z]+/.test(o[a+2])?i.beast[u]=+o[a+1]:(i.beast[u]=[+o[a+1],+o[a+2]],a++)}}i.annotation=void 0,i.children&&i.children.forEach(r)}return r(n.json),n}var M0={nexml:zj,phyloxml:y7,nexus:m7,nwk:_u,nhx:_u,beast:eZ};function nZ(){let e=this.getTips(),n=qn(e,r=>({name:r.data.name,length:parseFloat(r.data.attribute)}));return n=a7(n,r=>-r.length),n}function rZ(t,e){function n(i,a){if(a.mp=[[0,0],[!1,!1]],He(a))a.mp[1][0]=a.mp[1][1]=a[i]||!1,a.mp[0][0]=a.mp[1][0]?1:0,a.mp[0][1]=1-a.mp[0][0];else{a.children.forEach(r);var o=a.children.reduce(function(c,f){return f.mp[0][0]+c},0),u=a.children.reduce(function(c,f){return f.mp[0][1]+c},0);a[i]?(a.mp[0][0]=u+1,a.mp[1][0]=!0,a.mp[0][1]=u,a.mp[1][1]=!0):(o<u+1?(a.mp[0][0]=o,a.mp[1][0]=!1):(a.mp[0][0]=u+1,a.mp[1][0]=!0),u<o+1?(a.mp[0][1]=u,a.mp[1][1]=!0):(a.mp[0][1]=o+1,a.mp[1][1]=!1))}}const r=Ti(n,e);r(this.nodes),this.nodes.each(i=>{i.parent?i.mp=i.mp[1][i.parent.mp?1:0]:i.mp=i.mp[1][i.mp[0][0]<i.mp[0][1]?0:1]}),this.display.modifySelection((i,a)=>He(i.target)?i.target[e]:i.target.mp)}var Wl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var iZ=Wl.exports,$w;function aZ(){return $w||($w=1,function(t,e){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",u="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",p=1,g=2,y=4,_=1,b=2,w=1,x=2,M=4,A=8,$=16,P=32,L=64,F=128,V=256,K=512,W=30,R="...",et=800,j=16,C=1,z=2,U=3,B=1/0,at=9007199254740991,Z=17976931348623157e292,I=NaN,E=4294967295,H=E-1,Y=E>>>1,J=[["ary",F],["bind",w],["bindKey",x],["curry",A],["curryRight",$],["flip",K],["partial",P],["partialRight",L],["rearg",V]],ht="[object Arguments]",nt="[object Array]",rt="[object AsyncFunction]",lt="[object Boolean]",tt="[object Date]",ot="[object DOMException]",_t="[object Error]",Q="[object Function]",At="[object GeneratorFunction]",vt="[object Map]",St="[object Number]",zt="[object Null]",mt="[object Object]",Nt="[object Promise]",oe="[object Proxy]",ae="[object RegExp]",qt="[object Set]",Vt="[object String]",Se="[object Symbol]",Fe="[object Undefined]",_e="[object WeakMap]",jt="[object WeakSet]",Zt="[object ArrayBuffer]",Qt="[object DataView]",pe="[object Float32Array]",ft="[object Float64Array]",wt="[object Int8Array]",Tt="[object Int16Array]",Pt="[object Int32Array]",Et="[object Uint8Array]",Ot="[object Uint8ClampedArray]",kt="[object Uint16Array]",Lt="[object Uint32Array]",It=/\b__p \+= '';/g,Dt=/\b(__p \+=) '' \+/g,ye=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Jt=/&(?:amp|lt|gt|quot|#39);/g,ge=/[&<>"']/g,Xt=RegExp(Jt.source),te=RegExp(ge.source),ee=/<%-([\s\S]+?)%>/g,ve=/<%([\s\S]+?)%>/g,Te=/<%=([\s\S]+?)%>/g,sn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,si=/^\w*$/,oi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ii=/[\\^$.*+?()[\]{}|]/g,sl=RegExp(Ii.source),ma=/^\s+/,xr=/\s/,Vn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Sr=/\{\n\/\* \[wrapped with (.+)\] \*/,Js=/,? & /,Zu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ya=/[()=,{}\[\]\/\s]/,ol=/\\(\\)?/g,ba=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,to=/\w*$/,pd=/^[-+]0x[0-9a-f]+$/i,Ur=/^0b[01]+$/i,eo=/^\[object .+?Constructor\]$/,ns=/^0o[0-7]+$/i,j1=/^(?:0|[1-9]\d*)$/,Qu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,no=/($^)/,gd=/['\n\r\u2028\u2029\\]/g,_a="\\ud800-\\udfff",ro="\\u0300-\\u036f",vd="\\ufe20-\\ufe2f",E7="\\u20d0-\\u20ff",Z1=ro+vd+E7,Q1="\\u2700-\\u27bf",J1="a-z\\xdf-\\xf6\\xf8-\\xff",C7="\\xac\\xb1\\xd7\\xf7",N7="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",P7="\\u2000-\\u206f",L7=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tm="A-Z\\xc0-\\xd6\\xd8-\\xde",em="\\ufe0e\\ufe0f",nm=C7+N7+P7+L7,md="[']",I7="["+_a+"]",rm="["+nm+"]",Ju="["+Z1+"]",im="\\d+",O7="["+Q1+"]",am="["+J1+"]",sm="[^"+_a+nm+im+Q1+J1+tm+"]",yd="\\ud83c[\\udffb-\\udfff]",R7="(?:"+Ju+"|"+yd+")",om="[^"+_a+"]",bd="(?:\\ud83c[\\udde6-\\uddff]){2}",_d="[\\ud800-\\udbff][\\udc00-\\udfff]",io="["+tm+"]",lm="\\u200d",um="(?:"+am+"|"+sm+")",z7="(?:"+io+"|"+sm+")",cm="(?:"+md+"(?:d|ll|m|re|s|t|ve))?",fm="(?:"+md+"(?:D|LL|M|RE|S|T|VE))?",hm=R7+"?",dm="["+em+"]?",F7="(?:"+lm+"(?:"+[om,bd,_d].join("|")+")"+dm+hm+")*",B7="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",D7="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",pm=dm+hm+F7,U7="(?:"+[O7,bd,_d].join("|")+")"+pm,W7="(?:"+[om+Ju+"?",Ju,bd,_d,I7].join("|")+")",q7=RegExp(md,"g"),H7=RegExp(Ju,"g"),wd=RegExp(yd+"(?="+yd+")|"+W7+pm,"g"),V7=RegExp([io+"?"+am+"+"+cm+"(?="+[rm,io,"$"].join("|")+")",z7+"+"+fm+"(?="+[rm,io+um,"$"].join("|")+")",io+"?"+um+"+"+cm,io+"+"+fm,D7,B7,im,U7].join("|"),"g"),Y7=RegExp("["+lm+_a+Z1+em+"]"),G7=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,X7=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],K7=-1,Ue={};Ue[pe]=Ue[ft]=Ue[wt]=Ue[Tt]=Ue[Pt]=Ue[Et]=Ue[Ot]=Ue[kt]=Ue[Lt]=!0,Ue[ht]=Ue[nt]=Ue[Zt]=Ue[lt]=Ue[Qt]=Ue[tt]=Ue[_t]=Ue[Q]=Ue[vt]=Ue[St]=Ue[mt]=Ue[ae]=Ue[qt]=Ue[Vt]=Ue[_e]=!1;var Be={};Be[ht]=Be[nt]=Be[Zt]=Be[Qt]=Be[lt]=Be[tt]=Be[pe]=Be[ft]=Be[wt]=Be[Tt]=Be[Pt]=Be[vt]=Be[St]=Be[mt]=Be[ae]=Be[qt]=Be[Vt]=Be[Se]=Be[Et]=Be[Ot]=Be[kt]=Be[Lt]=!0,Be[_t]=Be[Q]=Be[_e]=!1;var j7={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Z7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Q7={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},J7={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tM=parseFloat,eM=parseInt,gm=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,nM=typeof self=="object"&&self&&self.Object===Object&&self,wn=gm||nM||Function("return this")(),xd=e&&!e.nodeType&&e,rs=xd&&!0&&t&&!t.nodeType&&t,vm=rs&&rs.exports===xd,Sd=vm&&gm.process,Mr=function(){try{var G=rs&&rs.require&&rs.require("util").types;return G||Sd&&Sd.binding&&Sd.binding("util")}catch{}}(),mm=Mr&&Mr.isArrayBuffer,ym=Mr&&Mr.isDate,bm=Mr&&Mr.isMap,_m=Mr&&Mr.isRegExp,wm=Mr&&Mr.isSet,xm=Mr&&Mr.isTypedArray;function cr(G,ct,st){switch(st.length){case 0:return G.call(ct);case 1:return G.call(ct,st[0]);case 2:return G.call(ct,st[0],st[1]);case 3:return G.call(ct,st[0],st[1],st[2])}return G.apply(ct,st)}function rM(G,ct,st,Ct){for(var Kt=-1,Me=G==null?0:G.length;++Kt<Me;){var on=G[Kt];ct(Ct,on,st(on),G)}return Ct}function Tr(G,ct){for(var st=-1,Ct=G==null?0:G.length;++st<Ct&&ct(G[st],st,G)!==!1;);return G}function iM(G,ct){for(var st=G==null?0:G.length;st--&&ct(G[st],st,G)!==!1;);return G}function Sm(G,ct){for(var st=-1,Ct=G==null?0:G.length;++st<Ct;)if(!ct(G[st],st,G))return!1;return!0}function wa(G,ct){for(var st=-1,Ct=G==null?0:G.length,Kt=0,Me=[];++st<Ct;){var on=G[st];ct(on,st,G)&&(Me[Kt++]=on)}return Me}function tc(G,ct){var st=G==null?0:G.length;return!!st&&ao(G,ct,0)>-1}function Md(G,ct,st){for(var Ct=-1,Kt=G==null?0:G.length;++Ct<Kt;)if(st(ct,G[Ct]))return!0;return!1}function qe(G,ct){for(var st=-1,Ct=G==null?0:G.length,Kt=Array(Ct);++st<Ct;)Kt[st]=ct(G[st],st,G);return Kt}function xa(G,ct){for(var st=-1,Ct=ct.length,Kt=G.length;++st<Ct;)G[Kt+st]=ct[st];return G}function Td(G,ct,st,Ct){var Kt=-1,Me=G==null?0:G.length;for(Ct&&Me&&(st=G[++Kt]);++Kt<Me;)st=ct(st,G[Kt],Kt,G);return st}function aM(G,ct,st,Ct){var Kt=G==null?0:G.length;for(Ct&&Kt&&(st=G[--Kt]);Kt--;)st=ct(st,G[Kt],Kt,G);return st}function $d(G,ct){for(var st=-1,Ct=G==null?0:G.length;++st<Ct;)if(ct(G[st],st,G))return!0;return!1}var sM=Ad("length");function oM(G){return G.split("")}function lM(G){return G.match(Zu)||[]}function Mm(G,ct,st){var Ct;return st(G,function(Kt,Me,on){if(ct(Kt,Me,on))return Ct=Me,!1}),Ct}function ec(G,ct,st,Ct){for(var Kt=G.length,Me=st+(Ct?1:-1);Ct?Me--:++Me<Kt;)if(ct(G[Me],Me,G))return Me;return-1}function ao(G,ct,st){return ct===ct?_M(G,ct,st):ec(G,Tm,st)}function uM(G,ct,st,Ct){for(var Kt=st-1,Me=G.length;++Kt<Me;)if(Ct(G[Kt],ct))return Kt;return-1}function Tm(G){return G!==G}function $m(G,ct){var st=G==null?0:G.length;return st?Ed(G,ct)/st:I}function Ad(G){return function(ct){return ct==null?n:ct[G]}}function kd(G){return function(ct){return G==null?n:G[ct]}}function Am(G,ct,st,Ct,Kt){return Kt(G,function(Me,on,Le){st=Ct?(Ct=!1,Me):ct(st,Me,on,Le)}),st}function cM(G,ct){var st=G.length;for(G.sort(ct);st--;)G[st]=G[st].value;return G}function Ed(G,ct){for(var st,Ct=-1,Kt=G.length;++Ct<Kt;){var Me=ct(G[Ct]);Me!==n&&(st=st===n?Me:st+Me)}return st}function Cd(G,ct){for(var st=-1,Ct=Array(G);++st<G;)Ct[st]=ct(st);return Ct}function fM(G,ct){return qe(ct,function(st){return[st,G[st]]})}function km(G){return G&&G.slice(0,Pm(G)+1).replace(ma,"")}function fr(G){return function(ct){return G(ct)}}function Nd(G,ct){return qe(ct,function(st){return G[st]})}function ll(G,ct){return G.has(ct)}function Em(G,ct){for(var st=-1,Ct=G.length;++st<Ct&&ao(ct,G[st],0)>-1;);return st}function Cm(G,ct){for(var st=G.length;st--&&ao(ct,G[st],0)>-1;);return st}function hM(G,ct){for(var st=G.length,Ct=0;st--;)G[st]===ct&&++Ct;return Ct}var dM=kd(j7),pM=kd(Z7);function gM(G){return"\\"+J7[G]}function vM(G,ct){return G==null?n:G[ct]}function so(G){return Y7.test(G)}function mM(G){return G7.test(G)}function yM(G){for(var ct,st=[];!(ct=G.next()).done;)st.push(ct.value);return st}function Pd(G){var ct=-1,st=Array(G.size);return G.forEach(function(Ct,Kt){st[++ct]=[Kt,Ct]}),st}function Nm(G,ct){return function(st){return G(ct(st))}}function Sa(G,ct){for(var st=-1,Ct=G.length,Kt=0,Me=[];++st<Ct;){var on=G[st];(on===ct||on===d)&&(G[st]=d,Me[Kt++]=st)}return Me}function nc(G){var ct=-1,st=Array(G.size);return G.forEach(function(Ct){st[++ct]=Ct}),st}function bM(G){var ct=-1,st=Array(G.size);return G.forEach(function(Ct){st[++ct]=[Ct,Ct]}),st}function _M(G,ct,st){for(var Ct=st-1,Kt=G.length;++Ct<Kt;)if(G[Ct]===ct)return Ct;return-1}function wM(G,ct,st){for(var Ct=st+1;Ct--;)if(G[Ct]===ct)return Ct;return Ct}function oo(G){return so(G)?SM(G):sM(G)}function Wr(G){return so(G)?MM(G):oM(G)}function Pm(G){for(var ct=G.length;ct--&&xr.test(G.charAt(ct)););return ct}var xM=kd(Q7);function SM(G){for(var ct=wd.lastIndex=0;wd.test(G);)++ct;return ct}function MM(G){return G.match(wd)||[]}function TM(G){return G.match(V7)||[]}var $M=function G(ct){ct=ct==null?wn:lo.defaults(wn.Object(),ct,lo.pick(wn,X7));var st=ct.Array,Ct=ct.Date,Kt=ct.Error,Me=ct.Function,on=ct.Math,Le=ct.Object,Ld=ct.RegExp,AM=ct.String,$r=ct.TypeError,rc=st.prototype,kM=Me.prototype,uo=Le.prototype,ic=ct["__core-js_shared__"],ac=kM.toString,ke=uo.hasOwnProperty,EM=0,Lm=function(){var s=/[^.]+$/.exec(ic&&ic.keys&&ic.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),sc=uo.toString,CM=ac.call(Le),NM=wn._,PM=Ld("^"+ac.call(ke).replace(Ii,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oc=vm?ct.Buffer:n,Ma=ct.Symbol,lc=ct.Uint8Array,Im=oc?oc.allocUnsafe:n,uc=Nm(Le.getPrototypeOf,Le),Om=Le.create,Rm=uo.propertyIsEnumerable,cc=rc.splice,zm=Ma?Ma.isConcatSpreadable:n,ul=Ma?Ma.iterator:n,is=Ma?Ma.toStringTag:n,fc=function(){try{var s=us(Le,"defineProperty");return s({},"",{}),s}catch{}}(),LM=ct.clearTimeout!==wn.clearTimeout&&ct.clearTimeout,IM=Ct&&Ct.now!==wn.Date.now&&Ct.now,OM=ct.setTimeout!==wn.setTimeout&&ct.setTimeout,hc=on.ceil,dc=on.floor,Id=Le.getOwnPropertySymbols,RM=oc?oc.isBuffer:n,Fm=ct.isFinite,zM=rc.join,FM=Nm(Le.keys,Le),ln=on.max,Tn=on.min,BM=Ct.now,DM=ct.parseInt,Bm=on.random,UM=rc.reverse,Od=us(ct,"DataView"),cl=us(ct,"Map"),Rd=us(ct,"Promise"),co=us(ct,"Set"),fl=us(ct,"WeakMap"),hl=us(Le,"create"),pc=fl&&new fl,fo={},WM=cs(Od),qM=cs(cl),HM=cs(Rd),VM=cs(co),YM=cs(fl),gc=Ma?Ma.prototype:n,dl=gc?gc.valueOf:n,Dm=gc?gc.toString:n;function T(s){if(Xe(s)&&!ne(s)&&!(s instanceof me)){if(s instanceof Ar)return s;if(ke.call(s,"__wrapped__"))return Uy(s)}return new Ar(s)}var ho=function(){function s(){}return function(l){if(!Ve(l))return{};if(Om)return Om(l);s.prototype=l;var h=new s;return s.prototype=n,h}}();function vc(){}function Ar(s,l){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=n}T.templateSettings={escape:ee,evaluate:ve,interpolate:Te,variable:"",imports:{_:T}},T.prototype=vc.prototype,T.prototype.constructor=T,Ar.prototype=ho(vc.prototype),Ar.prototype.constructor=Ar;function me(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=E,this.__views__=[]}function GM(){var s=new me(this.__wrapped__);return s.__actions__=Yn(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Yn(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Yn(this.__views__),s}function XM(){if(this.__filtered__){var s=new me(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function KM(){var s=this.__wrapped__.value(),l=this.__dir__,h=ne(s),m=l<0,S=h?s.length:0,k=o9(0,S,this.__views__),O=k.start,q=k.end,X=q-O,dt=m?q:O-1,pt=this.__iteratees__,yt=pt.length,$t=0,Rt=Tn(X,this.__takeCount__);if(!h||!m&&S==X&&Rt==X)return cy(s,this.__actions__);var Ut=[];t:for(;X--&&$t<Rt;){dt+=l;for(var le=-1,Wt=s[dt];++le<yt;){var de=pt[le],be=de.iteratee,pr=de.type,Bn=be(Wt);if(pr==z)Wt=Bn;else if(!Bn){if(pr==C)continue t;break t}}Ut[$t++]=Wt}return Ut}me.prototype=ho(vc.prototype),me.prototype.constructor=me;function as(s){var l=-1,h=s==null?0:s.length;for(this.clear();++l<h;){var m=s[l];this.set(m[0],m[1])}}function jM(){this.__data__=hl?hl(null):{},this.size=0}function ZM(s){var l=this.has(s)&&delete this.__data__[s];return this.size-=l?1:0,l}function QM(s){var l=this.__data__;if(hl){var h=l[s];return h===c?n:h}return ke.call(l,s)?l[s]:n}function JM(s){var l=this.__data__;return hl?l[s]!==n:ke.call(l,s)}function tT(s,l){var h=this.__data__;return this.size+=this.has(s)?0:1,h[s]=hl&&l===n?c:l,this}as.prototype.clear=jM,as.prototype.delete=ZM,as.prototype.get=QM,as.prototype.has=JM,as.prototype.set=tT;function Oi(s){var l=-1,h=s==null?0:s.length;for(this.clear();++l<h;){var m=s[l];this.set(m[0],m[1])}}function eT(){this.__data__=[],this.size=0}function nT(s){var l=this.__data__,h=mc(l,s);if(h<0)return!1;var m=l.length-1;return h==m?l.pop():cc.call(l,h,1),--this.size,!0}function rT(s){var l=this.__data__,h=mc(l,s);return h<0?n:l[h][1]}function iT(s){return mc(this.__data__,s)>-1}function aT(s,l){var h=this.__data__,m=mc(h,s);return m<0?(++this.size,h.push([s,l])):h[m][1]=l,this}Oi.prototype.clear=eT,Oi.prototype.delete=nT,Oi.prototype.get=rT,Oi.prototype.has=iT,Oi.prototype.set=aT;function Ri(s){var l=-1,h=s==null?0:s.length;for(this.clear();++l<h;){var m=s[l];this.set(m[0],m[1])}}function sT(){this.size=0,this.__data__={hash:new as,map:new(cl||Oi),string:new as}}function oT(s){var l=Ec(this,s).delete(s);return this.size-=l?1:0,l}function lT(s){return Ec(this,s).get(s)}function uT(s){return Ec(this,s).has(s)}function cT(s,l){var h=Ec(this,s),m=h.size;return h.set(s,l),this.size+=h.size==m?0:1,this}Ri.prototype.clear=sT,Ri.prototype.delete=oT,Ri.prototype.get=lT,Ri.prototype.has=uT,Ri.prototype.set=cT;function ss(s){var l=-1,h=s==null?0:s.length;for(this.__data__=new Ri;++l<h;)this.add(s[l])}function fT(s){return this.__data__.set(s,c),this}function hT(s){return this.__data__.has(s)}ss.prototype.add=ss.prototype.push=fT,ss.prototype.has=hT;function qr(s){var l=this.__data__=new Oi(s);this.size=l.size}function dT(){this.__data__=new Oi,this.size=0}function pT(s){var l=this.__data__,h=l.delete(s);return this.size=l.size,h}function gT(s){return this.__data__.get(s)}function vT(s){return this.__data__.has(s)}function mT(s,l){var h=this.__data__;if(h instanceof Oi){var m=h.__data__;if(!cl||m.length<i-1)return m.push([s,l]),this.size=++h.size,this;h=this.__data__=new Ri(m)}return h.set(s,l),this.size=h.size,this}qr.prototype.clear=dT,qr.prototype.delete=pT,qr.prototype.get=gT,qr.prototype.has=vT,qr.prototype.set=mT;function Um(s,l){var h=ne(s),m=!h&&fs(s),S=!h&&!m&&Ea(s),k=!h&&!m&&!S&&mo(s),O=h||m||S||k,q=O?Cd(s.length,AM):[],X=q.length;for(var dt in s)(l||ke.call(s,dt))&&!(O&&(dt=="length"||S&&(dt=="offset"||dt=="parent")||k&&(dt=="buffer"||dt=="byteLength"||dt=="byteOffset")||Di(dt,X)))&&q.push(dt);return q}function Wm(s){var l=s.length;return l?s[Gd(0,l-1)]:n}function yT(s,l){return Cc(Yn(s),os(l,0,s.length))}function bT(s){return Cc(Yn(s))}function zd(s,l,h){(h!==n&&!Hr(s[l],h)||h===n&&!(l in s))&&zi(s,l,h)}function pl(s,l,h){var m=s[l];(!(ke.call(s,l)&&Hr(m,h))||h===n&&!(l in s))&&zi(s,l,h)}function mc(s,l){for(var h=s.length;h--;)if(Hr(s[h][0],l))return h;return-1}function _T(s,l,h,m){return Ta(s,function(S,k,O){l(m,S,h(S),O)}),m}function qm(s,l){return s&&ui(l,dn(l),s)}function wT(s,l){return s&&ui(l,Xn(l),s)}function zi(s,l,h){l=="__proto__"&&fc?fc(s,l,{configurable:!0,enumerable:!0,value:h,writable:!0}):s[l]=h}function Fd(s,l){for(var h=-1,m=l.length,S=st(m),k=s==null;++h<m;)S[h]=k?n:yp(s,l[h]);return S}function os(s,l,h){return s===s&&(h!==n&&(s=s<=h?s:h),l!==n&&(s=s>=l?s:l)),s}function kr(s,l,h,m,S,k){var O,q=l&p,X=l&g,dt=l&y;if(h&&(O=S?h(s,m,S,k):h(s)),O!==n)return O;if(!Ve(s))return s;var pt=ne(s);if(pt){if(O=u9(s),!q)return Yn(s,O)}else{var yt=$n(s),$t=yt==Q||yt==At;if(Ea(s))return dy(s,q);if(yt==mt||yt==ht||$t&&!S){if(O=X||$t?{}:Py(s),!q)return X?QT(s,wT(O,s)):ZT(s,qm(O,s))}else{if(!Be[yt])return S?s:{};O=c9(s,yt,q)}}k||(k=new qr);var Rt=k.get(s);if(Rt)return Rt;k.set(s,O),ob(s)?s.forEach(function(Wt){O.add(kr(Wt,l,h,Wt,s,k))}):ab(s)&&s.forEach(function(Wt,de){O.set(de,kr(Wt,l,h,de,s,k))});var Ut=dt?X?ip:rp:X?Xn:dn,le=pt?n:Ut(s);return Tr(le||s,function(Wt,de){le&&(de=Wt,Wt=s[de]),pl(O,de,kr(Wt,l,h,de,s,k))}),O}function xT(s){var l=dn(s);return function(h){return Hm(h,s,l)}}function Hm(s,l,h){var m=h.length;if(s==null)return!m;for(s=Le(s);m--;){var S=h[m],k=l[S],O=s[S];if(O===n&&!(S in s)||!k(O))return!1}return!0}function Vm(s,l,h){if(typeof s!="function")throw new $r(o);return wl(function(){s.apply(n,h)},l)}function gl(s,l,h,m){var S=-1,k=tc,O=!0,q=s.length,X=[],dt=l.length;if(!q)return X;h&&(l=qe(l,fr(h))),m?(k=Md,O=!1):l.length>=i&&(k=ll,O=!1,l=new ss(l));t:for(;++S<q;){var pt=s[S],yt=h==null?pt:h(pt);if(pt=m||pt!==0?pt:0,O&&yt===yt){for(var $t=dt;$t--;)if(l[$t]===yt)continue t;X.push(pt)}else k(l,yt,m)||X.push(pt)}return X}var Ta=yy(li),Ym=yy(Dd,!0);function ST(s,l){var h=!0;return Ta(s,function(m,S,k){return h=!!l(m,S,k),h}),h}function yc(s,l,h){for(var m=-1,S=s.length;++m<S;){var k=s[m],O=l(k);if(O!=null&&(q===n?O===O&&!dr(O):h(O,q)))var q=O,X=k}return X}function MT(s,l,h,m){var S=s.length;for(h=se(h),h<0&&(h=-h>S?0:S+h),m=m===n||m>S?S:se(m),m<0&&(m+=S),m=h>m?0:ub(m);h<m;)s[h++]=l;return s}function Gm(s,l){var h=[];return Ta(s,function(m,S,k){l(m,S,k)&&h.push(m)}),h}function xn(s,l,h,m,S){var k=-1,O=s.length;for(h||(h=h9),S||(S=[]);++k<O;){var q=s[k];l>0&&h(q)?l>1?xn(q,l-1,h,m,S):xa(S,q):m||(S[S.length]=q)}return S}var Bd=by(),Xm=by(!0);function li(s,l){return s&&Bd(s,l,dn)}function Dd(s,l){return s&&Xm(s,l,dn)}function bc(s,l){return wa(l,function(h){return Ui(s[h])})}function ls(s,l){l=Aa(l,s);for(var h=0,m=l.length;s!=null&&h<m;)s=s[ci(l[h++])];return h&&h==m?s:n}function Km(s,l,h){var m=l(s);return ne(s)?m:xa(m,h(s))}function zn(s){return s==null?s===n?Fe:zt:is&&is in Le(s)?s9(s):b9(s)}function Ud(s,l){return s>l}function TT(s,l){return s!=null&&ke.call(s,l)}function $T(s,l){return s!=null&&l in Le(s)}function AT(s,l,h){return s>=Tn(l,h)&&s<ln(l,h)}function Wd(s,l,h){for(var m=h?Md:tc,S=s[0].length,k=s.length,O=k,q=st(k),X=1/0,dt=[];O--;){var pt=s[O];O&&l&&(pt=qe(pt,fr(l))),X=Tn(pt.length,X),q[O]=!h&&(l||S>=120&&pt.length>=120)?new ss(O&&pt):n}pt=s[0];var yt=-1,$t=q[0];t:for(;++yt<S&&dt.length<X;){var Rt=pt[yt],Ut=l?l(Rt):Rt;if(Rt=h||Rt!==0?Rt:0,!($t?ll($t,Ut):m(dt,Ut,h))){for(O=k;--O;){var le=q[O];if(!(le?ll(le,Ut):m(s[O],Ut,h)))continue t}$t&&$t.push(Ut),dt.push(Rt)}}return dt}function kT(s,l,h,m){return li(s,function(S,k,O){l(m,h(S),k,O)}),m}function vl(s,l,h){l=Aa(l,s),s=Ry(s,l);var m=s==null?s:s[ci(Cr(l))];return m==null?n:cr(m,s,h)}function jm(s){return Xe(s)&&zn(s)==ht}function ET(s){return Xe(s)&&zn(s)==Zt}function CT(s){return Xe(s)&&zn(s)==tt}function ml(s,l,h,m,S){return s===l?!0:s==null||l==null||!Xe(s)&&!Xe(l)?s!==s&&l!==l:NT(s,l,h,m,ml,S)}function NT(s,l,h,m,S,k){var O=ne(s),q=ne(l),X=O?nt:$n(s),dt=q?nt:$n(l);X=X==ht?mt:X,dt=dt==ht?mt:dt;var pt=X==mt,yt=dt==mt,$t=X==dt;if($t&&Ea(s)){if(!Ea(l))return!1;O=!0,pt=!1}if($t&&!pt)return k||(k=new qr),O||mo(s)?Ey(s,l,h,m,S,k):i9(s,l,X,h,m,S,k);if(!(h&_)){var Rt=pt&&ke.call(s,"__wrapped__"),Ut=yt&&ke.call(l,"__wrapped__");if(Rt||Ut){var le=Rt?s.value():s,Wt=Ut?l.value():l;return k||(k=new qr),S(le,Wt,h,m,k)}}return $t?(k||(k=new qr),a9(s,l,h,m,S,k)):!1}function PT(s){return Xe(s)&&$n(s)==vt}function qd(s,l,h,m){var S=h.length,k=S,O=!m;if(s==null)return!k;for(s=Le(s);S--;){var q=h[S];if(O&&q[2]?q[1]!==s[q[0]]:!(q[0]in s))return!1}for(;++S<k;){q=h[S];var X=q[0],dt=s[X],pt=q[1];if(O&&q[2]){if(dt===n&&!(X in s))return!1}else{var yt=new qr;if(m)var $t=m(dt,pt,X,s,l,yt);if(!($t===n?ml(pt,dt,_|b,m,yt):$t))return!1}}return!0}function Zm(s){if(!Ve(s)||p9(s))return!1;var l=Ui(s)?PM:eo;return l.test(cs(s))}function LT(s){return Xe(s)&&zn(s)==ae}function IT(s){return Xe(s)&&$n(s)==qt}function OT(s){return Xe(s)&&Rc(s.length)&&!!Ue[zn(s)]}function Qm(s){return typeof s=="function"?s:s==null?Kn:typeof s=="object"?ne(s)?ey(s[0],s[1]):ty(s):_b(s)}function Hd(s){if(!_l(s))return FM(s);var l=[];for(var h in Le(s))ke.call(s,h)&&h!="constructor"&&l.push(h);return l}function RT(s){if(!Ve(s))return y9(s);var l=_l(s),h=[];for(var m in s)m=="constructor"&&(l||!ke.call(s,m))||h.push(m);return h}function Vd(s,l){return s<l}function Jm(s,l){var h=-1,m=Gn(s)?st(s.length):[];return Ta(s,function(S,k,O){m[++h]=l(S,k,O)}),m}function ty(s){var l=sp(s);return l.length==1&&l[0][2]?Iy(l[0][0],l[0][1]):function(h){return h===s||qd(h,s,l)}}function ey(s,l){return lp(s)&&Ly(l)?Iy(ci(s),l):function(h){var m=yp(h,s);return m===n&&m===l?bp(h,s):ml(l,m,_|b)}}function _c(s,l,h,m,S){s!==l&&Bd(l,function(k,O){if(S||(S=new qr),Ve(k))zT(s,l,O,h,_c,m,S);else{var q=m?m(cp(s,O),k,O+"",s,l,S):n;q===n&&(q=k),zd(s,O,q)}},Xn)}function zT(s,l,h,m,S,k,O){var q=cp(s,h),X=cp(l,h),dt=O.get(X);if(dt){zd(s,h,dt);return}var pt=k?k(q,X,h+"",s,l,O):n,yt=pt===n;if(yt){var $t=ne(X),Rt=!$t&&Ea(X),Ut=!$t&&!Rt&&mo(X);pt=X,$t||Rt||Ut?ne(q)?pt=q:Qe(q)?pt=Yn(q):Rt?(yt=!1,pt=dy(X,!0)):Ut?(yt=!1,pt=py(X,!0)):pt=[]:xl(X)||fs(X)?(pt=q,fs(q)?pt=cb(q):(!Ve(q)||Ui(q))&&(pt=Py(X))):yt=!1}yt&&(O.set(X,pt),S(pt,X,m,k,O),O.delete(X)),zd(s,h,pt)}function ny(s,l){var h=s.length;if(h)return l+=l<0?h:0,Di(l,h)?s[l]:n}function ry(s,l,h){l.length?l=qe(l,function(k){return ne(k)?function(O){return ls(O,k.length===1?k[0]:k)}:k}):l=[Kn];var m=-1;l=qe(l,fr(Bt()));var S=Jm(s,function(k,O,q){var X=qe(l,function(dt){return dt(k)});return{criteria:X,index:++m,value:k}});return cM(S,function(k,O){return jT(k,O,h)})}function FT(s,l){return iy(s,l,function(h,m){return bp(s,m)})}function iy(s,l,h){for(var m=-1,S=l.length,k={};++m<S;){var O=l[m],q=ls(s,O);h(q,O)&&yl(k,Aa(O,s),q)}return k}function BT(s){return function(l){return ls(l,s)}}function Yd(s,l,h,m){var S=m?uM:ao,k=-1,O=l.length,q=s;for(s===l&&(l=Yn(l)),h&&(q=qe(s,fr(h)));++k<O;)for(var X=0,dt=l[k],pt=h?h(dt):dt;(X=S(q,pt,X,m))>-1;)q!==s&&cc.call(q,X,1),cc.call(s,X,1);return s}function ay(s,l){for(var h=s?l.length:0,m=h-1;h--;){var S=l[h];if(h==m||S!==k){var k=S;Di(S)?cc.call(s,S,1):jd(s,S)}}return s}function Gd(s,l){return s+dc(Bm()*(l-s+1))}function DT(s,l,h,m){for(var S=-1,k=ln(hc((l-s)/(h||1)),0),O=st(k);k--;)O[m?k:++S]=s,s+=h;return O}function Xd(s,l){var h="";if(!s||l<1||l>at)return h;do l%2&&(h+=s),l=dc(l/2),l&&(s+=s);while(l);return h}function ce(s,l){return fp(Oy(s,l,Kn),s+"")}function UT(s){return Wm(yo(s))}function WT(s,l){var h=yo(s);return Cc(h,os(l,0,h.length))}function yl(s,l,h,m){if(!Ve(s))return s;l=Aa(l,s);for(var S=-1,k=l.length,O=k-1,q=s;q!=null&&++S<k;){var X=ci(l[S]),dt=h;if(X==="__proto__"||X==="constructor"||X==="prototype")return s;if(S!=O){var pt=q[X];dt=m?m(pt,X,q):n,dt===n&&(dt=Ve(pt)?pt:Di(l[S+1])?[]:{})}pl(q,X,dt),q=q[X]}return s}var sy=pc?function(s,l){return pc.set(s,l),s}:Kn,qT=fc?function(s,l){return fc(s,"toString",{configurable:!0,enumerable:!1,value:wp(l),writable:!0})}:Kn;function HT(s){return Cc(yo(s))}function Er(s,l,h){var m=-1,S=s.length;l<0&&(l=-l>S?0:S+l),h=h>S?S:h,h<0&&(h+=S),S=l>h?0:h-l>>>0,l>>>=0;for(var k=st(S);++m<S;)k[m]=s[m+l];return k}function VT(s,l){var h;return Ta(s,function(m,S,k){return h=l(m,S,k),!h}),!!h}function wc(s,l,h){var m=0,S=s==null?m:s.length;if(typeof l=="number"&&l===l&&S<=Y){for(;m<S;){var k=m+S>>>1,O=s[k];O!==null&&!dr(O)&&(h?O<=l:O<l)?m=k+1:S=k}return S}return Kd(s,l,Kn,h)}function Kd(s,l,h,m){var S=0,k=s==null?0:s.length;if(k===0)return 0;l=h(l);for(var O=l!==l,q=l===null,X=dr(l),dt=l===n;S<k;){var pt=dc((S+k)/2),yt=h(s[pt]),$t=yt!==n,Rt=yt===null,Ut=yt===yt,le=dr(yt);if(O)var Wt=m||Ut;else dt?Wt=Ut&&(m||$t):q?Wt=Ut&&$t&&(m||!Rt):X?Wt=Ut&&$t&&!Rt&&(m||!le):Rt||le?Wt=!1:Wt=m?yt<=l:yt<l;Wt?S=pt+1:k=pt}return Tn(k,H)}function oy(s,l){for(var h=-1,m=s.length,S=0,k=[];++h<m;){var O=s[h],q=l?l(O):O;if(!h||!Hr(q,X)){var X=q;k[S++]=O===0?0:O}}return k}function ly(s){return typeof s=="number"?s:dr(s)?I:+s}function hr(s){if(typeof s=="string")return s;if(ne(s))return qe(s,hr)+"";if(dr(s))return Dm?Dm.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}function $a(s,l,h){var m=-1,S=tc,k=s.length,O=!0,q=[],X=q;if(h)O=!1,S=Md;else if(k>=i){var dt=l?null:n9(s);if(dt)return nc(dt);O=!1,S=ll,X=new ss}else X=l?[]:q;t:for(;++m<k;){var pt=s[m],yt=l?l(pt):pt;if(pt=h||pt!==0?pt:0,O&&yt===yt){for(var $t=X.length;$t--;)if(X[$t]===yt)continue t;l&&X.push(yt),q.push(pt)}else S(X,yt,h)||(X!==q&&X.push(yt),q.push(pt))}return q}function jd(s,l){return l=Aa(l,s),s=Ry(s,l),s==null||delete s[ci(Cr(l))]}function uy(s,l,h,m){return yl(s,l,h(ls(s,l)),m)}function xc(s,l,h,m){for(var S=s.length,k=m?S:-1;(m?k--:++k<S)&&l(s[k],k,s););return h?Er(s,m?0:k,m?k+1:S):Er(s,m?k+1:0,m?S:k)}function cy(s,l){var h=s;return h instanceof me&&(h=h.value()),Td(l,function(m,S){return S.func.apply(S.thisArg,xa([m],S.args))},h)}function Zd(s,l,h){var m=s.length;if(m<2)return m?$a(s[0]):[];for(var S=-1,k=st(m);++S<m;)for(var O=s[S],q=-1;++q<m;)q!=S&&(k[S]=gl(k[S]||O,s[q],l,h));return $a(xn(k,1),l,h)}function fy(s,l,h){for(var m=-1,S=s.length,k=l.length,O={};++m<S;){var q=m<k?l[m]:n;h(O,s[m],q)}return O}function Qd(s){return Qe(s)?s:[]}function Jd(s){return typeof s=="function"?s:Kn}function Aa(s,l){return ne(s)?s:lp(s,l)?[s]:Dy($e(s))}var YT=ce;function ka(s,l,h){var m=s.length;return h=h===n?m:h,!l&&h>=m?s:Er(s,l,h)}var hy=LM||function(s){return wn.clearTimeout(s)};function dy(s,l){if(l)return s.slice();var h=s.length,m=Im?Im(h):new s.constructor(h);return s.copy(m),m}function tp(s){var l=new s.constructor(s.byteLength);return new lc(l).set(new lc(s)),l}function GT(s,l){var h=l?tp(s.buffer):s.buffer;return new s.constructor(h,s.byteOffset,s.byteLength)}function XT(s){var l=new s.constructor(s.source,to.exec(s));return l.lastIndex=s.lastIndex,l}function KT(s){return dl?Le(dl.call(s)):{}}function py(s,l){var h=l?tp(s.buffer):s.buffer;return new s.constructor(h,s.byteOffset,s.length)}function gy(s,l){if(s!==l){var h=s!==n,m=s===null,S=s===s,k=dr(s),O=l!==n,q=l===null,X=l===l,dt=dr(l);if(!q&&!dt&&!k&&s>l||k&&O&&X&&!q&&!dt||m&&O&&X||!h&&X||!S)return 1;if(!m&&!k&&!dt&&s<l||dt&&h&&S&&!m&&!k||q&&h&&S||!O&&S||!X)return-1}return 0}function jT(s,l,h){for(var m=-1,S=s.criteria,k=l.criteria,O=S.length,q=h.length;++m<O;){var X=gy(S[m],k[m]);if(X){if(m>=q)return X;var dt=h[m];return X*(dt=="desc"?-1:1)}}return s.index-l.index}function vy(s,l,h,m){for(var S=-1,k=s.length,O=h.length,q=-1,X=l.length,dt=ln(k-O,0),pt=st(X+dt),yt=!m;++q<X;)pt[q]=l[q];for(;++S<O;)(yt||S<k)&&(pt[h[S]]=s[S]);for(;dt--;)pt[q++]=s[S++];return pt}function my(s,l,h,m){for(var S=-1,k=s.length,O=-1,q=h.length,X=-1,dt=l.length,pt=ln(k-q,0),yt=st(pt+dt),$t=!m;++S<pt;)yt[S]=s[S];for(var Rt=S;++X<dt;)yt[Rt+X]=l[X];for(;++O<q;)($t||S<k)&&(yt[Rt+h[O]]=s[S++]);return yt}function Yn(s,l){var h=-1,m=s.length;for(l||(l=st(m));++h<m;)l[h]=s[h];return l}function ui(s,l,h,m){var S=!h;h||(h={});for(var k=-1,O=l.length;++k<O;){var q=l[k],X=m?m(h[q],s[q],q,h,s):n;X===n&&(X=s[q]),S?zi(h,q,X):pl(h,q,X)}return h}function ZT(s,l){return ui(s,op(s),l)}function QT(s,l){return ui(s,Cy(s),l)}function Sc(s,l){return function(h,m){var S=ne(h)?rM:_T,k=l?l():{};return S(h,s,Bt(m,2),k)}}function po(s){return ce(function(l,h){var m=-1,S=h.length,k=S>1?h[S-1]:n,O=S>2?h[2]:n;for(k=s.length>3&&typeof k=="function"?(S--,k):n,O&&Fn(h[0],h[1],O)&&(k=S<3?n:k,S=1),l=Le(l);++m<S;){var q=h[m];q&&s(l,q,m,k)}return l})}function yy(s,l){return function(h,m){if(h==null)return h;if(!Gn(h))return s(h,m);for(var S=h.length,k=l?S:-1,O=Le(h);(l?k--:++k<S)&&m(O[k],k,O)!==!1;);return h}}function by(s){return function(l,h,m){for(var S=-1,k=Le(l),O=m(l),q=O.length;q--;){var X=O[s?q:++S];if(h(k[X],X,k)===!1)break}return l}}function JT(s,l,h){var m=l&w,S=bl(s);function k(){var O=this&&this!==wn&&this instanceof k?S:s;return O.apply(m?h:this,arguments)}return k}function _y(s){return function(l){l=$e(l);var h=so(l)?Wr(l):n,m=h?h[0]:l.charAt(0),S=h?ka(h,1).join(""):l.slice(1);return m[s]()+S}}function go(s){return function(l){return Td(yb(mb(l).replace(q7,"")),s,"")}}function bl(s){return function(){var l=arguments;switch(l.length){case 0:return new s;case 1:return new s(l[0]);case 2:return new s(l[0],l[1]);case 3:return new s(l[0],l[1],l[2]);case 4:return new s(l[0],l[1],l[2],l[3]);case 5:return new s(l[0],l[1],l[2],l[3],l[4]);case 6:return new s(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new s(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var h=ho(s.prototype),m=s.apply(h,l);return Ve(m)?m:h}}function t9(s,l,h){var m=bl(s);function S(){for(var k=arguments.length,O=st(k),q=k,X=vo(S);q--;)O[q]=arguments[q];var dt=k<3&&O[0]!==X&&O[k-1]!==X?[]:Sa(O,X);if(k-=dt.length,k<h)return Ty(s,l,Mc,S.placeholder,n,O,dt,n,n,h-k);var pt=this&&this!==wn&&this instanceof S?m:s;return cr(pt,this,O)}return S}function wy(s){return function(l,h,m){var S=Le(l);if(!Gn(l)){var k=Bt(h,3);l=dn(l),h=function(q){return k(S[q],q,S)}}var O=s(l,h,m);return O>-1?S[k?l[O]:O]:n}}function xy(s){return Bi(function(l){var h=l.length,m=h,S=Ar.prototype.thru;for(s&&l.reverse();m--;){var k=l[m];if(typeof k!="function")throw new $r(o);if(S&&!O&&kc(k)=="wrapper")var O=new Ar([],!0)}for(m=O?m:h;++m<h;){k=l[m];var q=kc(k),X=q=="wrapper"?ap(k):n;X&&up(X[0])&&X[1]==(F|A|P|V)&&!X[4].length&&X[9]==1?O=O[kc(X[0])].apply(O,X[3]):O=k.length==1&&up(k)?O[q]():O.thru(k)}return function(){var dt=arguments,pt=dt[0];if(O&&dt.length==1&&ne(pt))return O.plant(pt).value();for(var yt=0,$t=h?l[yt].apply(this,dt):pt;++yt<h;)$t=l[yt].call(this,$t);return $t}})}function Mc(s,l,h,m,S,k,O,q,X,dt){var pt=l&F,yt=l&w,$t=l&x,Rt=l&(A|$),Ut=l&K,le=$t?n:bl(s);function Wt(){for(var de=arguments.length,be=st(de),pr=de;pr--;)be[pr]=arguments[pr];if(Rt)var Bn=vo(Wt),gr=hM(be,Bn);if(m&&(be=vy(be,m,S,Rt)),k&&(be=my(be,k,O,Rt)),de-=gr,Rt&&de<dt){var Je=Sa(be,Bn);return Ty(s,l,Mc,Wt.placeholder,h,be,Je,q,X,dt-de)}var Vr=yt?h:this,qi=$t?Vr[s]:s;return de=be.length,q?be=_9(be,q):Ut&&de>1&&be.reverse(),pt&&X<de&&(be.length=X),this&&this!==wn&&this instanceof Wt&&(qi=le||bl(qi)),qi.apply(Vr,be)}return Wt}function Sy(s,l){return function(h,m){return kT(h,s,l(m),{})}}function Tc(s,l){return function(h,m){var S;if(h===n&&m===n)return l;if(h!==n&&(S=h),m!==n){if(S===n)return m;typeof h=="string"||typeof m=="string"?(h=hr(h),m=hr(m)):(h=ly(h),m=ly(m)),S=s(h,m)}return S}}function ep(s){return Bi(function(l){return l=qe(l,fr(Bt())),ce(function(h){var m=this;return s(l,function(S){return cr(S,m,h)})})})}function $c(s,l){l=l===n?" ":hr(l);var h=l.length;if(h<2)return h?Xd(l,s):l;var m=Xd(l,hc(s/oo(l)));return so(l)?ka(Wr(m),0,s).join(""):m.slice(0,s)}function e9(s,l,h,m){var S=l&w,k=bl(s);function O(){for(var q=-1,X=arguments.length,dt=-1,pt=m.length,yt=st(pt+X),$t=this&&this!==wn&&this instanceof O?k:s;++dt<pt;)yt[dt]=m[dt];for(;X--;)yt[dt++]=arguments[++q];return cr($t,S?h:this,yt)}return O}function My(s){return function(l,h,m){return m&&typeof m!="number"&&Fn(l,h,m)&&(h=m=n),l=Wi(l),h===n?(h=l,l=0):h=Wi(h),m=m===n?l<h?1:-1:Wi(m),DT(l,h,m,s)}}function Ac(s){return function(l,h){return typeof l=="string"&&typeof h=="string"||(l=Nr(l),h=Nr(h)),s(l,h)}}function Ty(s,l,h,m,S,k,O,q,X,dt){var pt=l&A,yt=pt?O:n,$t=pt?n:O,Rt=pt?k:n,Ut=pt?n:k;l|=pt?P:L,l&=~(pt?L:P),l&M||(l&=-4);var le=[s,l,S,Rt,yt,Ut,$t,q,X,dt],Wt=h.apply(n,le);return up(s)&&zy(Wt,le),Wt.placeholder=m,Fy(Wt,s,l)}function np(s){var l=on[s];return function(h,m){if(h=Nr(h),m=m==null?0:Tn(se(m),292),m&&Fm(h)){var S=($e(h)+"e").split("e"),k=l(S[0]+"e"+(+S[1]+m));return S=($e(k)+"e").split("e"),+(S[0]+"e"+(+S[1]-m))}return l(h)}}var n9=co&&1/nc(new co([,-0]))[1]==B?function(s){return new co(s)}:Mp;function $y(s){return function(l){var h=$n(l);return h==vt?Pd(l):h==qt?bM(l):fM(l,s(l))}}function Fi(s,l,h,m,S,k,O,q){var X=l&x;if(!X&&typeof s!="function")throw new $r(o);var dt=m?m.length:0;if(dt||(l&=-97,m=S=n),O=O===n?O:ln(se(O),0),q=q===n?q:se(q),dt-=S?S.length:0,l&L){var pt=m,yt=S;m=S=n}var $t=X?n:ap(s),Rt=[s,l,h,m,S,pt,yt,k,O,q];if($t&&m9(Rt,$t),s=Rt[0],l=Rt[1],h=Rt[2],m=Rt[3],S=Rt[4],q=Rt[9]=Rt[9]===n?X?0:s.length:ln(Rt[9]-dt,0),!q&&l&(A|$)&&(l&=-25),!l||l==w)var Ut=JT(s,l,h);else l==A||l==$?Ut=t9(s,l,q):(l==P||l==(w|P))&&!S.length?Ut=e9(s,l,h,m):Ut=Mc.apply(n,Rt);var le=$t?sy:zy;return Fy(le(Ut,Rt),s,l)}function Ay(s,l,h,m){return s===n||Hr(s,uo[h])&&!ke.call(m,h)?l:s}function ky(s,l,h,m,S,k){return Ve(s)&&Ve(l)&&(k.set(l,s),_c(s,l,n,ky,k),k.delete(l)),s}function r9(s){return xl(s)?n:s}function Ey(s,l,h,m,S,k){var O=h&_,q=s.length,X=l.length;if(q!=X&&!(O&&X>q))return!1;var dt=k.get(s),pt=k.get(l);if(dt&&pt)return dt==l&&pt==s;var yt=-1,$t=!0,Rt=h&b?new ss:n;for(k.set(s,l),k.set(l,s);++yt<q;){var Ut=s[yt],le=l[yt];if(m)var Wt=O?m(le,Ut,yt,l,s,k):m(Ut,le,yt,s,l,k);if(Wt!==n){if(Wt)continue;$t=!1;break}if(Rt){if(!$d(l,function(de,be){if(!ll(Rt,be)&&(Ut===de||S(Ut,de,h,m,k)))return Rt.push(be)})){$t=!1;break}}else if(!(Ut===le||S(Ut,le,h,m,k))){$t=!1;break}}return k.delete(s),k.delete(l),$t}function i9(s,l,h,m,S,k,O){switch(h){case Qt:if(s.byteLength!=l.byteLength||s.byteOffset!=l.byteOffset)return!1;s=s.buffer,l=l.buffer;case Zt:return!(s.byteLength!=l.byteLength||!k(new lc(s),new lc(l)));case lt:case tt:case St:return Hr(+s,+l);case _t:return s.name==l.name&&s.message==l.message;case ae:case Vt:return s==l+"";case vt:var q=Pd;case qt:var X=m&_;if(q||(q=nc),s.size!=l.size&&!X)return!1;var dt=O.get(s);if(dt)return dt==l;m|=b,O.set(s,l);var pt=Ey(q(s),q(l),m,S,k,O);return O.delete(s),pt;case Se:if(dl)return dl.call(s)==dl.call(l)}return!1}function a9(s,l,h,m,S,k){var O=h&_,q=rp(s),X=q.length,dt=rp(l),pt=dt.length;if(X!=pt&&!O)return!1;for(var yt=X;yt--;){var $t=q[yt];if(!(O?$t in l:ke.call(l,$t)))return!1}var Rt=k.get(s),Ut=k.get(l);if(Rt&&Ut)return Rt==l&&Ut==s;var le=!0;k.set(s,l),k.set(l,s);for(var Wt=O;++yt<X;){$t=q[yt];var de=s[$t],be=l[$t];if(m)var pr=O?m(be,de,$t,l,s,k):m(de,be,$t,s,l,k);if(!(pr===n?de===be||S(de,be,h,m,k):pr)){le=!1;break}Wt||(Wt=$t=="constructor")}if(le&&!Wt){var Bn=s.constructor,gr=l.constructor;Bn!=gr&&"constructor"in s&&"constructor"in l&&!(typeof Bn=="function"&&Bn instanceof Bn&&typeof gr=="function"&&gr instanceof gr)&&(le=!1)}return k.delete(s),k.delete(l),le}function Bi(s){return fp(Oy(s,n,Hy),s+"")}function rp(s){return Km(s,dn,op)}function ip(s){return Km(s,Xn,Cy)}var ap=pc?function(s){return pc.get(s)}:Mp;function kc(s){for(var l=s.name+"",h=fo[l],m=ke.call(fo,l)?h.length:0;m--;){var S=h[m],k=S.func;if(k==null||k==s)return S.name}return l}function vo(s){var l=ke.call(T,"placeholder")?T:s;return l.placeholder}function Bt(){var s=T.iteratee||xp;return s=s===xp?Qm:s,arguments.length?s(arguments[0],arguments[1]):s}function Ec(s,l){var h=s.__data__;return d9(l)?h[typeof l=="string"?"string":"hash"]:h.map}function sp(s){for(var l=dn(s),h=l.length;h--;){var m=l[h],S=s[m];l[h]=[m,S,Ly(S)]}return l}function us(s,l){var h=vM(s,l);return Zm(h)?h:n}function s9(s){var l=ke.call(s,is),h=s[is];try{s[is]=n;var m=!0}catch{}var S=sc.call(s);return m&&(l?s[is]=h:delete s[is]),S}var op=Id?function(s){return s==null?[]:(s=Le(s),wa(Id(s),function(l){return Rm.call(s,l)}))}:Tp,Cy=Id?function(s){for(var l=[];s;)xa(l,op(s)),s=uc(s);return l}:Tp,$n=zn;(Od&&$n(new Od(new ArrayBuffer(1)))!=Qt||cl&&$n(new cl)!=vt||Rd&&$n(Rd.resolve())!=Nt||co&&$n(new co)!=qt||fl&&$n(new fl)!=_e)&&($n=function(s){var l=zn(s),h=l==mt?s.constructor:n,m=h?cs(h):"";if(m)switch(m){case WM:return Qt;case qM:return vt;case HM:return Nt;case VM:return qt;case YM:return _e}return l});function o9(s,l,h){for(var m=-1,S=h.length;++m<S;){var k=h[m],O=k.size;switch(k.type){case"drop":s+=O;break;case"dropRight":l-=O;break;case"take":l=Tn(l,s+O);break;case"takeRight":s=ln(s,l-O);break}}return{start:s,end:l}}function l9(s){var l=s.match(Sr);return l?l[1].split(Js):[]}function Ny(s,l,h){l=Aa(l,s);for(var m=-1,S=l.length,k=!1;++m<S;){var O=ci(l[m]);if(!(k=s!=null&&h(s,O)))break;s=s[O]}return k||++m!=S?k:(S=s==null?0:s.length,!!S&&Rc(S)&&Di(O,S)&&(ne(s)||fs(s)))}function u9(s){var l=s.length,h=new s.constructor(l);return l&&typeof s[0]=="string"&&ke.call(s,"index")&&(h.index=s.index,h.input=s.input),h}function Py(s){return typeof s.constructor=="function"&&!_l(s)?ho(uc(s)):{}}function c9(s,l,h){var m=s.constructor;switch(l){case Zt:return tp(s);case lt:case tt:return new m(+s);case Qt:return GT(s,h);case pe:case ft:case wt:case Tt:case Pt:case Et:case Ot:case kt:case Lt:return py(s,h);case vt:return new m;case St:case Vt:return new m(s);case ae:return XT(s);case qt:return new m;case Se:return KT(s)}}function f9(s,l){var h=l.length;if(!h)return s;var m=h-1;return l[m]=(h>1?"& ":"")+l[m],l=l.join(h>2?", ":" "),s.replace(Vn,`{
/* [wrapped with `+l+`] */
`)}function h9(s){return ne(s)||fs(s)||!!(zm&&s&&s[zm])}function Di(s,l){var h=typeof s;return l=l??at,!!l&&(h=="number"||h!="symbol"&&j1.test(s))&&s>-1&&s%1==0&&s<l}function Fn(s,l,h){if(!Ve(h))return!1;var m=typeof l;return(m=="number"?Gn(h)&&Di(l,h.length):m=="string"&&l in h)?Hr(h[l],s):!1}function lp(s,l){if(ne(s))return!1;var h=typeof s;return h=="number"||h=="symbol"||h=="boolean"||s==null||dr(s)?!0:si.test(s)||!sn.test(s)||l!=null&&s in Le(l)}function d9(s){var l=typeof s;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?s!=="__proto__":s===null}function up(s){var l=kc(s),h=T[l];if(typeof h!="function"||!(l in me.prototype))return!1;if(s===h)return!0;var m=ap(h);return!!m&&s===m[0]}function p9(s){return!!Lm&&Lm in s}var g9=ic?Ui:$p;function _l(s){var l=s&&s.constructor,h=typeof l=="function"&&l.prototype||uo;return s===h}function Ly(s){return s===s&&!Ve(s)}function Iy(s,l){return function(h){return h==null?!1:h[s]===l&&(l!==n||s in Le(h))}}function v9(s){var l=Ic(s,function(m){return h.size===f&&h.clear(),m}),h=l.cache;return l}function m9(s,l){var h=s[1],m=l[1],S=h|m,k=S<(w|x|F),O=m==F&&h==A||m==F&&h==V&&s[7].length<=l[8]||m==(F|V)&&l[7].length<=l[8]&&h==A;if(!(k||O))return s;m&w&&(s[2]=l[2],S|=h&w?0:M);var q=l[3];if(q){var X=s[3];s[3]=X?vy(X,q,l[4]):q,s[4]=X?Sa(s[3],d):l[4]}return q=l[5],q&&(X=s[5],s[5]=X?my(X,q,l[6]):q,s[6]=X?Sa(s[5],d):l[6]),q=l[7],q&&(s[7]=q),m&F&&(s[8]=s[8]==null?l[8]:Tn(s[8],l[8])),s[9]==null&&(s[9]=l[9]),s[0]=l[0],s[1]=S,s}function y9(s){var l=[];if(s!=null)for(var h in Le(s))l.push(h);return l}function b9(s){return sc.call(s)}function Oy(s,l,h){return l=ln(l===n?s.length-1:l,0),function(){for(var m=arguments,S=-1,k=ln(m.length-l,0),O=st(k);++S<k;)O[S]=m[l+S];S=-1;for(var q=st(l+1);++S<l;)q[S]=m[S];return q[l]=h(O),cr(s,this,q)}}function Ry(s,l){return l.length<2?s:ls(s,Er(l,0,-1))}function _9(s,l){for(var h=s.length,m=Tn(l.length,h),S=Yn(s);m--;){var k=l[m];s[m]=Di(k,h)?S[k]:n}return s}function cp(s,l){if(!(l==="constructor"&&typeof s[l]=="function")&&l!="__proto__")return s[l]}var zy=By(sy),wl=OM||function(s,l){return wn.setTimeout(s,l)},fp=By(qT);function Fy(s,l,h){var m=l+"";return fp(s,f9(m,w9(l9(m),h)))}function By(s){var l=0,h=0;return function(){var m=BM(),S=j-(m-h);if(h=m,S>0){if(++l>=et)return arguments[0]}else l=0;return s.apply(n,arguments)}}function Cc(s,l){var h=-1,m=s.length,S=m-1;for(l=l===n?m:l;++h<l;){var k=Gd(h,S),O=s[k];s[k]=s[h],s[h]=O}return s.length=l,s}var Dy=v9(function(s){var l=[];return s.charCodeAt(0)===46&&l.push(""),s.replace(oi,function(h,m,S,k){l.push(S?k.replace(ol,"$1"):m||h)}),l});function ci(s){if(typeof s=="string"||dr(s))return s;var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}function cs(s){if(s!=null){try{return ac.call(s)}catch{}try{return s+""}catch{}}return""}function w9(s,l){return Tr(J,function(h){var m="_."+h[0];l&h[1]&&!tc(s,m)&&s.push(m)}),s.sort()}function Uy(s){if(s instanceof me)return s.clone();var l=new Ar(s.__wrapped__,s.__chain__);return l.__actions__=Yn(s.__actions__),l.__index__=s.__index__,l.__values__=s.__values__,l}function x9(s,l,h){(h?Fn(s,l,h):l===n)?l=1:l=ln(se(l),0);var m=s==null?0:s.length;if(!m||l<1)return[];for(var S=0,k=0,O=st(hc(m/l));S<m;)O[k++]=Er(s,S,S+=l);return O}function S9(s){for(var l=-1,h=s==null?0:s.length,m=0,S=[];++l<h;){var k=s[l];k&&(S[m++]=k)}return S}function M9(){var s=arguments.length;if(!s)return[];for(var l=st(s-1),h=arguments[0],m=s;m--;)l[m-1]=arguments[m];return xa(ne(h)?Yn(h):[h],xn(l,1))}var T9=ce(function(s,l){return Qe(s)?gl(s,xn(l,1,Qe,!0)):[]}),$9=ce(function(s,l){var h=Cr(l);return Qe(h)&&(h=n),Qe(s)?gl(s,xn(l,1,Qe,!0),Bt(h,2)):[]}),A9=ce(function(s,l){var h=Cr(l);return Qe(h)&&(h=n),Qe(s)?gl(s,xn(l,1,Qe,!0),n,h):[]});function k9(s,l,h){var m=s==null?0:s.length;return m?(l=h||l===n?1:se(l),Er(s,l<0?0:l,m)):[]}function E9(s,l,h){var m=s==null?0:s.length;return m?(l=h||l===n?1:se(l),l=m-l,Er(s,0,l<0?0:l)):[]}function C9(s,l){return s&&s.length?xc(s,Bt(l,3),!0,!0):[]}function N9(s,l){return s&&s.length?xc(s,Bt(l,3),!0):[]}function P9(s,l,h,m){var S=s==null?0:s.length;return S?(h&&typeof h!="number"&&Fn(s,l,h)&&(h=0,m=S),MT(s,l,h,m)):[]}function Wy(s,l,h){var m=s==null?0:s.length;if(!m)return-1;var S=h==null?0:se(h);return S<0&&(S=ln(m+S,0)),ec(s,Bt(l,3),S)}function qy(s,l,h){var m=s==null?0:s.length;if(!m)return-1;var S=m-1;return h!==n&&(S=se(h),S=h<0?ln(m+S,0):Tn(S,m-1)),ec(s,Bt(l,3),S,!0)}function Hy(s){var l=s==null?0:s.length;return l?xn(s,1):[]}function L9(s){var l=s==null?0:s.length;return l?xn(s,B):[]}function I9(s,l){var h=s==null?0:s.length;return h?(l=l===n?1:se(l),xn(s,l)):[]}function O9(s){for(var l=-1,h=s==null?0:s.length,m={};++l<h;){var S=s[l];m[S[0]]=S[1]}return m}function Vy(s){return s&&s.length?s[0]:n}function R9(s,l,h){var m=s==null?0:s.length;if(!m)return-1;var S=h==null?0:se(h);return S<0&&(S=ln(m+S,0)),ao(s,l,S)}function z9(s){var l=s==null?0:s.length;return l?Er(s,0,-1):[]}var F9=ce(function(s){var l=qe(s,Qd);return l.length&&l[0]===s[0]?Wd(l):[]}),B9=ce(function(s){var l=Cr(s),h=qe(s,Qd);return l===Cr(h)?l=n:h.pop(),h.length&&h[0]===s[0]?Wd(h,Bt(l,2)):[]}),D9=ce(function(s){var l=Cr(s),h=qe(s,Qd);return l=typeof l=="function"?l:n,l&&h.pop(),h.length&&h[0]===s[0]?Wd(h,n,l):[]});function U9(s,l){return s==null?"":zM.call(s,l)}function Cr(s){var l=s==null?0:s.length;return l?s[l-1]:n}function W9(s,l,h){var m=s==null?0:s.length;if(!m)return-1;var S=m;return h!==n&&(S=se(h),S=S<0?ln(m+S,0):Tn(S,m-1)),l===l?wM(s,l,S):ec(s,Tm,S,!0)}function q9(s,l){return s&&s.length?ny(s,se(l)):n}var H9=ce(Yy);function Yy(s,l){return s&&s.length&&l&&l.length?Yd(s,l):s}function V9(s,l,h){return s&&s.length&&l&&l.length?Yd(s,l,Bt(h,2)):s}function Y9(s,l,h){return s&&s.length&&l&&l.length?Yd(s,l,n,h):s}var G9=Bi(function(s,l){var h=s==null?0:s.length,m=Fd(s,l);return ay(s,qe(l,function(S){return Di(S,h)?+S:S}).sort(gy)),m});function X9(s,l){var h=[];if(!(s&&s.length))return h;var m=-1,S=[],k=s.length;for(l=Bt(l,3);++m<k;){var O=s[m];l(O,m,s)&&(h.push(O),S.push(m))}return ay(s,S),h}function hp(s){return s==null?s:UM.call(s)}function K9(s,l,h){var m=s==null?0:s.length;return m?(h&&typeof h!="number"&&Fn(s,l,h)?(l=0,h=m):(l=l==null?0:se(l),h=h===n?m:se(h)),Er(s,l,h)):[]}function j9(s,l){return wc(s,l)}function Z9(s,l,h){return Kd(s,l,Bt(h,2))}function Q9(s,l){var h=s==null?0:s.length;if(h){var m=wc(s,l);if(m<h&&Hr(s[m],l))return m}return-1}function J9(s,l){return wc(s,l,!0)}function t$(s,l,h){return Kd(s,l,Bt(h,2),!0)}function e$(s,l){var h=s==null?0:s.length;if(h){var m=wc(s,l,!0)-1;if(Hr(s[m],l))return m}return-1}function n$(s){return s&&s.length?oy(s):[]}function r$(s,l){return s&&s.length?oy(s,Bt(l,2)):[]}function i$(s){var l=s==null?0:s.length;return l?Er(s,1,l):[]}function a$(s,l,h){return s&&s.length?(l=h||l===n?1:se(l),Er(s,0,l<0?0:l)):[]}function s$(s,l,h){var m=s==null?0:s.length;return m?(l=h||l===n?1:se(l),l=m-l,Er(s,l<0?0:l,m)):[]}function o$(s,l){return s&&s.length?xc(s,Bt(l,3),!1,!0):[]}function l$(s,l){return s&&s.length?xc(s,Bt(l,3)):[]}var u$=ce(function(s){return $a(xn(s,1,Qe,!0))}),c$=ce(function(s){var l=Cr(s);return Qe(l)&&(l=n),$a(xn(s,1,Qe,!0),Bt(l,2))}),f$=ce(function(s){var l=Cr(s);return l=typeof l=="function"?l:n,$a(xn(s,1,Qe,!0),n,l)});function h$(s){return s&&s.length?$a(s):[]}function d$(s,l){return s&&s.length?$a(s,Bt(l,2)):[]}function p$(s,l){return l=typeof l=="function"?l:n,s&&s.length?$a(s,n,l):[]}function dp(s){if(!(s&&s.length))return[];var l=0;return s=wa(s,function(h){if(Qe(h))return l=ln(h.length,l),!0}),Cd(l,function(h){return qe(s,Ad(h))})}function Gy(s,l){if(!(s&&s.length))return[];var h=dp(s);return l==null?h:qe(h,function(m){return cr(l,n,m)})}var g$=ce(function(s,l){return Qe(s)?gl(s,l):[]}),v$=ce(function(s){return Zd(wa(s,Qe))}),m$=ce(function(s){var l=Cr(s);return Qe(l)&&(l=n),Zd(wa(s,Qe),Bt(l,2))}),y$=ce(function(s){var l=Cr(s);return l=typeof l=="function"?l:n,Zd(wa(s,Qe),n,l)}),b$=ce(dp);function _$(s,l){return fy(s||[],l||[],pl)}function w$(s,l){return fy(s||[],l||[],yl)}var x$=ce(function(s){var l=s.length,h=l>1?s[l-1]:n;return h=typeof h=="function"?(s.pop(),h):n,Gy(s,h)});function Xy(s){var l=T(s);return l.__chain__=!0,l}function S$(s,l){return l(s),s}function Nc(s,l){return l(s)}var M$=Bi(function(s){var l=s.length,h=l?s[0]:0,m=this.__wrapped__,S=function(k){return Fd(k,s)};return l>1||this.__actions__.length||!(m instanceof me)||!Di(h)?this.thru(S):(m=m.slice(h,+h+(l?1:0)),m.__actions__.push({func:Nc,args:[S],thisArg:n}),new Ar(m,this.__chain__).thru(function(k){return l&&!k.length&&k.push(n),k}))});function T$(){return Xy(this)}function $$(){return new Ar(this.value(),this.__chain__)}function A$(){this.__values__===n&&(this.__values__=lb(this.value()));var s=this.__index__>=this.__values__.length,l=s?n:this.__values__[this.__index__++];return{done:s,value:l}}function k$(){return this}function E$(s){for(var l,h=this;h instanceof vc;){var m=Uy(h);m.__index__=0,m.__values__=n,l?S.__wrapped__=m:l=m;var S=m;h=h.__wrapped__}return S.__wrapped__=s,l}function C$(){var s=this.__wrapped__;if(s instanceof me){var l=s;return this.__actions__.length&&(l=new me(this)),l=l.reverse(),l.__actions__.push({func:Nc,args:[hp],thisArg:n}),new Ar(l,this.__chain__)}return this.thru(hp)}function N$(){return cy(this.__wrapped__,this.__actions__)}var P$=Sc(function(s,l,h){ke.call(s,h)?++s[h]:zi(s,h,1)});function L$(s,l,h){var m=ne(s)?Sm:ST;return h&&Fn(s,l,h)&&(l=n),m(s,Bt(l,3))}function I$(s,l){var h=ne(s)?wa:Gm;return h(s,Bt(l,3))}var O$=wy(Wy),R$=wy(qy);function z$(s,l){return xn(Pc(s,l),1)}function F$(s,l){return xn(Pc(s,l),B)}function B$(s,l,h){return h=h===n?1:se(h),xn(Pc(s,l),h)}function Ky(s,l){var h=ne(s)?Tr:Ta;return h(s,Bt(l,3))}function jy(s,l){var h=ne(s)?iM:Ym;return h(s,Bt(l,3))}var D$=Sc(function(s,l,h){ke.call(s,h)?s[h].push(l):zi(s,h,[l])});function U$(s,l,h,m){s=Gn(s)?s:yo(s),h=h&&!m?se(h):0;var S=s.length;return h<0&&(h=ln(S+h,0)),zc(s)?h<=S&&s.indexOf(l,h)>-1:!!S&&ao(s,l,h)>-1}var W$=ce(function(s,l,h){var m=-1,S=typeof l=="function",k=Gn(s)?st(s.length):[];return Ta(s,function(O){k[++m]=S?cr(l,O,h):vl(O,l,h)}),k}),q$=Sc(function(s,l,h){zi(s,h,l)});function Pc(s,l){var h=ne(s)?qe:Jm;return h(s,Bt(l,3))}function H$(s,l,h,m){return s==null?[]:(ne(l)||(l=l==null?[]:[l]),h=m?n:h,ne(h)||(h=h==null?[]:[h]),ry(s,l,h))}var V$=Sc(function(s,l,h){s[h?0:1].push(l)},function(){return[[],[]]});function Y$(s,l,h){var m=ne(s)?Td:Am,S=arguments.length<3;return m(s,Bt(l,4),h,S,Ta)}function G$(s,l,h){var m=ne(s)?aM:Am,S=arguments.length<3;return m(s,Bt(l,4),h,S,Ym)}function X$(s,l){var h=ne(s)?wa:Gm;return h(s,Oc(Bt(l,3)))}function K$(s){var l=ne(s)?Wm:UT;return l(s)}function j$(s,l,h){(h?Fn(s,l,h):l===n)?l=1:l=se(l);var m=ne(s)?yT:WT;return m(s,l)}function Z$(s){var l=ne(s)?bT:HT;return l(s)}function Q$(s){if(s==null)return 0;if(Gn(s))return zc(s)?oo(s):s.length;var l=$n(s);return l==vt||l==qt?s.size:Hd(s).length}function J$(s,l,h){var m=ne(s)?$d:VT;return h&&Fn(s,l,h)&&(l=n),m(s,Bt(l,3))}var tA=ce(function(s,l){if(s==null)return[];var h=l.length;return h>1&&Fn(s,l[0],l[1])?l=[]:h>2&&Fn(l[0],l[1],l[2])&&(l=[l[0]]),ry(s,xn(l,1),[])}),Lc=IM||function(){return wn.Date.now()};function eA(s,l){if(typeof l!="function")throw new $r(o);return s=se(s),function(){if(--s<1)return l.apply(this,arguments)}}function Zy(s,l,h){return l=h?n:l,l=s&&l==null?s.length:l,Fi(s,F,n,n,n,n,l)}function Qy(s,l){var h;if(typeof l!="function")throw new $r(o);return s=se(s),function(){return--s>0&&(h=l.apply(this,arguments)),s<=1&&(l=n),h}}var pp=ce(function(s,l,h){var m=w;if(h.length){var S=Sa(h,vo(pp));m|=P}return Fi(s,m,l,h,S)}),Jy=ce(function(s,l,h){var m=w|x;if(h.length){var S=Sa(h,vo(Jy));m|=P}return Fi(l,m,s,h,S)});function tb(s,l,h){l=h?n:l;var m=Fi(s,A,n,n,n,n,n,l);return m.placeholder=tb.placeholder,m}function eb(s,l,h){l=h?n:l;var m=Fi(s,$,n,n,n,n,n,l);return m.placeholder=eb.placeholder,m}function nb(s,l,h){var m,S,k,O,q,X,dt=0,pt=!1,yt=!1,$t=!0;if(typeof s!="function")throw new $r(o);l=Nr(l)||0,Ve(h)&&(pt=!!h.leading,yt="maxWait"in h,k=yt?ln(Nr(h.maxWait)||0,l):k,$t="trailing"in h?!!h.trailing:$t);function Rt(Je){var Vr=m,qi=S;return m=S=n,dt=Je,O=s.apply(qi,Vr),O}function Ut(Je){return dt=Je,q=wl(de,l),pt?Rt(Je):O}function le(Je){var Vr=Je-X,qi=Je-dt,wb=l-Vr;return yt?Tn(wb,k-qi):wb}function Wt(Je){var Vr=Je-X,qi=Je-dt;return X===n||Vr>=l||Vr<0||yt&&qi>=k}function de(){var Je=Lc();if(Wt(Je))return be(Je);q=wl(de,le(Je))}function be(Je){return q=n,$t&&m?Rt(Je):(m=S=n,O)}function pr(){q!==n&&hy(q),dt=0,m=X=S=q=n}function Bn(){return q===n?O:be(Lc())}function gr(){var Je=Lc(),Vr=Wt(Je);if(m=arguments,S=this,X=Je,Vr){if(q===n)return Ut(X);if(yt)return hy(q),q=wl(de,l),Rt(X)}return q===n&&(q=wl(de,l)),O}return gr.cancel=pr,gr.flush=Bn,gr}var nA=ce(function(s,l){return Vm(s,1,l)}),rA=ce(function(s,l,h){return Vm(s,Nr(l)||0,h)});function iA(s){return Fi(s,K)}function Ic(s,l){if(typeof s!="function"||l!=null&&typeof l!="function")throw new $r(o);var h=function(){var m=arguments,S=l?l.apply(this,m):m[0],k=h.cache;if(k.has(S))return k.get(S);var O=s.apply(this,m);return h.cache=k.set(S,O)||k,O};return h.cache=new(Ic.Cache||Ri),h}Ic.Cache=Ri;function Oc(s){if(typeof s!="function")throw new $r(o);return function(){var l=arguments;switch(l.length){case 0:return!s.call(this);case 1:return!s.call(this,l[0]);case 2:return!s.call(this,l[0],l[1]);case 3:return!s.call(this,l[0],l[1],l[2])}return!s.apply(this,l)}}function aA(s){return Qy(2,s)}var sA=YT(function(s,l){l=l.length==1&&ne(l[0])?qe(l[0],fr(Bt())):qe(xn(l,1),fr(Bt()));var h=l.length;return ce(function(m){for(var S=-1,k=Tn(m.length,h);++S<k;)m[S]=l[S].call(this,m[S]);return cr(s,this,m)})}),gp=ce(function(s,l){var h=Sa(l,vo(gp));return Fi(s,P,n,l,h)}),rb=ce(function(s,l){var h=Sa(l,vo(rb));return Fi(s,L,n,l,h)}),oA=Bi(function(s,l){return Fi(s,V,n,n,n,l)});function lA(s,l){if(typeof s!="function")throw new $r(o);return l=l===n?l:se(l),ce(s,l)}function uA(s,l){if(typeof s!="function")throw new $r(o);return l=l==null?0:ln(se(l),0),ce(function(h){var m=h[l],S=ka(h,0,l);return m&&xa(S,m),cr(s,this,S)})}function cA(s,l,h){var m=!0,S=!0;if(typeof s!="function")throw new $r(o);return Ve(h)&&(m="leading"in h?!!h.leading:m,S="trailing"in h?!!h.trailing:S),nb(s,l,{leading:m,maxWait:l,trailing:S})}function fA(s){return Zy(s,1)}function hA(s,l){return gp(Jd(l),s)}function dA(){if(!arguments.length)return[];var s=arguments[0];return ne(s)?s:[s]}function pA(s){return kr(s,y)}function gA(s,l){return l=typeof l=="function"?l:n,kr(s,y,l)}function vA(s){return kr(s,p|y)}function mA(s,l){return l=typeof l=="function"?l:n,kr(s,p|y,l)}function yA(s,l){return l==null||Hm(s,l,dn(l))}function Hr(s,l){return s===l||s!==s&&l!==l}var bA=Ac(Ud),_A=Ac(function(s,l){return s>=l}),fs=jm(function(){return arguments}())?jm:function(s){return Xe(s)&&ke.call(s,"callee")&&!Rm.call(s,"callee")},ne=st.isArray,wA=mm?fr(mm):ET;function Gn(s){return s!=null&&Rc(s.length)&&!Ui(s)}function Qe(s){return Xe(s)&&Gn(s)}function xA(s){return s===!0||s===!1||Xe(s)&&zn(s)==lt}var Ea=RM||$p,SA=ym?fr(ym):CT;function MA(s){return Xe(s)&&s.nodeType===1&&!xl(s)}function TA(s){if(s==null)return!0;if(Gn(s)&&(ne(s)||typeof s=="string"||typeof s.splice=="function"||Ea(s)||mo(s)||fs(s)))return!s.length;var l=$n(s);if(l==vt||l==qt)return!s.size;if(_l(s))return!Hd(s).length;for(var h in s)if(ke.call(s,h))return!1;return!0}function $A(s,l){return ml(s,l)}function AA(s,l,h){h=typeof h=="function"?h:n;var m=h?h(s,l):n;return m===n?ml(s,l,n,h):!!m}function vp(s){if(!Xe(s))return!1;var l=zn(s);return l==_t||l==ot||typeof s.message=="string"&&typeof s.name=="string"&&!xl(s)}function kA(s){return typeof s=="number"&&Fm(s)}function Ui(s){if(!Ve(s))return!1;var l=zn(s);return l==Q||l==At||l==rt||l==oe}function ib(s){return typeof s=="number"&&s==se(s)}function Rc(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=at}function Ve(s){var l=typeof s;return s!=null&&(l=="object"||l=="function")}function Xe(s){return s!=null&&typeof s=="object"}var ab=bm?fr(bm):PT;function EA(s,l){return s===l||qd(s,l,sp(l))}function CA(s,l,h){return h=typeof h=="function"?h:n,qd(s,l,sp(l),h)}function NA(s){return sb(s)&&s!=+s}function PA(s){if(g9(s))throw new Kt(a);return Zm(s)}function LA(s){return s===null}function IA(s){return s==null}function sb(s){return typeof s=="number"||Xe(s)&&zn(s)==St}function xl(s){if(!Xe(s)||zn(s)!=mt)return!1;var l=uc(s);if(l===null)return!0;var h=ke.call(l,"constructor")&&l.constructor;return typeof h=="function"&&h instanceof h&&ac.call(h)==CM}var mp=_m?fr(_m):LT;function OA(s){return ib(s)&&s>=-9007199254740991&&s<=at}var ob=wm?fr(wm):IT;function zc(s){return typeof s=="string"||!ne(s)&&Xe(s)&&zn(s)==Vt}function dr(s){return typeof s=="symbol"||Xe(s)&&zn(s)==Se}var mo=xm?fr(xm):OT;function RA(s){return s===n}function zA(s){return Xe(s)&&$n(s)==_e}function FA(s){return Xe(s)&&zn(s)==jt}var BA=Ac(Vd),DA=Ac(function(s,l){return s<=l});function lb(s){if(!s)return[];if(Gn(s))return zc(s)?Wr(s):Yn(s);if(ul&&s[ul])return yM(s[ul]());var l=$n(s),h=l==vt?Pd:l==qt?nc:yo;return h(s)}function Wi(s){if(!s)return s===0?s:0;if(s=Nr(s),s===B||s===-1/0){var l=s<0?-1:1;return l*Z}return s===s?s:0}function se(s){var l=Wi(s),h=l%1;return l===l?h?l-h:l:0}function ub(s){return s?os(se(s),0,E):0}function Nr(s){if(typeof s=="number")return s;if(dr(s))return I;if(Ve(s)){var l=typeof s.valueOf=="function"?s.valueOf():s;s=Ve(l)?l+"":l}if(typeof s!="string")return s===0?s:+s;s=km(s);var h=Ur.test(s);return h||ns.test(s)?eM(s.slice(2),h?2:8):pd.test(s)?I:+s}function cb(s){return ui(s,Xn(s))}function UA(s){return s?os(se(s),-9007199254740991,at):s===0?s:0}function $e(s){return s==null?"":hr(s)}var WA=po(function(s,l){if(_l(l)||Gn(l)){ui(l,dn(l),s);return}for(var h in l)ke.call(l,h)&&pl(s,h,l[h])}),fb=po(function(s,l){ui(l,Xn(l),s)}),Fc=po(function(s,l,h,m){ui(l,Xn(l),s,m)}),qA=po(function(s,l,h,m){ui(l,dn(l),s,m)}),HA=Bi(Fd);function VA(s,l){var h=ho(s);return l==null?h:qm(h,l)}var YA=ce(function(s,l){s=Le(s);var h=-1,m=l.length,S=m>2?l[2]:n;for(S&&Fn(l[0],l[1],S)&&(m=1);++h<m;)for(var k=l[h],O=Xn(k),q=-1,X=O.length;++q<X;){var dt=O[q],pt=s[dt];(pt===n||Hr(pt,uo[dt])&&!ke.call(s,dt))&&(s[dt]=k[dt])}return s}),GA=ce(function(s){return s.push(n,ky),cr(hb,n,s)});function XA(s,l){return Mm(s,Bt(l,3),li)}function KA(s,l){return Mm(s,Bt(l,3),Dd)}function jA(s,l){return s==null?s:Bd(s,Bt(l,3),Xn)}function ZA(s,l){return s==null?s:Xm(s,Bt(l,3),Xn)}function QA(s,l){return s&&li(s,Bt(l,3))}function JA(s,l){return s&&Dd(s,Bt(l,3))}function tk(s){return s==null?[]:bc(s,dn(s))}function ek(s){return s==null?[]:bc(s,Xn(s))}function yp(s,l,h){var m=s==null?n:ls(s,l);return m===n?h:m}function nk(s,l){return s!=null&&Ny(s,l,TT)}function bp(s,l){return s!=null&&Ny(s,l,$T)}var rk=Sy(function(s,l,h){l!=null&&typeof l.toString!="function"&&(l=sc.call(l)),s[l]=h},wp(Kn)),ik=Sy(function(s,l,h){l!=null&&typeof l.toString!="function"&&(l=sc.call(l)),ke.call(s,l)?s[l].push(h):s[l]=[h]},Bt),ak=ce(vl);function dn(s){return Gn(s)?Um(s):Hd(s)}function Xn(s){return Gn(s)?Um(s,!0):RT(s)}function sk(s,l){var h={};return l=Bt(l,3),li(s,function(m,S,k){zi(h,l(m,S,k),m)}),h}function ok(s,l){var h={};return l=Bt(l,3),li(s,function(m,S,k){zi(h,S,l(m,S,k))}),h}var lk=po(function(s,l,h){_c(s,l,h)}),hb=po(function(s,l,h,m){_c(s,l,h,m)}),uk=Bi(function(s,l){var h={};if(s==null)return h;var m=!1;l=qe(l,function(k){return k=Aa(k,s),m||(m=k.length>1),k}),ui(s,ip(s),h),m&&(h=kr(h,p|g|y,r9));for(var S=l.length;S--;)jd(h,l[S]);return h});function ck(s,l){return db(s,Oc(Bt(l)))}var fk=Bi(function(s,l){return s==null?{}:FT(s,l)});function db(s,l){if(s==null)return{};var h=qe(ip(s),function(m){return[m]});return l=Bt(l),iy(s,h,function(m,S){return l(m,S[0])})}function hk(s,l,h){l=Aa(l,s);var m=-1,S=l.length;for(S||(S=1,s=n);++m<S;){var k=s==null?n:s[ci(l[m])];k===n&&(m=S,k=h),s=Ui(k)?k.call(s):k}return s}function dk(s,l,h){return s==null?s:yl(s,l,h)}function pk(s,l,h,m){return m=typeof m=="function"?m:n,s==null?s:yl(s,l,h,m)}var pb=$y(dn),gb=$y(Xn);function gk(s,l,h){var m=ne(s),S=m||Ea(s)||mo(s);if(l=Bt(l,4),h==null){var k=s&&s.constructor;S?h=m?new k:[]:Ve(s)?h=Ui(k)?ho(uc(s)):{}:h={}}return(S?Tr:li)(s,function(O,q,X){return l(h,O,q,X)}),h}function vk(s,l){return s==null?!0:jd(s,l)}function mk(s,l,h){return s==null?s:uy(s,l,Jd(h))}function yk(s,l,h,m){return m=typeof m=="function"?m:n,s==null?s:uy(s,l,Jd(h),m)}function yo(s){return s==null?[]:Nd(s,dn(s))}function bk(s){return s==null?[]:Nd(s,Xn(s))}function _k(s,l,h){return h===n&&(h=l,l=n),h!==n&&(h=Nr(h),h=h===h?h:0),l!==n&&(l=Nr(l),l=l===l?l:0),os(Nr(s),l,h)}function wk(s,l,h){return l=Wi(l),h===n?(h=l,l=0):h=Wi(h),s=Nr(s),AT(s,l,h)}function xk(s,l,h){if(h&&typeof h!="boolean"&&Fn(s,l,h)&&(l=h=n),h===n&&(typeof l=="boolean"?(h=l,l=n):typeof s=="boolean"&&(h=s,s=n)),s===n&&l===n?(s=0,l=1):(s=Wi(s),l===n?(l=s,s=0):l=Wi(l)),s>l){var m=s;s=l,l=m}if(h||s%1||l%1){var S=Bm();return Tn(s+S*(l-s+tM("1e-"+((S+"").length-1))),l)}return Gd(s,l)}var Sk=go(function(s,l,h){return l=l.toLowerCase(),s+(h?vb(l):l)});function vb(s){return _p($e(s).toLowerCase())}function mb(s){return s=$e(s),s&&s.replace(Qu,dM).replace(H7,"")}function Mk(s,l,h){s=$e(s),l=hr(l);var m=s.length;h=h===n?m:os(se(h),0,m);var S=h;return h-=l.length,h>=0&&s.slice(h,S)==l}function Tk(s){return s=$e(s),s&&te.test(s)?s.replace(ge,pM):s}function $k(s){return s=$e(s),s&&sl.test(s)?s.replace(Ii,"\\$&"):s}var Ak=go(function(s,l,h){return s+(h?"-":"")+l.toLowerCase()}),kk=go(function(s,l,h){return s+(h?" ":"")+l.toLowerCase()}),Ek=_y("toLowerCase");function Ck(s,l,h){s=$e(s),l=se(l);var m=l?oo(s):0;if(!l||m>=l)return s;var S=(l-m)/2;return $c(dc(S),h)+s+$c(hc(S),h)}function Nk(s,l,h){s=$e(s),l=se(l);var m=l?oo(s):0;return l&&m<l?s+$c(l-m,h):s}function Pk(s,l,h){s=$e(s),l=se(l);var m=l?oo(s):0;return l&&m<l?$c(l-m,h)+s:s}function Lk(s,l,h){return h||l==null?l=0:l&&(l=+l),DM($e(s).replace(ma,""),l||0)}function Ik(s,l,h){return(h?Fn(s,l,h):l===n)?l=1:l=se(l),Xd($e(s),l)}function Ok(){var s=arguments,l=$e(s[0]);return s.length<3?l:l.replace(s[1],s[2])}var Rk=go(function(s,l,h){return s+(h?"_":"")+l.toLowerCase()});function zk(s,l,h){return h&&typeof h!="number"&&Fn(s,l,h)&&(l=h=n),h=h===n?E:h>>>0,h?(s=$e(s),s&&(typeof l=="string"||l!=null&&!mp(l))&&(l=hr(l),!l&&so(s))?ka(Wr(s),0,h):s.split(l,h)):[]}var Fk=go(function(s,l,h){return s+(h?" ":"")+_p(l)});function Bk(s,l,h){return s=$e(s),h=h==null?0:os(se(h),0,s.length),l=hr(l),s.slice(h,h+l.length)==l}function Dk(s,l,h){var m=T.templateSettings;h&&Fn(s,l,h)&&(l=n),s=$e(s),l=Fc({},l,m,Ay);var S=Fc({},l.imports,m.imports,Ay),k=dn(S),O=Nd(S,k),q,X,dt=0,pt=l.interpolate||no,yt="__p += '",$t=Ld((l.escape||no).source+"|"+pt.source+"|"+(pt===Te?ba:no).source+"|"+(l.evaluate||no).source+"|$","g"),Rt="//# sourceURL="+(ke.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++K7+"]")+`
`;s.replace($t,function(Wt,de,be,pr,Bn,gr){return be||(be=pr),yt+=s.slice(dt,gr).replace(gd,gM),de&&(q=!0,yt+=`' +
__e(`+de+`) +
'`),Bn&&(X=!0,yt+=`';
`+Bn+`;
__p += '`),be&&(yt+=`' +
((__t = (`+be+`)) == null ? '' : __t) +
'`),dt=gr+Wt.length,Wt}),yt+=`';
`;var Ut=ke.call(l,"variable")&&l.variable;if(!Ut)yt=`with (obj) {
`+yt+`
}
`;else if(ya.test(Ut))throw new Kt(u);yt=(X?yt.replace(It,""):yt).replace(Dt,"$1").replace(ye,"$1;"),yt="function("+(Ut||"obj")+`) {
`+(Ut?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(q?", __e = _.escape":"")+(X?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+yt+`return __p
}`;var le=bb(function(){return Me(k,Rt+"return "+yt).apply(n,O)});if(le.source=yt,vp(le))throw le;return le}function Uk(s){return $e(s).toLowerCase()}function Wk(s){return $e(s).toUpperCase()}function qk(s,l,h){if(s=$e(s),s&&(h||l===n))return km(s);if(!s||!(l=hr(l)))return s;var m=Wr(s),S=Wr(l),k=Em(m,S),O=Cm(m,S)+1;return ka(m,k,O).join("")}function Hk(s,l,h){if(s=$e(s),s&&(h||l===n))return s.slice(0,Pm(s)+1);if(!s||!(l=hr(l)))return s;var m=Wr(s),S=Cm(m,Wr(l))+1;return ka(m,0,S).join("")}function Vk(s,l,h){if(s=$e(s),s&&(h||l===n))return s.replace(ma,"");if(!s||!(l=hr(l)))return s;var m=Wr(s),S=Em(m,Wr(l));return ka(m,S).join("")}function Yk(s,l){var h=W,m=R;if(Ve(l)){var S="separator"in l?l.separator:S;h="length"in l?se(l.length):h,m="omission"in l?hr(l.omission):m}s=$e(s);var k=s.length;if(so(s)){var O=Wr(s);k=O.length}if(h>=k)return s;var q=h-oo(m);if(q<1)return m;var X=O?ka(O,0,q).join(""):s.slice(0,q);if(S===n)return X+m;if(O&&(q+=X.length-q),mp(S)){if(s.slice(q).search(S)){var dt,pt=X;for(S.global||(S=Ld(S.source,$e(to.exec(S))+"g")),S.lastIndex=0;dt=S.exec(pt);)var yt=dt.index;X=X.slice(0,yt===n?q:yt)}}else if(s.indexOf(hr(S),q)!=q){var $t=X.lastIndexOf(S);$t>-1&&(X=X.slice(0,$t))}return X+m}function Gk(s){return s=$e(s),s&&Xt.test(s)?s.replace(Jt,xM):s}var Xk=go(function(s,l,h){return s+(h?" ":"")+l.toUpperCase()}),_p=_y("toUpperCase");function yb(s,l,h){return s=$e(s),l=h?n:l,l===n?mM(s)?TM(s):lM(s):s.match(l)||[]}var bb=ce(function(s,l){try{return cr(s,n,l)}catch(h){return vp(h)?h:new Kt(h)}}),Kk=Bi(function(s,l){return Tr(l,function(h){h=ci(h),zi(s,h,pp(s[h],s))}),s});function jk(s){var l=s==null?0:s.length,h=Bt();return s=l?qe(s,function(m){if(typeof m[1]!="function")throw new $r(o);return[h(m[0]),m[1]]}):[],ce(function(m){for(var S=-1;++S<l;){var k=s[S];if(cr(k[0],this,m))return cr(k[1],this,m)}})}function Zk(s){return xT(kr(s,p))}function wp(s){return function(){return s}}function Qk(s,l){return s==null||s!==s?l:s}var Jk=xy(),tE=xy(!0);function Kn(s){return s}function xp(s){return Qm(typeof s=="function"?s:kr(s,p))}function eE(s){return ty(kr(s,p))}function nE(s,l){return ey(s,kr(l,p))}var rE=ce(function(s,l){return function(h){return vl(h,s,l)}}),iE=ce(function(s,l){return function(h){return vl(s,h,l)}});function Sp(s,l,h){var m=dn(l),S=bc(l,m);h==null&&!(Ve(l)&&(S.length||!m.length))&&(h=l,l=s,s=this,S=bc(l,dn(l)));var k=!(Ve(h)&&"chain"in h)||!!h.chain,O=Ui(s);return Tr(S,function(q){var X=l[q];s[q]=X,O&&(s.prototype[q]=function(){var dt=this.__chain__;if(k||dt){var pt=s(this.__wrapped__),yt=pt.__actions__=Yn(this.__actions__);return yt.push({func:X,args:arguments,thisArg:s}),pt.__chain__=dt,pt}return X.apply(s,xa([this.value()],arguments))})}),s}function aE(){return wn._===this&&(wn._=NM),this}function Mp(){}function sE(s){return s=se(s),ce(function(l){return ny(l,s)})}var oE=ep(qe),lE=ep(Sm),uE=ep($d);function _b(s){return lp(s)?Ad(ci(s)):BT(s)}function cE(s){return function(l){return s==null?n:ls(s,l)}}var fE=My(),hE=My(!0);function Tp(){return[]}function $p(){return!1}function dE(){return{}}function pE(){return""}function gE(){return!0}function vE(s,l){if(s=se(s),s<1||s>at)return[];var h=E,m=Tn(s,E);l=Bt(l),s-=E;for(var S=Cd(m,l);++h<s;)l(h);return S}function mE(s){return ne(s)?qe(s,ci):dr(s)?[s]:Yn(Dy($e(s)))}function yE(s){var l=++EM;return $e(s)+l}var bE=Tc(function(s,l){return s+l},0),_E=np("ceil"),wE=Tc(function(s,l){return s/l},1),xE=np("floor");function SE(s){return s&&s.length?yc(s,Kn,Ud):n}function ME(s,l){return s&&s.length?yc(s,Bt(l,2),Ud):n}function TE(s){return $m(s,Kn)}function $E(s,l){return $m(s,Bt(l,2))}function AE(s){return s&&s.length?yc(s,Kn,Vd):n}function kE(s,l){return s&&s.length?yc(s,Bt(l,2),Vd):n}var EE=Tc(function(s,l){return s*l},1),CE=np("round"),NE=Tc(function(s,l){return s-l},0);function PE(s){return s&&s.length?Ed(s,Kn):0}function LE(s,l){return s&&s.length?Ed(s,Bt(l,2)):0}return T.after=eA,T.ary=Zy,T.assign=WA,T.assignIn=fb,T.assignInWith=Fc,T.assignWith=qA,T.at=HA,T.before=Qy,T.bind=pp,T.bindAll=Kk,T.bindKey=Jy,T.castArray=dA,T.chain=Xy,T.chunk=x9,T.compact=S9,T.concat=M9,T.cond=jk,T.conforms=Zk,T.constant=wp,T.countBy=P$,T.create=VA,T.curry=tb,T.curryRight=eb,T.debounce=nb,T.defaults=YA,T.defaultsDeep=GA,T.defer=nA,T.delay=rA,T.difference=T9,T.differenceBy=$9,T.differenceWith=A9,T.drop=k9,T.dropRight=E9,T.dropRightWhile=C9,T.dropWhile=N9,T.fill=P9,T.filter=I$,T.flatMap=z$,T.flatMapDeep=F$,T.flatMapDepth=B$,T.flatten=Hy,T.flattenDeep=L9,T.flattenDepth=I9,T.flip=iA,T.flow=Jk,T.flowRight=tE,T.fromPairs=O9,T.functions=tk,T.functionsIn=ek,T.groupBy=D$,T.initial=z9,T.intersection=F9,T.intersectionBy=B9,T.intersectionWith=D9,T.invert=rk,T.invertBy=ik,T.invokeMap=W$,T.iteratee=xp,T.keyBy=q$,T.keys=dn,T.keysIn=Xn,T.map=Pc,T.mapKeys=sk,T.mapValues=ok,T.matches=eE,T.matchesProperty=nE,T.memoize=Ic,T.merge=lk,T.mergeWith=hb,T.method=rE,T.methodOf=iE,T.mixin=Sp,T.negate=Oc,T.nthArg=sE,T.omit=uk,T.omitBy=ck,T.once=aA,T.orderBy=H$,T.over=oE,T.overArgs=sA,T.overEvery=lE,T.overSome=uE,T.partial=gp,T.partialRight=rb,T.partition=V$,T.pick=fk,T.pickBy=db,T.property=_b,T.propertyOf=cE,T.pull=H9,T.pullAll=Yy,T.pullAllBy=V9,T.pullAllWith=Y9,T.pullAt=G9,T.range=fE,T.rangeRight=hE,T.rearg=oA,T.reject=X$,T.remove=X9,T.rest=lA,T.reverse=hp,T.sampleSize=j$,T.set=dk,T.setWith=pk,T.shuffle=Z$,T.slice=K9,T.sortBy=tA,T.sortedUniq=n$,T.sortedUniqBy=r$,T.split=zk,T.spread=uA,T.tail=i$,T.take=a$,T.takeRight=s$,T.takeRightWhile=o$,T.takeWhile=l$,T.tap=S$,T.throttle=cA,T.thru=Nc,T.toArray=lb,T.toPairs=pb,T.toPairsIn=gb,T.toPath=mE,T.toPlainObject=cb,T.transform=gk,T.unary=fA,T.union=u$,T.unionBy=c$,T.unionWith=f$,T.uniq=h$,T.uniqBy=d$,T.uniqWith=p$,T.unset=vk,T.unzip=dp,T.unzipWith=Gy,T.update=mk,T.updateWith=yk,T.values=yo,T.valuesIn=bk,T.without=g$,T.words=yb,T.wrap=hA,T.xor=v$,T.xorBy=m$,T.xorWith=y$,T.zip=b$,T.zipObject=_$,T.zipObjectDeep=w$,T.zipWith=x$,T.entries=pb,T.entriesIn=gb,T.extend=fb,T.extendWith=Fc,Sp(T,T),T.add=bE,T.attempt=bb,T.camelCase=Sk,T.capitalize=vb,T.ceil=_E,T.clamp=_k,T.clone=pA,T.cloneDeep=vA,T.cloneDeepWith=mA,T.cloneWith=gA,T.conformsTo=yA,T.deburr=mb,T.defaultTo=Qk,T.divide=wE,T.endsWith=Mk,T.eq=Hr,T.escape=Tk,T.escapeRegExp=$k,T.every=L$,T.find=O$,T.findIndex=Wy,T.findKey=XA,T.findLast=R$,T.findLastIndex=qy,T.findLastKey=KA,T.floor=xE,T.forEach=Ky,T.forEachRight=jy,T.forIn=jA,T.forInRight=ZA,T.forOwn=QA,T.forOwnRight=JA,T.get=yp,T.gt=bA,T.gte=_A,T.has=nk,T.hasIn=bp,T.head=Vy,T.identity=Kn,T.includes=U$,T.indexOf=R9,T.inRange=wk,T.invoke=ak,T.isArguments=fs,T.isArray=ne,T.isArrayBuffer=wA,T.isArrayLike=Gn,T.isArrayLikeObject=Qe,T.isBoolean=xA,T.isBuffer=Ea,T.isDate=SA,T.isElement=MA,T.isEmpty=TA,T.isEqual=$A,T.isEqualWith=AA,T.isError=vp,T.isFinite=kA,T.isFunction=Ui,T.isInteger=ib,T.isLength=Rc,T.isMap=ab,T.isMatch=EA,T.isMatchWith=CA,T.isNaN=NA,T.isNative=PA,T.isNil=IA,T.isNull=LA,T.isNumber=sb,T.isObject=Ve,T.isObjectLike=Xe,T.isPlainObject=xl,T.isRegExp=mp,T.isSafeInteger=OA,T.isSet=ob,T.isString=zc,T.isSymbol=dr,T.isTypedArray=mo,T.isUndefined=RA,T.isWeakMap=zA,T.isWeakSet=FA,T.join=U9,T.kebabCase=Ak,T.last=Cr,T.lastIndexOf=W9,T.lowerCase=kk,T.lowerFirst=Ek,T.lt=BA,T.lte=DA,T.max=SE,T.maxBy=ME,T.mean=TE,T.meanBy=$E,T.min=AE,T.minBy=kE,T.stubArray=Tp,T.stubFalse=$p,T.stubObject=dE,T.stubString=pE,T.stubTrue=gE,T.multiply=EE,T.nth=q9,T.noConflict=aE,T.noop=Mp,T.now=Lc,T.pad=Ck,T.padEnd=Nk,T.padStart=Pk,T.parseInt=Lk,T.random=xk,T.reduce=Y$,T.reduceRight=G$,T.repeat=Ik,T.replace=Ok,T.result=hk,T.round=CE,T.runInContext=G,T.sample=K$,T.size=Q$,T.snakeCase=Rk,T.some=J$,T.sortedIndex=j9,T.sortedIndexBy=Z9,T.sortedIndexOf=Q9,T.sortedLastIndex=J9,T.sortedLastIndexBy=t$,T.sortedLastIndexOf=e$,T.startCase=Fk,T.startsWith=Bk,T.subtract=NE,T.sum=PE,T.sumBy=LE,T.template=Dk,T.times=vE,T.toFinite=Wi,T.toInteger=se,T.toLength=ub,T.toLower=Uk,T.toNumber=Nr,T.toSafeInteger=UA,T.toString=$e,T.toUpper=Wk,T.trim=qk,T.trimEnd=Hk,T.trimStart=Vk,T.truncate=Yk,T.unescape=Gk,T.uniqueId=yE,T.upperCase=Xk,T.upperFirst=_p,T.each=Ky,T.eachRight=jy,T.first=Vy,Sp(T,function(){var s={};return li(T,function(l,h){ke.call(T.prototype,h)||(s[h]=l)}),s}(),{chain:!1}),T.VERSION=r,Tr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){T[s].placeholder=T}),Tr(["drop","take"],function(s,l){me.prototype[s]=function(h){h=h===n?1:ln(se(h),0);var m=this.__filtered__&&!l?new me(this):this.clone();return m.__filtered__?m.__takeCount__=Tn(h,m.__takeCount__):m.__views__.push({size:Tn(h,E),type:s+(m.__dir__<0?"Right":"")}),m},me.prototype[s+"Right"]=function(h){return this.reverse()[s](h).reverse()}}),Tr(["filter","map","takeWhile"],function(s,l){var h=l+1,m=h==C||h==U;me.prototype[s]=function(S){var k=this.clone();return k.__iteratees__.push({iteratee:Bt(S,3),type:h}),k.__filtered__=k.__filtered__||m,k}}),Tr(["head","last"],function(s,l){var h="take"+(l?"Right":"");me.prototype[s]=function(){return this[h](1).value()[0]}}),Tr(["initial","tail"],function(s,l){var h="drop"+(l?"":"Right");me.prototype[s]=function(){return this.__filtered__?new me(this):this[h](1)}}),me.prototype.compact=function(){return this.filter(Kn)},me.prototype.find=function(s){return this.filter(s).head()},me.prototype.findLast=function(s){return this.reverse().find(s)},me.prototype.invokeMap=ce(function(s,l){return typeof s=="function"?new me(this):this.map(function(h){return vl(h,s,l)})}),me.prototype.reject=function(s){return this.filter(Oc(Bt(s)))},me.prototype.slice=function(s,l){s=se(s);var h=this;return h.__filtered__&&(s>0||l<0)?new me(h):(s<0?h=h.takeRight(-s):s&&(h=h.drop(s)),l!==n&&(l=se(l),h=l<0?h.dropRight(-l):h.take(l-s)),h)},me.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},me.prototype.toArray=function(){return this.take(E)},li(me.prototype,function(s,l){var h=/^(?:filter|find|map|reject)|While$/.test(l),m=/^(?:head|last)$/.test(l),S=T[m?"take"+(l=="last"?"Right":""):l],k=m||/^find/.test(l);S&&(T.prototype[l]=function(){var O=this.__wrapped__,q=m?[1]:arguments,X=O instanceof me,dt=q[0],pt=X||ne(O),yt=function(de){var be=S.apply(T,xa([de],q));return m&&$t?be[0]:be};pt&&h&&typeof dt=="function"&&dt.length!=1&&(X=pt=!1);var $t=this.__chain__,Rt=!!this.__actions__.length,Ut=k&&!$t,le=X&&!Rt;if(!k&&pt){O=le?O:new me(this);var Wt=s.apply(O,q);return Wt.__actions__.push({func:Nc,args:[yt],thisArg:n}),new Ar(Wt,$t)}return Ut&&le?s.apply(this,q):(Wt=this.thru(yt),Ut?m?Wt.value()[0]:Wt.value():Wt)})}),Tr(["pop","push","shift","sort","splice","unshift"],function(s){var l=rc[s],h=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",m=/^(?:pop|shift)$/.test(s);T.prototype[s]=function(){var S=arguments;if(m&&!this.__chain__){var k=this.value();return l.apply(ne(k)?k:[],S)}return this[h](function(O){return l.apply(ne(O)?O:[],S)})}}),li(me.prototype,function(s,l){var h=T[l];if(h){var m=h.name+"";ke.call(fo,m)||(fo[m]=[]),fo[m].push({name:l,func:h})}}),fo[Mc(n,x).name]=[{name:"wrapper",func:n}],me.prototype.clone=GM,me.prototype.reverse=XM,me.prototype.value=KM,T.prototype.at=M$,T.prototype.chain=T$,T.prototype.commit=$$,T.prototype.next=A$,T.prototype.plant=E$,T.prototype.reverse=C$,T.prototype.toJSON=T.prototype.valueOf=T.prototype.value=N$,T.prototype.first=T.prototype.head,ul&&(T.prototype[ul]=k$),T},lo=$M();rs?((rs.exports=lo)._=lo,xd._=lo):wn._=lo}).call(iZ)}(Wl,Wl.exports)),Wl.exports}var sZ=aZ();function b7(t,e,n){let r=[t],i=[],a,o,u;for(;t=r.pop();)if(!(n&&n(t))&&(i.push(t),a=t.children,a))for(o=0,u=a.length;o<u;++o)r.push(a[o]);for(;t=i.pop();)e(t);return t}function oZ(t,e,n){let r=[t],i,a;for(;t=r.pop();)if(!(n&&n(t))&&(e(t),i=t.children,i))for(a=i.length-1;a>=0;--a)r.push(i[a]);return t}function lZ(t,e,n){let r,i=[t],a,o,u;do for(r=i.reverse(),i=[];t=r.pop();)if(!(n&&n(t))&&(e(t),a=t.children,a))for(o=0,u=a.length;o<u;++o)i.push(a[o]);while(i.length);return t}function uZ(t){return b7(t,function(r){r.children&&(r.children[0].data.multiway_parent=r,r.children[1].data.multiway_parent=r.parent)}),sZ.map(t.descendants(),r=>{let i=r.data.multiway_parent,a="unknown";return i&&(a=i.data.name),{source:r.data.multiway_parent,target:r,name:a}})}function cZ(){let t=this.branch_length;return t?Dg(this.nodes.descendants(),function(e){return!e.parent||!Is(t(e))}):!1}function fZ(){let t=this.branch_length;return qn(this.nodes.descendants(),e=>t(e))}function Yg(t,e){let n=t.data;if("attribute"in n&&n.attribute&&n.attribute.length){e>0&&(n.attribute=String(e));let r=parseFloat(n.attribute);if(!isNaN(r))return Math.max(0,r)}if(n.name=="root")return 0;console.warn("Undefined branch length at "+n.name+"!")}function hZ(t){return arguments.length?(this.branch_length_accessor=t||Yg,this):this.branch_length_accessor}function dZ(t){let e=this.branch_length,n=qn(this.nodes.descendants(),function(o){return e(o)?e(o):null});const r=B1(n),i=n7(n);let a=function(o){return(o-i)/(r-i)};return lr(this.nodes.descendants(),o=>{let u=e(o);u&&e(o,a(u))}),this}function pZ(t){let e=this.branch_length;return lr(this.nodes.descendants(),n=>{let r=e(n);r&&e(n,t(r))}),this}function gZ(t){return arguments.length?(this.nodeLabel=t,this):this.nodeLabel}function vZ(t,e){if(!(t instanceof _s))throw new Error("node needs to be an instance of a d3.hierarchy node!");let n=this.nodes.copy();if(e=e!==void 0?e:.5,t.parent){var r=_s({name:"new_root"});r.children=[t.copy()],r.data.__mapped_bl=void 0,n.each(f=>{f.data.__mapped_bl=this.branch_length_accessor(f)}),this.setBranchLength(f=>f.data.__mapped_bl);let a=t,o=t.parent,u=void 0,c=t.data.__mapped_bl===void 0?void 0:t.data.__mapped_bl*e;u=o.data.__mapped_bl,o.data.__mapped_bl=t.data.__mapped_bl===void 0?void 0:t.data.__mapped_bl-c,t.data.__mapped_bl=c;var i;if(o.parent){for(r.children.push(o);o.parent;){i=o.children.indexOf(a),o.parent.parent?o.children.splice(i,1,o.parent):o.children.splice(i,1);let f=o.parent.data.__mapped_bl;f!==void 0&&(o.parent.data.__mapped_bl=u,u=f),a=o,o=o.parent}i=o.children.indexOf(a),o.children.splice(i,1)}else i=o.children.indexOf(a),o.children.splice(i,1),u=o.data.__mapped_bl,a=r;if(o.children.length==1)u&&(o.children[0].data.__mapped_bl+=u),a.children=a.children.concat(o.children);else{let f=new _s({name:"__reroot_top_clade",__mapped_bl:u});mu(r.children[0],t),f.data.__mapped_bl=u,f.children=o.children.map(function(d){return d.parent=f,d}),f.parent=a,a.children.push(f)}}if(this.update(r),this.traverse_and_compute(a=>{lr(a.children,o=>{o.parent=a})},"pre-order"),!Is(this.display)){let a=this.display.options;we(this.display.container).select("svg").remove();let o=this.display.selection_attribute_name;delete this.display;let u=this.render(a);u.selectionLabel(o),u.update(),we(u.container).node().appendChild(u.show()),we(this.display.container).dispatch("reroot")}return this}function mZ(t,e){if(t=t||"attribute",e=e||"y_scaled","parent"in this){let n=parseFloat(this[t]);this[e]=this.parent[e]+(isNaN(n)?.1:n)}else this[e]=0;return this[e]}function yZ(t){let e=[];for(;t;)e.push(t),t=t.parent;return e}const bZ=Object.freeze(Object.defineProperty({__proto__:null,pathToRoot:yZ,reroot:vZ,rootpath:mZ},Symbol.toStringTag,{value:"Module"}));function oa(t){return t.y}function Ss(t){return t.x}function dh(t,e,n){return{x:n+t*Math.sin(e),y:n+t*Math.cos(e)}}function Aw(t,e,n,r,i,a){t.radius=e*(t.radius+n),t.angle=2*Math.PI*t.x*i[0]/a[0];let o=dh(t.radius,t.angle,r);return t.x=o.x,t.y=o.y,t}function kw(t,e){var n=dh(e[0].radius,e[0].angle,t),r=dh(e[0].radius,e[1].angle,t);return"M "+oa(n)+","+Ss(n)+" A "+e[0].radius+","+e[0].radius+" 0,0, "+(e[1].angle>e[0].angle?1:0)+" "+oa(r)+","+Ss(r)+" L "+oa(e[1])+","+Ss(e[1])}function _Z(t,e,n){var r=dh(t.target.radius+(t.source.radius-t.target.radius)*e,t.target.angle,n);return{x:oa(r),y:Ss(r)}}var Ew=ou().x(function(t){return oa(t)}).y(function(t){return Ss(t)}).curve(o4);function Cw(t,e){return{x:oa(t.target)+(oa(t.source)-oa(t.target))*e,y:Ss(t.target)}}function H1(t){return t.tag||!1}function V1(t,e){return t[e]||!1}const Ne={"tree-container":"phylotree-container","tree-scale-bar":"tree-scale-bar",node:"node","internal-node":"internal-node","tagged-node":"node-tagged","selected-node":"node-selected","collapsed-node":"node-collapsed","root-node":"root-node",branch:"branch","selected-branch":"branch-selected","tagged-branch":"branch-tagged","tree-selection-brush":"tree-selection-brush","branch-tracer":"branch-tracer",clade:"clade",node_text:"phylotree-node-text"};function _7(t={}){Object.keys(t).forEach(e=>{Ne[e]=t[e]})}function wZ(t){return arguments.length?(this.options["internal-names"]=t,this):this.options["internal-names"]}function xZ(t){return arguments.length?(this.options["is-radial"]=t,this):this.options["is-radial"]}function SZ(t){return arguments.length?(this.options["align-tips"]=t,this):this.options["align-tips"]}function MZ(t){return this.options["draw-size-bubbles"]&&this.options["bubble-styler"]?this.options["bubble-styler"](t):this.options["draw-size-bubbles"]?this.relative_nodeSpan(t)*this.scales[0]*.25:0}function TZ(t){return this.options["is-radial"]?[(t.text_align=="end"?-1:1)*(this.radius_pad_for_bubbles-t.radius),0]:this.options["right-to-left"]?[this.right_most_leaf-t.screen_x,0]:[this.right_most_leaf-t.screen_x,0]}function $Z(t){return arguments.length?(this.layout_listener_handler=t,this):this.layout_listener_handler}function AZ(t){return arguments.length?(this.selection_attribute_name=t,this.syncEdgeLabels(),this):this.selection_attribute_name}function _f(t){return arguments.length?(typeof t=="string"&&t=="equal"?_f=function(e){return 1}:_f=t,this):_f}var Gg={all:t=>!0,none:t=>!1,"all-leaf-nodes":t=>He(t.target),"all-internal-nodes":t=>!He(t.target)};function kZ(t){return t?(this._selectionCallback=t,this):this._selectionCallback}const EZ=Object.freeze(Object.defineProperty({__proto__:null,alignTips:SZ,css_classes:Ne,initializeCssClasses:_7,internalNames:wZ,layoutHandler:$Z,nodeBubbleSize:MZ,get nodeSpan(){return _f},predefined_selecters:Gg,radial:xZ,selectionCallback:kZ,selectionLabel:AZ,shiftTip:TZ},Symbol.toStringTag,{value:"Module"}));function CZ(t){return this.radial()?[(t.text_align=="end"?-1:1)*(this.radius_pad_for_bubbles-t.radius),0]:this.options["right-to-left"]?[this.right_most_leaf-t.screen_x,0]:[this.right_most_leaf-t.screen_x,0]}function NZ(t,e,n){t=we(t);var r=He(e);r&&(t=t.attr("data-node-name",e.data.name));var i=t.selectAll("text").data([e]),a=t.selectAll("line");if(r||this.showInternalName(e)&&!Os(e))if(i=i.enter().append("text").classed(this.css_classes.node_text,!0).merge(i).on("click",u=>{this.handle_node_click(e,u)}).attr("dy",u=>this.shown_font_size*.33).text(u=>this.options["show-labels"]?this._nodeLabel(u):"").style("font-size",u=>this.ensure_size_is_in_px(this.shown_font_size)),this.radial()?i=i.attr("transform",u=>this.d3PhylotreeSvgRotate(u.text_angle)+this.d3PhylotreeSvgTranslate(this.alignTips()?this.shiftTip(u):null)).attr("text-anchor",u=>u.text_align):i=i.attr("text-anchor","start").attr("transform",u=>this.options.layout=="right-to-left"?this.d3PhylotreeSvgTranslate([-20,0]):this.d3PhylotreeSvgTranslate(this.alignTips()?this.shiftTip(u):null)),this.alignTips()?(a=a.data([e]),n?a=a.enter().append("line").classed(this.css_classes["branch-tracer"],!0).merge(a).attr("x1",u=>(u.text_align=="end"?-1:1)*this.nodeBubbleSize(e)).attr("x2",0).attr("y1",0).attr("y2",0).attr("x2",u=>this.options.layout=="right-to-left"?u.screen_x:this.shiftTip(u)[0]).attr("transform",u=>this.d3PhylotreeSvgRotate(u.text_angle)).attr("x2",u=>this.options.layout=="right-to-left"?u.screen_x:this.shiftTip(u)[0]).attr("transform",u=>this.d3PhylotreeSvgRotate(u.text_angle)):(a=a.enter().append("line").classed(this.css_classes["branch-tracer"],!0).merge(a).attr("x1",u=>(u.text_align=="end"?-1:1)*this.nodeBubbleSize(e)).attr("y2",0).attr("y1",0).attr("x2",u=>this.shiftTip(u)[0]),a.attr("transform",u=>this.d3PhylotreeSvgRotate(u.text_angle)))):a.remove(),this.options["draw-size-bubbles"]){var o=this.nodeBubbleSize(e);t.selectAll("circle").data([o]).enter().append("circle").attr("r",function(c){return c}),this.shown_font_size>=5&&(i=i.attr("dx",c=>(c.text_align=="end"?-1:1)*((this.alignTips()?0:o)+this.shown_font_size*.33)))}else this.shown_font_size>=5&&(i=i.attr("dx",u=>(u.text_align=="end"?-1:1)*this.shown_font_size*.33));if(!r){let u=t.selectAll("circle").data([e]).enter().append("circle"),c=this.node_circle_size()(e);c>0?u.merge(u).attr("r",f=>Math.min(this.shown_font_size*.75,c)).on("click",f=>{this.handle_node_click(e,f)}):u.remove()}return this.node_styler&&this.node_styler(t,e),e}function PZ(){let t=this.phylotree.nodes.descendants();for(let e=t.length-1;e>=0;e-=1)He(t[e])?t[e].hasHiddenNodes=t[e].notshown:t[e].hasHiddenNodes=t[e].children.reduce(function(n,r){return r.notshown||n},!1);return this}function LZ(t){const e=this.internalNames();return e?typeof e=="function"?e(t):e:!1}function IZ(t){return arguments.length?(typeof t=="string"&&t=="equal"?this.nodeSpan=function(e){return 1}:this.nodeSpan=t,this):this.nodeSpan}function OZ(t){let e=Ne[He(t)?"node":"internal-node"];return H1(t)&&(e+=" "+Ne["tagged-node"]),V1(t,this.selection_attribute_name)&&(e+=" "+Ne["selected-node"]),t.parent||(e+=" "+Ne["root-node"]),(Os(t)||Y1(t))&&(e+=" "+Ne["collapsed-node"]),e}function Xg(t){return!(t.hidden||t.notshown)}function w7(t){return t.notshown}function Y1(t){return t.hasHiddenNodes||!1}function Os(t){return t.collapsed||!1}function x7(t){return[t.node,t["internal-node"],t["collapsed-node"],t["tagged-node"],t["root-node"]].reduce(function(e,n,r,i){return e+="g."+n+(r<i.length-1?",":"")},"")}function RZ(t,e){this.phylotree.clearInternalNodes(e);for(var n=this.phylotree.nodes.descendants().length-1;n>=0;n--){var r=this.phylotree.nodes.descendants()[n];He(r)||V1(r,this.selection_attribute_name)||(r[this.selection_attribute_name]=t(r.children))}this.modifySelection((i,a)=>He(i.target)?i.target[this.selection_attribute_name]:i.target[this.selection_attribute_name])}function S7(t){return t=t.data,He(t)?t.name||"":this.showInternalName(t)?t.name:""}function zZ(t){return arguments.length?(this._nodeLabel=t||S7,this.update(),this):this._nodeLabel}const FZ=Object.freeze(Object.defineProperty({__proto__:null,defNodeLabel:S7,drawNode:NZ,hasHiddenNodes:Y1,internalLabel:RZ,isNodeCollapsed:Os,nodeCssSelectors:x7,nodeLabel:zZ,nodeNotshown:w7,nodeSpan:IZ,nodeVisible:Xg,reclassNode:OZ,shiftTip:CZ,showInternalName:LZ,updateHasHiddenNodes:PZ},Symbol.toStringTag,{value:"Module"}));function M7(t){return[t.clade].reduce(function(e,n,r,i){return e+="path."+n+(r<i.length-1?",":"")},"")}function BZ(t){let e=this.svg.selectAll("."+this.css_classes["tree-container"]);var n=0;let r=e.selectAll(M7(this.css_classes)).data(this.phylotree.nodes.descendants().filter(Os),function(o){return o.id||(o.id=++n)}),i=function(){},a=void 0;this.radial()?(i=ou().curve(yg).y(function(o){return o[0]}).x(function(o){return o[1]}),a=function(o,u,c,f,d){return u?[c.screen_y+(o[0]-f)/50,c.screen_x+(o[1]-d)/50]:[c.screen_y,c.screen_x]}):(i=ou().y(function(o){return o[0]}).x(function(o){return o[1]}).curve(yg),a=function(o,u,c,f,d){return u?[c.screen_y+(o[0]-f)/50,c.screen_x+(o[1]-d)/50]:[c.screen_y,c.screen_x]}),r.exit().each(function(o){o.collapsed_clade=null}).remove(),t?r.enter().insert("path",":first-child").attr("class",this.css_classes.clade).merge(r).attr("d",function(o){if(o.collapsed_clade)return o.collapsed_clade;let u=o.collapsed[0][0],c=o.collapsed[0][1];return i(o.collapsed.map(function(f,d){return a(f,d,o,u,c)}))}).attr("d",function(o){return o.collapsed_clade=i(o.collapsed)}):r.enter().insert("path",":first-child").attr("class",this.css_classes.clade).merge(r).attr("d",function(o){return o.collapsed_clade?o.collapsed_clade:o.collapsed_clade=i(o.collapsed)})}const DZ=Object.freeze(Object.defineProperty({__proto__:null,cladeCssSelectors:M7,updateCollapsedClades:BZ},Symbol.toStringTag,{value:"Module"}));function UZ(t,e,n){t=we(t),t=t.attr("class",o=>this.reclassEdge(o)).on("click",o=>{this.modifySelection([e.target],this.selection_attribute_name),this.update()});let r=this.draw_branch([e.source,e.target]);n&&t.datum().existing_path&&(t=t.attr("d",function(o){return o.existing_path})),t=t.attr("d",r),e.existing_path=r;var i=this.phylotree.branch_length_accessor(e.target);if(i!==void 0){var a=t.selectAll("title");a.empty()&&(a=t.append("title")),a.text("Length = "+i)}else t.selectAll("title").remove();return this.edge_styler&&this.edge_styler(t,e,n),this.phylotree}function WZ(t){let e=Ne.branch;return H1(t)&&(e+=" "+Ne["tagged-branch"]),V1(t,this.selection_attribute_name)&&(e+=" "+Ne["selected-branch"]),e}function qZ(){this.links.forEach(t=>{t.target.data.annotation&&(t.target[t.target.data.annotation]=t.target.data.annotation)})}function HZ(){if(this.links.forEach(t=>{t[this.selection_attribute_name]=t.target[this.selection_attribute_name]||!1,t.tag=t.target.tag||!1}),this.countHandler()){let t={};t[this.selection_attribute_name]=this.links.reduce((e,n)=>e+(n[this.selection_attribute_name]?1:0),0),t.tagged=this.links.reduce(function(e,n){return e+(H1(n)?1:0)},0),this.countUpdate(this,t,this.countHandler())}}function Kg(t){return!(t.target.hidden||t.target.notshown)}function jg(t){return[t.branch,t["selected-branch"],t["tagged-branch"]].reduce(function(e,n,r,i){return e+="path."+n+(r<i.length-1?",":"")},"")}function VZ(t,e){return this.edge_placer(t,e)}const YZ=Object.freeze(Object.defineProperty({__proto__:null,drawEdge:UZ,edgeCssSelectors:jg,edgeVisible:Kg,initializeEdgeLabels:qZ,placeAlongAnEdge:VZ,reclassEdge:WZ,syncEdgeLabels:HZ},Symbol.toStringTag,{value:"Module"}));let dd="phylotree.event";function GZ(t){if(t.collapsed){t.collapsed=!1;let e=function(n){He(n)||n.collapsed||n.children.forEach(e),n.hidden=!1};e(t)}else t.collapsed=!0;return this.placenodes(),this}function XZ(t,e,n){let r=this.size;if(this.radial()){let i=this.pad_width(),a=this.options["top-bottom-spacing"]!="fit-to-size"?this.pad_height():0;r=[r[1]+2*i,r[0]+2*i+a],e&&e.selectAll("."+Ne["tree-container"]).attr("transform","translate ("+i+","+(i+a)+")")}else r=[r[0]+(this.options["top-bottom-spacing"]!="fit-to-size"?this.pad_height():0),r[1]+(this.options["left-right-spacing"]!="fit-to-size"?this.pad_width():0)];return e&&(n&&(e=e.transition(100)),e.attr("height",r[0]).attr("width",r[1])),this.size=r,r}function KZ(t,e){e=e||"y_scaled",e in this&&(this[e]*=t)}function Zg(t){var e=new CustomEvent(dd,{detail:["refresh",t]});document.dispatchEvent(e)}function T7(t,e){var n=new CustomEvent(dd,{detail:["countUpdate",e,t.countHandler()]});document.dispatchEvent(n)}function jZ(t){var e=new CustomEvent(dd,{detail:["layout",t,t.layoutHandler()]});document.dispatchEvent(e)}function $7(t){switch(t.detail[0]){case"refresh":t.detail[1].refresh();break;case"countUpdate":t.detail[2](t.detail[1]);break;case"layout":t.detail[2](t.detail[1])}return!0}function A7(){document.addEventListener(dd,$7,!1)}function ZZ(t){return t&&(t[0]!==null||t[1]!==null)?"translate ("+(t[0]!==null?t[0]:0)+","+(t[1]!==null?t[1]:0)+") ":""}function QZ(t){return t!==null?"rotate ("+t+") ":""}const JZ=Object.freeze(Object.defineProperty({__proto__:null,countUpdate:T7,d3PhylotreeAddEventListener:A7,d3PhylotreeEventListener:$7,d3PhylotreeSvgRotate:QZ,d3PhylotreeSvgTranslate:ZZ,d3PhylotreeTriggerLayout:jZ,rescale:KZ,resizeSvg:XZ,toggleCollapse:GZ,triggerRefresh:Zg},Symbol.toStringTag,{value:"Module"}));let Nw="d3_layout_phylotree_context_menu";function tQ(t,e,n,r,i){let a=we(e).select("#"+Nw);if(a.empty()&&(a=we(e).append("div").attr("id",Nw).attr("class","dropdown-menu").attr("role","menu")),a.selectAll("a").remove(),a.selectAll("h6").remove(),a.selectAll("div").remove(),t){if(!fh([!!t.menu_items,r.hide,r.selectable,r.collapsible])||!r["show-menu"])return;He(t)||(r.collapsible&&(a.append("a").attr("class","dropdown-item").attr("tabindex","-1").text(Os(t)?"Expand Subtree":"Collapse Subtree").on("click",f=>{a.style("display","none"),this.toggleCollapse(t).update()}),r.selectable&&(a.append("div").attr("class","dropdown-divider"),a.append("h6").attr("class","dropdown-header").text("Toggle selection"))),r.selectable&&(a.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("All descendant branches").on("click",function(f){a.style("display","none"),n.modifySelection(n.selectAllDescendants(t,!0,!0))}),a.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("All terminal branches").on("click",function(f){a.style("display","none"),n.modifySelection(n.selectAllDescendants(t,!0,!1))}),a.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("All internal branches").on("click",function(f){a.style("display","none"),n.modifySelection(n.selectAllDescendants(t,!1,!0))}))),t.parent&&(r.selectable&&(a.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("Incident branch").on("click",function(f){a.style("display","none"),n.modifySelection([t])}),a.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("Path to root").on("click",f=>{a.style("display","none"),this.modifySelection(this.phylotree.pathToRoot(t))}),(r.reroot||r.hide)&&a.append("div").attr("class","dropdown-divider")),r.reroot&&a.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("Reroot on this node").on("click",f=>{a.style("display","none"),this.phylotree.reroot(t),this.update()}),r.hide&&a.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("Hide this "+(He(t)?"node":"subtree")).on("click",f=>{a.style("display","none"),this.modifySelection([t],"notshown",!0,!0).updateHasHiddenNodes().update()})),Y1(t)&&a.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("Show all descendant nodes").on("click",function(f){a.style("display","none"),n.modifySelection(n.selectAllDescendants(t,!0,!0),"notshown",!0,!0,"false").updateHasHiddenNodes().update()});var o=[];if("menu_items"in t&&typeof t.menu_items=="object"&&t.menu_items.forEach(function(f){f.length==3&&(!f[2]||f[2](t))&&o.push([f[0],f[1]])}),o.length){const f=[r.hide,r.selectable,r.collapsible];fh(f)&&a.append("div").attr("class","dropdown-divider"),o.forEach(function(d){a.append("a").attr("class","dropdown-item").attr("tabindex","-1").text(d[0](t)).on("click",Ti(d[1],t))})}let c=document.querySelector(e).getBoundingClientRect();a.style("position","absolute").style("left",""+(i.clientX-c.x+12)+"px").style("top",""+(i.clientY-c.y)+"px").style("display","block")}else a.style("display","none")}function eQ(t,e,n,r){"menu_items"in t||(t.menu_items=[]),t.menu_items.some(function(i){return i[0]==e&&i[1]==n&&i[2]==r})||t.menu_items.push([e,n,r])}function nQ(t,e,n,r,i){if(e=e||this.selection_attribute_name,i=i||"toggle",this.options["restricted-selectable"].length)if(wi(an(Gg),t))t=Gg[t];else return;if((this.options["restricted-selectable"]||this.options.selectable)&&!this.options["binary-selectable"]){var a=!1;typeof t=="function"?this.links.forEach(function(u){let c=t(u);u[e]=u[e]||!1,u[e]!=c&&(u[e]=c,a=!0,u.target[e]=c)}):(t.forEach(function(u){var c;switch(i){case"true":c=!0;break;case"false":c=!1;break;default:c=!u[e];break}u[e]!=c&&(u[e]=c,a=!0)}),this.links.forEach(function(u){u[e]=u.target[e]}));var o;a&&(r||Zg(this),this.countHandler&&(o={},o[e]=this.links.reduce(function(u,c){return u+(c[e]?1:0)},0),T7(this,o,this.countHandler)),n&&this.placenodes())}else this.options["binary-selectable"]&&(typeof t=="function"?this.links.forEach(function(u){var c=t(u);u[e]=u[e]||!1,u[e]!=c&&(u[e]=c,a=!0,u.target[e]=c),this.options["attribute-list"].forEach(function(f){f!=e&&u[e]===!0&&(u[f]=!1,u.target[f]=!1)})}):(t.forEach(function(u){var c;c=!u[e],u[e]!=c&&(u[e]=c,a=!0)}),this.links.forEach(function(u){u[e]=u.target[e],this.options["attribute-list"].forEach(function(c){c!=e&&u[e]!==!0&&(u[c]=!1,u.target[c]=!1)})})),a&&(r||Zg(this),this.countHandler()&&(o={},o[e]=this.links.reduce(function(u,c){return u+(c[e]?1:0)},0),this.countUpdate(this,o,this.countHandler())),n&&this.placenodes()));return this._selectionCallback&&e!="tag"&&this._selectionCallback(this.getSelection()),this.refresh(),this.update(),this}function rQ(){return k7(this.phylotree.getRootNode(),!0,!0).filter(t=>t[this.selection_attribute_name])}function k7(t,e,n){let r=[];function i(a){He(a)?e&&a!=t&&r.push(a):(n&&a!=t&&r.push(a),a.children.forEach(i))}return i(t),r}function iQ(t){return t?(this._selectionCallback=t,this):this._selectionCallback}const aQ=Object.freeze(Object.defineProperty({__proto__:null,addCustomMenu:eQ,getSelection:rQ,modifySelection:nQ,nodeDropdownMenu:tQ,selectAllDescendants:k7,selectionCallback:iQ},Symbol.toStringTag,{value:"Module"}));function Pw(t){return function(){return t}}class Qs{constructor(e,n={}){_7(n["css-classes"]),this.css_classes=Ne,this.phylotree=e,this.container=n.container,this.separation=function(i,a){return 0},this._nodeLabel=this.defNodeLabel,this.svg=null,this._selectionCallback=null,this.scales=[1,1],this.size=[1,1],this.fixed_width=[14,30],this.scale_bar_font_size=12,this.draw_branch=Ew,this.draw_scale_bar=null,this.edge_placer=Cw,this.count_listener_handler=function(){},this.layout_listener_handler=function(){},this.node_styler=void 0,this.edge_styler=void 0,this.selection_attribute_name="selected",this.right_most_leaf=0,this.label_width=0,this.radial_center=0,this.radius=1,this.radius_pad_for_bubbles=0,this.rescale_nodeSpan=1,this.relative_nodeSpan=function(i){return this.nodeSpan(i)/this.rescale_nodeSpan};let r={layout:"left-to-right",logger:console,branches:"step",scaling:!0,bootstrap:!1,"color-fill":!0,"font-size":14,"internal-names":!1,selectable:!0,"restricted-selectable":!1,collapsible:!0,"left-right-spacing":"fixed-step","top-bottom-spacing":"fixed-step","left-offset":0,"show-scale":"top","draw-size-bubbles":!1,"bubble-styler":this.radius_pad_for_bubbles,"binary-selectable":!1,"is-radial":!1,"attribute-list":[],"max-radius":768,"annular-limit":.38196601125010515,compression:.2,"align-tips":!1,"maximum-per-node-spacing":100,"minimum-per-node-spacing":2,"maximum-per-level-spacing":100,"minimum-per-level-spacing":10,node_circle_size:Pw(3),transitions:null,brush:!0,reroot:!0,hide:!0,"label-nodes-with-name":!1,zoom:!1,"show-menu":!0,"show-labels":!0,"node-styler":null,"edge-styler":null,"node-span":null};this.ensure_size_is_in_px=function(i){return typeof i=="number"?i+"px":i},this.options=P1(n,r),this.font_size=this.options["font-size"],this.offsets=[0,this.font_size/2],this.shown_font_size=this.font_size,this.width=this.options.width||800,this.height=this.options.height||600,this.node_styler=this.options["node-styler"],this.edge_styler=this.options["edge-styler"],this.nodeSpan=this.options["node-span"],this.nodeSpan||(this.nodeSpan=function(i){return 1}),this.rescale_nodeSpan=this.phylotree.nodes.children.map(i=>{if(He(i)||this.showInternalName(i))return this.nodeSpan(i)}).reduce(function(i,a){return Math.min(a,i||1e200)},null)||1,this.initialize_svg(this.container),this.links=this.phylotree.nodes.links(),this.initializeEdgeLabels(),this.update(),A7()}pad_height(){return this.draw_scale_bar?this.scale_bar_font_size+25:0}pad_width(){this.label_width=this._label_width(this.shown_font_size);const e=this.options["show-labels"]?this.label_width:0;return this.offsets[1]+this.options["left-offset"]+e}collapse_node(e){Os(e)||(e.collapsed=!0)}set_size(e){if(!arguments.length)return this.size;let n=e;return this.options["top-bottom-spacing"]!="fixed-step"&&(this.size[0]=n[0]),this.options["left-right-spacing"]!="fixed-step"&&(this.size[1]=n[1]),this}initialize_svg(e){return this.svg!==e&&(we(e).select("svg").remove(),this.svg=az("svg").attr("width",this.width).attr("height",this.height),this.set_size([this.height,this.width]),this.css_classes["tree-container"]=="phylotree-container"&&(this.svg.selectAll("*").remove(),this.svg.append("defs")),we(this.container).on("click",n=>{this.handle_node_click(null)},!0)),this}update_layout(e,n){n&&(this.nodes=_s(e),this.nodes.each(function(r){r.id=null})),this.update(),this.syncEdgeLabels()}update(e){var n=this;this.placenodes(),e=this.transitions(e);let r=0,i=this.svg.selectAll("."+Ne["tree-container"]).data([0]);if(i=i.enter().append("g").attr("class",Ne["tree-container"]).merge(i).attr("transform",f=>this.d3PhylotreeSvgTranslate([this.offsets[1]+this.options["left-offset"],this.pad_height()])),this.draw_scale_bar){let f=this.svg.selectAll("."+Ne["tree-scale-bar"]).data([0]);f.enter().append("g").attr("class",Ne["tree-scale-bar"]).style("font-size",this.ensure_size_is_in_px(this.scale_bar_font_size)).merge(f).attr("transform",d=>this.d3PhylotreeSvgTranslate([this.offsets[1]+this.options["left-offset"],this.pad_height()-10])).call(this.draw_scale_bar),f.selectAll("text").style("text-anchor","end")}else this.svg.selectAll("."+Ne["tree-scale-bar"]).remove();i=this.svg.selectAll("."+Ne["tree-container"]).data([0]),this.updateCollapsedClades(e);let a=i.selectAll(jg(Ne)).data(this.links.filter(Kg),f=>f.target.id||(f.target.id=++r));a.exit().remove(),a=a.enter().insert("path",":first-child").merge(a).each(function(f){n.drawEdge(this,f,e)});let o=i.selectAll(x7(Ne)).data(this.phylotree.nodes.descendants().filter(Xg),f=>f.id||(f.id=++r));if(o.exit().remove(),o=o.enter().append("g").attr("class",this.reclassNode).merge(o).attr("transform",f=>{const d=this.options.layout=="right-to-left"&&He(f);return f.screen_x=oa(f),f.screen_y=Ss(f),this.d3PhylotreeSvgTranslate([d?0:f.screen_x,f.screen_y])}).each(function(f){n.drawNode(this,f,e)}).attr("transform",f=>{if(!Is(f.screen_x)&&!Is(f.screen_y))return"translate("+f.screen_x+","+f.screen_y+")"}),this.options["label-nodes-with-name"]&&(o=o.attr("id",f=>"node-"+f.name)),this.resizeSvg(this.phylotree,this.svg,e),this.options.brush){var u=i.selectAll("."+Ne["tree-selection-brush"]).data([0]).enter().insert("g",":first-child").attr("class",Ne["tree-selection-brush"]),c=hB().on("brush",(f,d)=>{var p=f.selection,g=this.links.filter(Kg),y=g.filter((_,b)=>_.source.screen_x>=p[0][0]&&_.source.screen_x<=p[1][0]&&_.source.screen_y>=p[0][1]&&_.source.screen_y<=p[1][1]&&_.target.screen_x>=p[0][0]&&_.target.screen_x<=p[1][0]&&_.target.screen_y>=p[0][1]&&_.target.screen_y<=p[1][1]).map(_=>_.target);this.modifySelection(this.phylotree.links.map(_=>_.target),"tag",!1,y.length>0,"false"),this.modifySelection(y,"tag",!1,!1,"true")}).on("end",()=>{});u.call(c)}if(this.syncEdgeLabels(),this.options.zoom){let f=QW().scaleExtent([.1,10]).on("zoom",d=>{we("."+Ne["tree-container"]).attr("transform",p=>d.transform),we("."+Ne["tree-scale-bar"]).attr("transform",p=>{let g=d.transform;return g.y-=10,g})});this.svg.call(f)}return this}_handle_single_node_layout(e){let n=this.nodeSpan(e)/this.rescale_nodeSpan;this.x=e.x=this.x+this.separation(this.last_node,e)+(this.last_span+n)*.5,this._extents[1][1]=Math.max(this._extents[1][1],e.y),this._extents[1][0]=Math.min(this._extents[1][0],e.y-n*.5),this.is_under_collapsed_parent?this._extents[0][1]=Math.max(this._extents[0][1],this.save_x+(e.x-this.save_x)*this.options.compression+this.save_span+(n*.5+this.separation(this.last_node,e))*this.options.compression):this._extents[0][1]=Math.max(this._extents[0][1],this.x+n*.5+this.separation(this.last_node,e)),this.last_node=e,this.last_span=n}tree_layout(e){if(w7(e))return;let n=He(e);e.text_angle=null,e.text_align=null,e.radius=null,e.angle=null;let r=!1;if(e.parent)if(this.do_scaling){if(r)return 0;if(e.y=this.phylotree.branch_length_accessor(e),typeof e.y>"u")return r=!0,0;e.y+=e.parent.y}else e.y=n?this.max_depth:e.depth;else this.x=0,e.y=0,this.last_node=null,this.last_span=0,this._extents=[[0,0],[0,0]];if(n&&this._handle_single_node_layout(e),!n)if(Os(e)&&!this.is_under_collapsed_parent){if(this.save_x=this.x,this.save_span=this.last_span*.5,this.is_under_collapsed_parent=!0,this.process_internal_node(e),this.is_under_collapsed_parent=!1,typeof e.x=="number"){e.x=this.save_x+(e.x-this.save_x)*this.options.compression+this.save_span,e.collapsed=[[e.x,e.y]];var i=a=>{a.hidden=!0,He(a)?(this.x=a.x=this.save_x+(a.x-this.save_x)*this.options.compression+this.save_span,e.collapsed.push([a.x,a.y])):a.children.map(i)};this.x=this.save_x,i(e),e.collapsed.splice(1,0,[this.save_x,e.y]),e.collapsed.push([this.x,e.y]),e.collapsed.push([e.x,e.y]),e.hidden=!1}}else this.process_internal_node(e);return e.x}process_internal_node(e){let n=0;if(this.showInternalName(e)){let r=e.children.length/2>>0,i=0,a=!1;for(let o=0;o<e.children.length;o++)typeof this.tree_layout(e.children[o])=="number"&&i++,i>=r&&!a&&(this._handle_single_node_layout(e),a=!0);i==0?(e.notshown=!0,e.x=void 0):a||this._handle_single_node_layout(e)}else e.x=e.children.map(this.tree_layout.bind(this)).reduce((r,i)=>typeof i=="number"?r+i:(n+=1,r),0),n==e.children.length?(e.notshown=!0,e.x=void 0):e.x/=e.children.length-n}do_lr(e){if(this.radial()&&e&&(this.offsets[1]=0),this.options["left-right-spacing"]=="fixed-step")this.size[1]=this.max_depth*this.fixed_width[1],this.scales[1]=(this.size[1]-this.offsets[1]-this.options["left-offset"])/this._extents[1][1],this.label_width=this._label_width(this.shown_font_size),this.radial()&&(this.label_width*=2);else{this.label_width=this._label_width(this.shown_font_size),e=!0;let n=this.size[1]-this.offsets[1]-this.options["left-offset"];n*.5<this.label_width&&(this.shown_font_size*=n*.5/this.label_width,this.label_width=n*.5),this.scales[1]=(this.size[1]-this.offsets[1]-this.options["left-offset"]-this.label_width)/this._extents[1][1]}}placenodes(){this._extents=[[0,0],[0,0]],this.x=0,this.last_span=0,this.last_node=null,this.last_span=0,this.save_x=this.x,this.save_span=this.last_span*.5,this.do_scaling=this.options.scaling;let e=!1;this.is_under_collapsed_parent=!1,this.max_depth=1,this.phylotree.nodes.x=this.tree_layout(this.phylotree.nodes,this.do_scaling),this.max_depth=Fr(this.phylotree.nodes.descendants(),r=>r.depth),this.do_scaling;let n=!1;if(this.draw_scale_bar=this.options["show-scale"]&&this.do_scaling,this.offsets[1]=Math.max(this.font_size,-this._extents[1][0]*this.fixed_width[0]),this.options["top-bottom-spacing"]=="fixed-step"?(this.size[0]=this._extents[0][1]*this.fixed_width[0],this.scales[0]=this.fixed_width[0]):(this.scales[0]=(this.size[0]-this.pad_height())/this._extents[0][1],n=!0),this.shown_font_size=Math.min(this.font_size,this.scales[0]),this.radial()){this.draw_branch=Ti(kw,this.radial_center),this.edge_placer=_Z;let r=null,i=null,a=null,o=0,u=this._extents[0][1]*this.scales[0],c=function(g,y,_,b,w){return w=w||0,Math.sqrt((y-g)*(y-g)+2*(g+w)*(y+w)*(1-Math.cos(_-b)))},f=0;this.phylotree.nodes.each(g=>{let y=g.x*this.scales[0];g.angle=2*Math.PI*y/u,g.text_angle=g.angle-Math.PI/2,g.text_angle=g.text_angle>0&&g.text_angle<Math.PI,g.text_align=g.text_angle?"end":"start",g.text_angle=(g.text_angle?180:0)+g.angle*180/Math.PI}),this.do_lr(n),this.phylotree.nodes.each(g=>{g.radius=g.y*this.scales[1]/this.size[1],f=Math.max(g.radius,f)});let d=0;this.phylotree.nodes.each(g=>{if(!g.children){let y=g.x*this.scales[0];if(r!==null){let _=y-i,b=c(g.radius,a,g.angle,r,d),w=b>0?_/b:10*this.options["max-radius"];if(w>this.options["max-radius"]){let x=_/this.options["max-radius"],M=g.radius+a,A=g.radius*a-(x*x-(a-g.radius)*(a-g.radius))/2/(1-Math.cos(r-g.angle)),$=Math.sqrt(M*M-4*A);d=Math.min(this.options["annular-limit"]*f,(-M+$)/2),o=this.options["max-radius"]}else o=Math.max(o,w)}r=g.angle,i=y,a=g.radius}}),this.radius=Math.min(this.options["max-radius"],Math.max(u/2/Math.PI,o)),n&&(this.radius=Math.min(this.radius,(Math.min(u,this._extents[1][1]*this.scales[1])-this.label_width)*.5-this.radius*d)),this.radial_center=this.radius_pad_for_bubbles=this.radius,this.draw_branch=Ti(kw,this.radial_center);let p=1;d&&(p=f/(f+d),this.radius*=p),this.phylotree.nodes.each(g=>{if(Aw(g,this.radius,d,this.radial_center,this.scales,this.size),f=Math.max(f,g.radius),this.options["draw-size-bubbles"]?this.radius_pad_for_bubbles=Math.max(this.radius_pad_for_bubbles,g.radius+this.nodeBubbleSize(g)):this.radius_pad_for_bubbles=Math.max(this.radius_pad_for_bubbles,g.radius),g.collapsed){g.collapsed=g.collapsed.map(_=>{let b={};return b.x=_[0],b.y=_[1],b=Aw(b,this.radius,d,this.radial_center,this.scales,this.size),[b.x,b.y]});let y=g.collapsed[1];g.collapsed=g.collapsed.filter(function(_,b){return b<3||b>g.collapsed.length-4?!0:Math.sqrt(Math.pow(_[0]-y[0],2)+Math.pow(_[1]-y[1],2))>3?(y=_,!0):!1})}}),this.size[0]=this.radial_center+this.radius/p,this.size[1]=this.radial_center+this.radius/p}else this.do_lr(),this.draw_branch=Ew,this.edge_placer=Cw,this.right_most_leaf=0,this.phylotree.nodes.each(r=>{if(r.x*=this.scales[0],r.y*=this.scales[1]*.8,this.options.layout=="right-to-left"&&(r.y=this._extents[1][1]*this.scales[1]-r.y),He(r)&&(this.right_most_leaf=Math.max(this.right_most_leaf,r.y+this.nodeBubbleSize(r))),r.collapsed){r.collapsed.forEach(a=>{a[0]*=this.scales[0],a[1]*=this.scales[1]*.8});let i=r.collapsed[1][0];r.collapsed=r.collapsed.filter(function(a,o){return o<3||o>r.collapsed.length-4?!0:a[0]-i>3?(i=a[0],!0):!1})}});if(this.draw_scale_bar){let r,i;if(this.radial()){if(i=Math.min(this.radius/5,50),r=Math.pow(10,Math.ceil(Math.log(this._extents[1][1]*i/this.radius)/Math.log(10))),i=r*(this.radius/this._extents[1][1]),i<30){let u=Math.ceil(30/i);i*=u,r*=u}}else r=this._extents[1][1],i=this.size[1]-this.offsets[1]-this.options["left-offset"]-this.shown_font_size;let a=zh().domain([0,r]).range([0,i]),o=Ds(".2f");if(this.draw_scale_bar=xO().scale(a).tickFormat(function(u){return u===0?"":o(u)}),this.radial())this.draw_scale_bar.tickValues([r]);else{let u=function(f,d){return Math.round(f)},c=a.ticks();c=c.length>1?c[1]:c[0],this.draw_scale_bar.ticks(Math.min(10,u(i/(this.shown_font_size*o(c).length*2))))}}else this.draw_scale_bar=null;return this}spacing_x(e,n){return arguments.length?(this.fixed_width[0]!=e&&e>=this.options["minimum-per-node-spacing"]&&e<=this.options["maximum-per-node-spacing"]&&(this.fixed_width[0]=e,n||this.placenodes()),this):this.fixed_width[0]}spacing_y(e,n){return arguments.length?(this.fixed_width[1]!=e&&e>=this.options["minimum-per-level-spacing"]&&e<=this.options["maximum-per-level-spacing"]&&(this.fixed_width[1]=e,n||this.placenodes()),this):this.fixed_width[1]}_label_width(e){e=e||this.shown_font_size;let n=0;return this.phylotree.nodes.descendants().filter(Xg).forEach(r=>{let i=12+this._nodeLabel(r).length*e*.8;r.angle!==null&&(i*=Math.max(Math.abs(Math.cos(r.angle)),Math.abs(Math.sin(r.angle)))),n=Math.max(i,n)}),n}font_size(e){return arguments.length?(this.font_size=e===void 0?12:e,this):this.font_size}scale_bar_font_size(e){return arguments.length?(this.scale_bar_font_size=e===void 0?12:e,this):this.scale_bar_font_size}node_circle_size(e,n){return arguments.length?(this.options.node_circle_size=Pw(e===void 0?3:e),this):this.options.node_circle_size}css(e){if(arguments.length===0)return this.css_classes;if(arguments.length>2){var n={};return n[e[0]]=e[1],this.css(n)}for(var r in Ne)r in e&&e[r]!=Ne[r]&&(Ne[r]=e[r]);return this}transitions(e){return e!==void 0?e:this.options.transitions!==null?this.options.transitions:this.phylotree.nodes.descendants().length<=300}css_classes(e,n){if(!arguments.length)return this.css_classes;let r=!1;for(var i in Ne)i in e&&e[i]!=this.css_classes[i]&&(r=!0,this.css_classes[i]=e[i]);return n&&r&&this.layout(),this}layout(e){return this.svg?(this.svg.selectAll("."+this.css_classes["tree-container"]+",."+this.css_classes["tree-scale-bar"]+",."+this.css_classes["tree-selection-brush"]),this.d3PhylotreeTriggerLayout(this),this.update()):(this.d3PhylotreeTriggerLayout(this),this)}handle_node_click(e,n){this.nodeDropdownMenu(e,this.container,this,this.options,n)}refresh(){if(this.svg){let n=this.svg.selectAll("."+this.css_classes["tree-container"]).selectAll(jg(this.css_classes)).attr("class",this.reclassEdge.bind(this));this.edge_styler&&n.each(r=>{this.edge_styler(we(this),r)})}return this}countHandler(e){return arguments.length?(this.count_listener_handler=e,this):this.count_listener_handler}style_nodes(e){return arguments.length?(this.node_styler=e,this):this.node_styler}style_edges(e){return arguments.length?(this.edge_styler=e.bind(this),this):this.edge_styler}itemSelected(e,n){return e[n]||!1}show(){return this.svg.node()}}ai(Qs.prototype,DZ);ai(Qs.prototype,FZ);ai(Qs.prototype,YZ);ai(Qs.prototype,JZ);ai(Qs.prototype,aQ);ai(Qs.prototype,EZ);function sQ(t,e,n){return this.nodes.sum(function(r){return r.value}).sort(t),this.display&&(this.display.update_layout(this.nodes),this.display.update()),this}function oQ(t){var e;return t=t.map(function(n){return typeof n=="string"?n:n.data.name}),this.traverse_and_compute(function(n){n.children?n.parent?(n.data.mrca=u7(...n.descendants().map(r=>r.data.mrca)),!e&&n.data.mrca.length==t.length&&(e=n)):e||(e=n):n.data.mrca=c7([n.data.name],t)}),e}let _n=class{constructor(t,e={}){this.newick_string="",this.nodes=[],this.links=[],this.parsed_tags=[],this.partitions=[],this.branch_length_accessor=Yg,this.branch_length=Yg,this.logger=e.logger||console,this.selection_attribute_name="selected";var n=e.type||void 0,r=[],i=this;if(ud(n))n in M0?r=M0[n](t,e):i.logger.error("type "+n+" not in registry! Available types are "+an(M0));else if(Ln(n))try{r=n(t,e)}catch{i.logger.error("Could not parse custom format!")}else t.name=="root"?r={json:t,error:null}:typeof t!="string"?r=t:t.contentType=="application/xml"?r=y7(t):(this.newick_string=t,r=_u(t,e));if(!r.json)i.nodes=[];else{i.nodes=_s(r.json);let a={};i.nodes.each(o=>{o.data.annotation&&(a[o.data.annotation]=!0)}),i.parsed_tags=Object.keys(a)}return i.links=i.nodes.links(),this.hasBranchLengths()||(console.warn("Phylotree User Warning : NO BRANCH LENGTHS DETECTED, SETTING ALL LENGTHS TO 1"),this.setBranchLength(a=>1)),i}json(t){var e=0;this.traverse_and_compute(function(r){r.json_export_index=e++},t);var n=new Array(e);return e=0,this.traverse_and_compute(function(r){let i=RS(r);delete i.json_export_index,r.parent&&(i.parent=r.parent.json_export_index),r.children&&(i.children=qn(r.children,function(a){return a.json_export_index})),n[e++]=i},t),this.traverse_and_compute(function(r){delete r.json_export_index},t),JSON.stringify(n)}traverse_and_compute(t,e,n,r){e=e||"post-order";function i(u){Is(u)||b7(u,t,r)}function a(u){oZ(u,t,r)}function o(u){lZ(u,t,r)}return e=="pre-order"?e=a:e=="in-order"?e=o:e=i,e(n||this.nodes),this}get_parsed_tags(){return this.parsed_tags}update(t){this.nodes=t}render(t){return this.display=new Qs(this,t),this.display}};_n.prototype.isLeafNode=He;_n.prototype.selectAllDescendants=v7;_n.prototype.mrca=oQ;_n.prototype.hasBranchLengths=cZ;_n.prototype.getBranchLengths=fZ;_n.prototype.branchName=gZ;_n.prototype.normalizeBranchLengths=dZ;_n.prototype.scaleBranchLengths=pZ;_n.prototype.getNewick=Zj;_n.prototype.resortChildren=sQ;_n.prototype.setBranchLength=hZ;_n.prototype.maxParsimony=rZ;_n.prototype.getTipLengths=nZ;_n.prototype.leftChildRightSibling=uZ;ai(_n.prototype,jj);ai(_n.prototype,bZ);ai(_n.prototype,tZ);b5("%Y%m%d");var lQ=xt('<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/phylotree@2.1.7/dist/phylotree.css">'),uQ=xt('<div class="loading svelte-vearoq">No tree data provided</div>'),cQ=xt("<option> </option>"),fQ=xt('<div class="control-group svelte-vearoq"><label for="tree-select" class="svelte-vearoq">Tree:</label> <select id="tree-select" class="svelte-vearoq"></select></div>'),hQ=xt('<div class="color-legend svelte-vearoq"><span class="legend-title svelte-vearoq"> </span> <div class="legend-gradient svelte-vearoq"><div class="gradient-bar svelte-vearoq"></div> <div class="legend-labels svelte-vearoq"><span class="min-label"> </span> <span class="max-label"> </span></div></div></div>'),dQ=xt('<div class="controls svelte-vearoq"><!> <div class="control-group svelte-vearoq"><label for="color-branches" class="svelte-vearoq">Color branches:</label> <select id="color-branches" class="svelte-vearoq"><option>None</option><option>Branch length</option><option>Bootstrap values</option></select></div> <div class="control-group svelte-vearoq"><label class="svelte-vearoq"><input type="checkbox" class="svelte-vearoq"> Show scale</label></div> <div class="control-group svelte-vearoq"><label class="svelte-vearoq"><input type="checkbox" class="svelte-vearoq"> Radial layout</label></div></div> <!> <div class="tree-container svelte-vearoq"></div>',1),pQ=xt('<div class="phylogenetic-tree-viewer svelte-vearoq"><!></div>');function G1(t,e){$i(e,!1);const n=gt(),r=gt();let i=Ye(e,"data",8,null),a=Ye(e,"height",8,600),o=Ye(e,"width",8,800),u=Ye(e,"branchLengthProperty",8,"branch length"),c=Ye(e,"colorBranches",12,"none"),f=Ye(e,"showScale",12,!0),d=Ye(e,"isRadial",12,!1),p=Ye(e,"treeIndex",12,0),g=gt(),y,_,b=[],w=0,x=gt(null),M=gt(null),A=!1,$=null;const P=Ih(M5),L=FE();Ci(()=>{C()}),BE(()=>{const Z=F(i(),p()),I=`${JSON.stringify(i())}-${p()}-${c()}-${u()}-${o()}-${a()}-${d()}-${f()}`;Z&&v(g)&&!A&&I!==$&&C()});function F(Z,I=0){var H;if(!((H=Z==null?void 0:Z.input)!=null&&H.trees))return null;const E=Z.input.trees;if(Array.isArray(E))return E[I]||E[0]||null;if(typeof E=="object"){const Y=Object.keys(E),J=Y[I]||Y[0];return E[J]||null}else if(typeof E=="string")return E;return null}function V(Z){var E;if(!((E=Z==null?void 0:Z.input)!=null&&E.trees))return[];const I=Z.input.trees;return Array.isArray(I)?I.map((H,Y)=>({value:Y,label:`Tree ${Y+1}`})):typeof I=="object"?Object.keys(I).map((H,Y)=>({value:Y,label:H})):typeof I=="string"?[{value:0,label:"Tree 1"}]:[]}function K(Z,I=0){if(!(Z!=null&&Z["branch attributes"]))return{};const E=Z["branch attributes"];if(Array.isArray(E))return E[I]||E[0]||{};if(typeof E=="object"){const H=Object.keys(E),Y=H[I]||H[0];return E[Y]||{}}return E||{}}function W(Z){return[76,87,89,92,95]}function R(Z,I){try{if(!I||!b||b.length===0)return;let E=0,H=null;I.annotation?H=I.annotation:I.data&&I.data.annotation&&(H=I.data.annotation),H&&b.forEach(function(Y,J){H===Y&&(E++,Z.style("fill",P(J),J===w?"important":null))}),E===0&&Z.style("fill",null)}catch(E){console.error("Error in nodeColorizer:",E)}}function et(Z,I){return function(E,H){var Y,J;try{if(c()!=="branch length"||!Z||!I)return;const ht=(J=(Y=H.target)==null?void 0:Y.data)==null?void 0:J.name;if(!ht||!Z[ht])return;const nt=Z[ht][u()];if(nt==null)return;E.style("stroke",I(nt)),E.style("stroke-width","2px")}catch(ht){console.error("Error in branchColorizer:",ht)}}}function j(Z){return function(I,E){var H,Y;try{if(c()!=="bootstrap"||!Z)return;if(!E){console.warn("bootstrapColorizer: undefined data passed");return}const J=E.target,ht=E.source;let nt=null;const rt=[(H=ht==null?void 0:ht.data)==null?void 0:H.name,ht==null?void 0:ht.name,(Y=J==null?void 0:J.data)==null?void 0:Y.name,J==null?void 0:J.name];for(const lt of rt)if(lt!=null&&lt!==""){const tt=parseFloat(lt);if(!isNaN(tt)&&tt>=0&&tt<=100){nt=tt;break}}nt!==null&&!isNaN(nt)&&(I.style("stroke",Z(nt)),I.style("stroke-width","2px"))}catch(J){console.error("bootstrapColorizer error:",J,{data:E?"present":"undefined"})}}}function C(){if(A)return;A=!0;const Z=`${JSON.stringify(i())}-${p()}-${c()}-${u()}-${o()}-${a()}-${d()}-${f()}`;try{const J=F(i(),p());if(!J||J.trim()===""){v(g)&&Ge(g,v(g).innerHTML="<p>No tree data found</p>"),A=!1;return}y=new _n(J),y.parsed_tags&&y.parsed_tags.length&&(b=[...y.parsed_tags],setTimeout(()=>{try{L("parsedtags",{parsed_tags:b})}catch(ht){console.error("Error dispatching parsed tags:",ht)}},0))}catch(J){console.error("Error in renderTree:",J),A=!1}let I=null,E=null,H=null;if(c()==="branch length"){const J=K(i(),p());if(J&&Object.keys(J).length>0){const ht=[];Object.keys(J).forEach(nt=>{const rt=J[nt][u()];rt!==void 0&&ht.push(rt)}),ht.length>0&&(H=Jn(ht),E=pg(Iv).domain(H),I=et(J,E))}}else c()==="bootstrap"&&(E=pg(Lv).domain([0,100]),H=[0,100],I=j(E));function Y(J,ht){I&&I(J,ht)}_=y.render({container:".tree-container",height:a(),width:o(),"left-right-spacing":"fit-to-size","top-bottom-spacing":"fit-to-size","show-scale":f(),"is-radial":d(),"show-menu":!1,selectable:!1,collapsible:!1,reroot:!1,hide:!1,"node-styler":R,"edge-styler":Y}),Ge(g,v(g).innerHTML=""),v(g).appendChild(_.show()),ut(x,E),ut(M,H),c()==="bootstrap"&&y&&setTimeout(()=>{try{const J=W(y);J.length>0&&ut(M,Jn(J))}catch(J){console.warn("Could not extract bootstrap values:",J)}},100),we(v(g)).selectAll(".node").on("click",(J,ht)=>{J.preventDefault(),_.handle_node_click&&_.handle_node_click(ht,J)}),$=Z,A=!1}Yt(()=>Oe(i()),()=>{ut(n,V(i()))}),Yt(()=>(v(x),v(M),Oe(c())),()=>{ut(r,!!(v(x)&&v(M)&&(c()==="branch length"||c()==="bootstrap")))}),Ai(),Ei();var z=pQ();DE(Z=>{var I=lQ();bt(Z,I)});var U=N(z);{var B=Z=>{var I=uQ();bt(Z,I)},at=Z=>{var I=dQ(),E=Qn(I),H=N(E);{var Y=Nt=>{var oe=fQ(),ae=D(N(oe),2);Ft(()=>{p(),Zr(()=>{v(n)})}),Pe(ae,5,()=>v(n),Ie,(qt,Vt,Se,Fe)=>{var _e=cQ(),jt={},Zt=N(_e);Ft(()=>{jt!==(jt=v(Vt).value)&&(_e.value=(_e.__value=v(Vt).value)==null?"":v(Vt).value),Mt(Zt,v(Vt).label)}),bt(qt,_e)}),Qr(ae,p),bt(Nt,oe)};Ht(H,Nt=>{v(n).length>1&&Nt(Y)})}var J=D(H,2),ht=D(N(J),2);Ft(()=>{c(),Zr(()=>{})});var nt=N(ht);nt.value=(nt.__value="none")==null?"":"none";var rt=D(nt);rt.value=(rt.__value="branch length")==null?"":"branch length";var lt=D(rt);lt.value=(lt.__value="bootstrap")==null?"":"bootstrap";var tt=D(J,2),ot=N(tt),_t=N(ot),Q=D(tt,2),At=N(Q),vt=N(At),St=D(E,2);{var zt=Nt=>{var oe=hQ(),ae=N(oe),qt=N(ae),Vt=D(ae,2),Se=N(Vt),Fe=D(Se,2),_e=N(Fe),jt=N(_e),Zt=D(_e,2),Qt=N(Zt);Ft((pe,ft)=>{Mt(qt,`${(c()==="bootstrap"?"Bootstrap values":u())??""}:`),mi(Se,"bootstrap",c()==="bootstrap"),Mt(jt,pe),Mt(Qt,ft)},[()=>v(M)[0].toFixed(c()==="bootstrap"?0:2),()=>v(M)[1].toFixed(c()==="bootstrap"?0:2)],Nn),bt(Nt,oe)};Ht(St,Nt=>{v(r)&&Nt(zt)})}var mt=D(St,2);nn(mt,Nt=>ut(g,Nt),()=>v(g)),Qr(ht,c),Lo(_t,f),Lo(vt,d),bt(Z,I)};Ht(U,Z=>{i()?Z(at,!1):Z(B)})}bt(t,z),ki()}G1.__docgen={version:3,name:"PhylogeneticTreeViewer.svelte",data:[{name:"data",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"other",text:"null"},static:!1,readonly:!1,defaultValue:"null"},{name:"height",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"600"},{name:"width",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"800"},{name:"branchLengthProperty",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"branch length"'},{name:"colorBranches",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"none"'},{name:"showScale",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"true"},{name:"isRadial",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"treeIndex",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"0"}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};var gQ=xt('<div class="loading svelte-r0sw4j">Loading FEL data...</div>'),vQ=xt('<div class="tile svelte-r0sw4j"><div class="tile-number svelte-r0sw4j"> </div> <div class="tile-description svelte-r0sw4j"> </div></div>'),mQ=xt('<div class="summary-tiles svelte-r0sw4j"></div>'),yQ=xt("<option> </option>"),bQ=xt('<label class="checkbox-label svelte-r0sw4j"><input type="checkbox"> </label>'),_Q=xt('<th><span class="header-content svelte-r0sw4j"> <span class="sort-indicator svelte-r0sw4j"><!></span></span></th>'),wQ=xt('<td class="svelte-r0sw4j"><!></td>'),xQ=xt('<tr class="svelte-r0sw4j"></tr>'),SQ=xt("<button></button>"),MQ=xt('<span class="ellipsis svelte-r0sw4j">...</span>'),TQ=xt("<button> </button>"),$Q=xt('<span class="ellipsis svelte-r0sw4j">...</span>'),AQ=xt("<button>1</button> <!> <!> <!> <button> </button>",1),kQ=xt('<div class="pagination svelte-r0sw4j"><div class="pagination-info svelte-r0sw4j"> </div> <div class="pagination-controls svelte-r0sw4j"><button class="page-btn svelte-r0sw4j">Previous</button> <!> <button class="page-btn svelte-r0sw4j">Next</button></div></div>'),EQ=xt('<div class="table-container svelte-r0sw4j"><table class="svelte-r0sw4j"><thead class="svelte-r0sw4j"><tr></tr></thead><tbody class="svelte-r0sw4j"></tbody></table> <!></div>'),CQ=xt('<p class="no-data svelte-r0sw4j">No sites match the current filter criteria.</p>'),NQ=xt(`<!> <div class="controls-section svelte-r0sw4j"><div class="control-group svelte-r0sw4j"><label for="pvalue-threshold" class="svelte-r0sw4j">p-value threshold:</label> <input id="pvalue-threshold" type="number" min="0" max="1" step="0.01" class="svelte-r0sw4j"></div> <div class="control-group svelte-r0sw4j"><label for="plot-select" class="svelte-r0sw4j">Plot type:</label> <select id="plot-select" class="svelte-r0sw4j"></select></div> <div class="control-group svelte-r0sw4j"><label class="svelte-r0sw4j">Show classes:</label> <div class="checkbox-group svelte-r0sw4j"></div></div></div> <div class="plot-section svelte-r0sw4j"><h3 class="svelte-r0sw4j">Figure 1</h3> <p class="plot-description svelte-r0sw4j"> </p> <div class="plot-container svelte-r0sw4j"></div></div> <div class="tree-section svelte-r0sw4j"><h3>Figure 2</h3> <p class="tree-description svelte-r0sw4j">Phylogenetic tree used in the FEL analysis. Branches can be colored by evolutionary rates.</p> <div class="tree-controls svelte-r0sw4j"><div class="tree-control-group svelte-r0sw4j"><label for="tree-width" class="svelte-r0sw4j"> </label> <input id="tree-width" type="range" min="400" max="2400" step="50" class="tree-slider svelte-r0sw4j"></div> <div class="tree-control-group svelte-r0sw4j"><label for="tree-height" class="svelte-r0sw4j"> </label> <input id="tree-height" type="range" min="300" max="1600" step="25" class="tree-slider svelte-r0sw4j"></div></div> <!></div> <div class="table-section svelte-r0sw4j"><h3>Table 1</h3> <p class="table-description">Detailed site-by-site results from the FEL analysis</p> <!></div> <div class="citation svelte-r0sw4j"><h3>Citation</h3> <code class="svelte-r0sw4j">Kosakovsky Pond SL, Frost SDW. Not so different after all: a comparison of methods for detecting amino acid sites under selection. 
        Mol Biol Evol. 2005;22(5):1208-22. doi:10.1093/molbev/msi105</code></div>`,1),PQ=xt('<div class="fel-visualization svelte-r0sw4j"><!></div>');function LQ(t,e){$i(e,!1);const n=[],r={Diversifying:"#e74c3c",Neutral:"#95a5a6",Purifying:"#3498db",Invariable:"#ecf0f1"};function i(nt){var Nt,oe,ae;const rt=((Nt=nt.MLE)==null?void 0:Nt.content)||{},lt=Object.keys(rt),tt=Object.values(rt).some(qt=>(qt==null?void 0:qt.some(([Vt])=>Vt>0&&Vt!==1))||!1),ot=!!nt["confidence interval"],_t=Object.values(rt).some(qt=>(qt==null?void 0:qt.some(([Vt,Se,Fe,_e,jt])=>jt>0))||!1),Q=!!((oe=nt.MLE)!=null&&oe.LRT),At=Object.values(rt).map(qt=>(qt==null?void 0:qt.filter(([Vt,Se])=>Vt+Se>0))||[]).reduce((qt,Vt)=>qt+((Vt==null?void 0:Vt.length)||0),0),vt=lt.length,St=Object.values(rt).reduce((qt,Vt)=>qt+((Vt==null?void 0:Vt.length)||0),0),zt=((ae=nt.input)==null?void 0:ae["number of sequences"])||10;return{hasSrv:tt,hasCi:ot,hasPositiveLRT:_t,hasPasmt:Q,numberOfSequences:zt,numberOfSites:St,numberOfPartitions:vt,testedBranchCount:5,variableSiteCount:At,hasBackground:tt}}function a(nt,rt){const lt=i(nt),tt=o(nt,rt);return[{number:lt.numberOfSequences,description:"sequences in the alignment",icon:"icon-options-vertical icons",color:"asbestos"},{number:lt.numberOfSites,description:"codon sites in the alignment",icon:"icon-options icons",color:"asbestos"},{number:lt.numberOfPartitions,description:"partitions",icon:"icon-arrow-up icons",color:"asbestos"},{number:lt.testedBranchCount,description:"median branches/partition used for testing",icon:"icon-share icons",color:"asbestos"},{number:lt.variableSiteCount,description:"non-invariant sites tested",icon:"icon-check icons",color:"asbestos"},{number:nt.simulated||"N/A",description:"parametric bootstrap replicates",icon:"icon-layers icons",color:"asbestos"},{number:Zb(tt[0],ot=>ot.class==="Diversifying").length,description:`sites under diversifying positive selection at p${rt}`,icon:"icon-plus icons",color:"midnight_blue"},{number:Zb(tt[0],ot=>ot.class==="Purifying").length,description:`sites under purifying negative selection at p${rt}`,icon:"icon-minus icons",color:"midnight_blue"}]}function o(nt,rt){const lt=i(nt),tt=[],ot=LL(nt.MLE.headers),_t={};return ot.unshift(["Site","Site/Codon index"]),_t.Site=Q=>Q.toString(),_t[ot[1][0]]=Q=>Q.toFixed(3),_t[ot[2][0]]=Q=>Q.toFixed(3),_t[ot[3][0]]=Q=>Q.toFixed(3),_t[ot[4][0]]=Q=>Q.toFixed(3),_t[ot[5][0]]=Q=>Q<=rt?`<b>${Q.toFixed(4)}</b>`:Q.toFixed(4),lt.hasPasmt&&(_t[ot[ot.length-1][0]]=_t[ot[5][0]]),ot[6]&&(_t[ot[6][0]]=Q=>Q.toFixed(3)),ot.push(["class",`Site classification at p<=${rt}`]),_t.class=Q=>`<span style="color:${r[Q]}">${Q}</span>`,Oa(nt.MLE.content,(Q,At)=>{const vt=nt["data partitions"][At].coverage[0];Oa(Q,(St,zt)=>{const mt={partition:+At+1,codon:vt[zt]+1,alpha:+St[0],beta:+St[1],"alpha=beta":+St[2],"dN/dS MLE":+St[3],"p-value":+St[4],class:St[4]<=rt?St[0]<St[1]?"Diversifying":"Purifying":St[0]+St[1]>0?"Neutral":"Invariable"};if(mt.Site=vt[zt]+1,ot[1][0]!=="class"&&(mt[ot[1][0]]=+St[0]),ot[2][0]!=="class"&&(mt[ot[2][0]]=+St[1]),ot[3][0]!=="class"&&(mt[ot[3][0]]=+St[2]),ot[4][0]!=="class"&&(mt[ot[4][0]]=+St[3]),ot[5][0]!=="class"&&(mt[ot[5][0]]=+St[4]),lt.hasPositiveLRT&&(mt[ot[6][0]]=+St[5]),lt.hasCi&&(mt[ot[7][0]]=St[6],mt[ot[8][0]]=St[7],mt[ot[9][0]]=St[8]),lt.hasPasmt){const Nt=ot.length-3;Nt>=0&&Nt<ot.length-1&&(mt[ot[Nt][0]]=St[ot.length-3])}tt.push(mt)})}),[tt,ot,_t]}let u=Ye(e,"data",8,null),c=Ye(e,"pvalueThreshold",12,.1),f=Ye(e,"showColumns",28,()=>["Diversifying","Purifying","Neutral","Invariable"]),d=Ye(e,"plotType",12,"alpha/beta site-level estimates"),p=gt(800),g=gt(500),y={},_=gt([[],[],{}]),b=gt([]),w=gt(""),x=gt([]),M=gt(),A=gt(!1),$=gt(1),P=50,L=gt("Site"),F=gt("asc"),V=[],K=gt([]),W=gt([]),R=gt([]),et=gt(0);function j(nt){return r[nt]||"#000000"}function C(){V=v(_)[0]||[],ut(K,V.filter(nt=>f().includes(nt.class))),ut(W,[...v(K)].sort((nt,rt)=>{const lt=nt[v(L)],tt=rt[v(L)];if(typeof lt=="number"&&typeof tt=="number")return v(F)==="asc"?lt-tt:tt-lt;const ot=String(lt).toLowerCase(),_t=String(tt).toLowerCase();return v(F)==="asc"?ot.localeCompare(_t):_t.localeCompare(ot)})),ut(et,Math.ceil(v(W).length/P)),ut(R,v(W).slice((v($)-1)*P,v($)*P))}async function z(){var rt;if(!((rt=u())!=null&&rt.MLE))return;y=i(u()),ut(_,o(u(),c())),ut(b,a(u(),c()));const nt=vX(y.hasPasmt);ut(x,nt.filter(lt=>lt.available(u())).map(lt=>lt.label)),!v(x).includes(d())&&v(x).length>0&&d(v(x)[0]),C(),ut(A,!0),await wf(),v(M)&&U()}function U(){if(!(!u()||!d()||v(K).length===0||!v(M))){ut(w,mX(d(),c())),Ge(M,v(M).innerHTML="");try{const nt=xX(d(),v(K),c());nt&&v(M).appendChild(nt)}catch(nt){console.error("Error creating plot:",nt),Ge(M,v(M).innerHTML='<p class="error">Error rendering plot</p>')}}}function B(nt){ut($,Math.max(1,Math.min(nt,v(et)))),C()}function at(){v($)<v(et)&&(Ba($),C())}function Z(){v($)>1&&(Ba($,-1),C())}function I(nt){v(L)===nt?ut(F,v(F)==="asc"?"desc":"asc"):(ut(L,nt),ut(F,"asc")),ut($,1),C()}Ci(async()=>{await wf(),u()&&(ut(A,!1),await z())});function E(nt,rt){return rt?rt(nt):String(nt)}Yt(()=>(Oe(u()),Oe(c())),()=>{u()&&c()!==void 0&&(ut(A,!1),z())}),Yt(()=>(Oe(f()),v(_)),()=>{var nt;f()&&((nt=v(_)[0])==null?void 0:nt.length)>0&&(C(),U())}),Yt(()=>(Oe(d()),v(K),v(M)),()=>{d()&&v(K).length>0&&v(M)&&U()}),Ai(),Ei();var H=PQ(),Y=N(H);{var J=nt=>{var rt=gQ();bt(nt,rt)},ht=nt=>{var rt=NQ(),lt=Qn(rt);{var tt=kt=>{var Lt=mQ();Pe(Lt,5,()=>v(b),Ie,(It,Dt)=>{var ye=vQ(),Jt=N(ye),ge=N(Jt),Xt=D(Jt,2),te=N(Xt);Ft(()=>{un(Jt,"style",`color: ${v(Dt).color||"#333"}`),Mt(ge,v(Dt).number),Mt(te,v(Dt).description)}),bt(It,ye)}),bt(kt,Lt)};Ht(lt,kt=>{v(A)&&v(b).length>0&&kt(tt)})}var ot=D(lt,2),_t=N(ot),Q=D(N(_t),2),At=D(_t,2),vt=D(N(At),2);Ft(()=>{d(),Zr(()=>{v(x)})}),Pe(vt,5,()=>v(x),Ie,(kt,Lt)=>{var It=yQ(),Dt={},ye=N(It);Ft(()=>{Dt!==(Dt=v(Lt))&&(It.value=(It.__value=v(Lt))==null?"":v(Lt)),Mt(ye,v(Lt))}),bt(kt,It)});var St=D(At,2),zt=D(N(St),2);Pe(zt,5,()=>Object.keys(r),Ie,(kt,Lt)=>{var It=bQ(),Dt=N(It),ye,Jt=D(Dt);Ft(ge=>{un(It,"style",`border-bottom: 2px solid ${ge??""}`),ye!==(ye=v(Lt))&&(Dt.value=(Dt.__value=v(Lt))==null?"":v(Lt)),Mt(Jt,` ${v(Lt)??""}`)},[()=>j(v(Lt))],Nn),Bw(n,[],Dt,()=>(v(Lt),f()),f),bt(kt,It)});var mt=D(ot,2),Nt=D(N(mt),2),oe=N(Nt),ae=D(Nt,2);nn(ae,kt=>ut(M,kt),()=>v(M));var qt=D(mt,2),Vt=D(N(qt),4),Se=N(Vt),Fe=N(Se),_e=N(Fe),jt=D(Fe,2),Zt=D(Se,2),Qt=N(Zt),pe=N(Qt),ft=D(Qt,2),wt=D(Vt,2);G1(wt,{get data(){return u()},get width(){return v(p)},get height(){return v(g)},branchLengthProperty:"branch length",showScale:!0,isRadial:!1,treeIndex:0});var Tt=D(qt,2),Pt=D(N(Tt),4);{var Et=kt=>{var Lt=EQ(),It=N(Lt),Dt=N(It),ye=N(Dt);Pe(ye,5,()=>v(_)[1],Ie,(te,ee)=>{let ve=()=>v(ee)[0],Te=()=>v(ee)[1];var sn=_Q(),si=N(sn),oi=N(si),Ii=D(oi),sl=N(Ii);{var ma=Vn=>{var Sr=Fa();Ft(()=>Mt(Sr,v(F)==="asc"?"":"")),bt(Vn,Sr)},xr=Vn=>{var Sr=Fa("");bt(Vn,Sr)};Ht(sl,Vn=>{v(L)===ve()?Vn(ma):Vn(xr,!1)})}Ft(()=>{un(sn,"title",Te()),Sl(sn,`sortable ${(v(L)===ve()?"sorted":"")??""} svelte-r0sw4j`),Mt(oi,`${ve()??""} `)}),Ee("click",sn,()=>I(ve())),bt(te,sn)});var Jt=D(Dt);Pe(Jt,5,()=>v(R),te=>te.codon,(te,ee)=>{var ve=xQ();Pe(ve,5,()=>v(_)[1],Ie,(Te,sn)=>{let si=()=>v(sn)[0];var oi=wQ(),Ii=N(oi);Fw(Ii,()=>E(v(ee)[si()],v(_)[2][si()])),bt(Te,oi)}),bt(te,ve)});var ge=D(It,2);{var Xt=te=>{var ee=kQ(),ve=N(ee),Te=N(ve),sn=D(ve,2),si=N(sn),oi=D(si,2);{var Ii=xr=>{var Vn=xb(),Sr=Qn(Vn);Pe(Sr,1,()=>Array(v(et)).fill(0),Ie,(Js,Zu,ya,ol)=>{var ba=SQ();ba.textContent=ya+1,Ft(()=>Sl(ba,`page-btn ${(v($)===ya+1?"active":"")??""} svelte-r0sw4j`)),Ee("click",ba,()=>B(ya+1)),bt(Js,ba)}),bt(xr,Vn)},sl=xr=>{var Vn=AQ(),Sr=Qn(Vn),Js=D(Sr,2);{var Zu=Ur=>{var eo=MQ();bt(Ur,eo)};Ht(Js,Ur=>{v($)>3&&Ur(Zu)})}var ya=D(Js,2);Pe(ya,0,()=>Array(3).fill(0),Ie,(Ur,eo,ns,j1)=>{var Qu=xb(),no=Qn(Qu);{var gd=_a=>{var ro=TQ(),vd=N(ro);Ft(()=>{Sl(ro,`page-btn ${(v($)===v($)+ns-1?"active":"")??""} svelte-r0sw4j`),Mt(vd,v($)+ns-1)}),Ee("click",ro,()=>B(v($)+ns-1)),bt(_a,ro)};Ht(no,_a=>{v($)+ns-1>1&&v($)+ns-1<v(et)&&_a(gd)})}bt(Ur,Qu)});var ol=D(ya,2);{var ba=Ur=>{var eo=$Q();bt(Ur,eo)};Ht(ol,Ur=>{v($)<v(et)-2&&Ur(ba)})}var to=D(ol,2),pd=N(to);Ft(()=>{Sl(Sr,`page-btn ${(v($)===1?"active":"")??""} svelte-r0sw4j`),Sl(to,`page-btn ${(v($)===v(et)?"active":"")??""} svelte-r0sw4j`),Mt(pd,v(et))}),Ee("click",Sr,()=>B(1)),Ee("click",to,()=>B(v(et))),bt(xr,Vn)};Ht(oi,xr=>{v(et)<=7?xr(Ii):xr(sl,!1)})}var ma=D(oi,2);Ft(xr=>{Mt(Te,`Showing ${(v($)-1)*P+1}-${xr??""} of ${v(W).length??""} results`),si.disabled=v($)===1,ma.disabled=v($)===v(et)},[()=>Math.min(v($)*P,v(W).length)],Nn),Ee("click",si,Z),Ee("click",ma,at),bt(te,ee)};Ht(ge,te=>{v(et)>1&&te(Xt)})}bt(kt,Lt)},Ot=kt=>{var Lt=CQ();bt(kt,Lt)};Ht(Pt,kt=>{v(K).length>0?kt(Et):kt(Ot,!1)})}Ft(()=>{Mt(oe,v(w)),Mt(_e,`Width: ${v(p)??""}px`),Mt(pe,`Height: ${v(g)??""}px`)}),aa(Q,c),Qr(vt,d),aa(jt,()=>v(p),kt=>ut(p,kt)),aa(ft,()=>v(g),kt=>ut(g,kt)),bt(nt,rt)};Ht(Y,nt=>{u()?nt(ht,!1):nt(J)})}bt(t,H),ki()}LQ.__docgen={version:3,name:"FelVisualization.svelte",data:[{name:"data",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1,defaultValue:"null"},{name:"pvalueThreshold",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"0.1"},{name:"showColumns",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"string[]"},static:!1,readonly:!1,defaultValue:'["Diversifying", "Purifying", "Neutral", "Invariable"]'},{name:"plotType",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"alpha/beta site-level estimates"'}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};const Xa={Diversifying:"#e3243b",Neutral:"#444",Invariable:"#CCC"};function X1(t){var p;const e=Il(t,["MLE","LRT"])&&((p=VI(Il(t,["MLE","LRT"])[0]))==null?void 0:p.length)||0,n=!!Il(t,["substitutions"]),r=!!LI(Il(t,["MLE","headers"]),g=>g[0]==="Variation p"),i=!1,a=Object.values(t["data partitions"]).map((g,y)=>Object.values(g.coverage[0]).map(_=>[+y+1,_+1])).flat(),o=t.input["number of sequences"],u=t.input["number of sites"],c=t.input["partition count"],f=5,d=Object.values(t["data partitions"]).map(g=>g.coverage[0].length);return{testedBranchCount:f,hasResamples:e,hasSubstitutions:n,hasSiteLRT:r,hasBackground:i,siteIndexPartitionCodon:a,numberOfSequences:o,numberOfSites:u,numberOfPartitions:c,partitionSizes:d}}function K1(t,e){return Object.values(t.MLE.content).map(r=>r.filter(i=>i[6]<=+e).length).reduce((r,i)=>r+i,0)}function IQ(t,e){const n=K1(t,e);return n?(Object.values(t.MLE.content).map(i=>i.filter(a=>a[6]<=+e)).map(i=>i.reduce((a,o)=>a+o[7],0)).reduce((i,a)=>i+a,0)/n).toFixed(2):"N/A"}function OQ(t,e){const n=X1(t),r=K1(t,e),i=IQ(t,e),a=n.hasSiteLRT?Object.values(t.MLE.content).map(o=>o.filter(u=>u[11]<=+e).length).reduce((o,u)=>o+u,0):0;return[{number:t.input["number of sequences"],color:"asbestos",description:"sequences in the alignment",icon:"icon-options-vertical icons"},{number:t.input["number of sites"],color:"asbestos",description:"codon sites in the alignment",icon:"icon-options icons"},{number:t.input["partition count"],color:"asbestos",description:"partitions",icon:"icon-arrow-up icons"},{number:n.testedBranchCount,color:"asbestos",description:"median branches/partition used for testing",icon:"icon-share icons"},{number:n.hasResamples||"N/A",color:"asbestos",description:"parametric bootstrap replicates",icon:"icon-layers icons"},{number:r,color:"midnight_blue",description:"sites subject to episodic diversifying selection",icon:"icon-plus icons"},{number:i,color:"midnight_blue",description:"median branches with support for selection/selected site",icon:"icon-share icons"},{number:a,color:"midnight_blue",description:"sites with variable  across branches",icon:"icon-energy icons"}]}function RQ(t,e){const n=X1(t),r=[];let i=0;const a=OI(t.MLE.headers,u=>(u[2]=u[0],u));return Oa(t["data partitions"],(u,c)=>{const f=t.MLE.content[c];Oa(u.coverage[0],(d,p)=>{const g={Partition:n.siteIndexPartitionCodon[i][0],Codon:n.siteIndexPartitionCodon[i][1],alpha:f[p][0],"beta-":f[p][1],"p-":f[p][2],"beta+":f[p][3],"p+":f[p][4],"p-value":f[p][6],Branches:f[p][7],class:"Neutral"};Oa(a,(_,b)=>{b<8&&(g[_[2]]=f[p][b])});let y="Neutral";f[p][0]===0&&f[p][1]===0&&f[p][3]===0?y="Invariable":f[p][6]<=+e&&(y="Diversifying"),g.class=y,r.push(g),i++})}),[r,{Partition:"Part.",Codon:"Codon",class:"Class",alpha:"","beta-":"-","p-":"p-","beta+":"+","p+":"p+","p-value":"p-value",Branches:"Branches"},a]}function zQ(t,e=1){const n=[];let r=0;return Oa(t["branch attributes"],(i,a)=>{let o=0;Oa(i,(u,c)=>{u["Posterior prob omega class by site"]&&(Oa(u["Posterior prob omega class by site"][e],(f,d)=>{const p=t.MLE.content[a][d][4];n.push({Branch:c,Codon:d+r+1,Posterior:f,ER:FQ(p,f)})}),o=u["Posterior prob omega class by site"][e].length)}),r+=o}),n}function FQ(t,e){let n=t<1?t/(1-t):1/0,r=e<1?e/(1-e):1/0;return r>0?r/n:n===0?1:1/0}const Zn=1e4;function BQ(t,e,n){return[{label:"p-values for selection",available:()=>!0},{label:"p-values for variability",available:()=>t},{label:"Site rates",available:()=>!0},{label:"Support for positive selection",available:()=>n.length>0},{label:"Dense rate plot",available:()=>!0},{label:"Rate density plots",available:()=>!0},{label:"Q-Q plots",available:()=>e>0}]}function DQ(t,e){return{"p-values for selection":`P-values derived from the ${e?"parametric bootstrap":"asymptotic mixture "} test statistic for likelihood ratio tests for episodic diversifying selection. Solid line = user selected significance threshold.`,"p-values for variability":"P-values derived from the asymptotic mixture  test statistic for likelihood ratio tests for variable  at this site. Solid line = user selected significance threshold.","Site rates":`Site-level rate maximum likelihood estimates (MLE). For each site, the horizontal tick depicts the synonymous rate () MLE. Circles show non-synonymous (- and +) MLEs, and the size of a circle reflects the weight parameter inferred for the corresponding rate. The non-synonymous rate estimates are connected by a vertical line to enhance readability and show the range of inferred non-synonymous rates and their relationship to the synonymous rate. Estimates above ${Zn} are censored at this value.`,"Dense rate plot":`Maximum likelihood estimates of synonymous (), non-synonymous rates (-, +), and non-synonymous weights (p-,p+) at each site. Estimates above ${Zn} are censored at this value. p-values for episodic diversifying selection are also shown`,"Rate density plots":`Kernel density estimates of site-level rate estimates. Means are shown with red rules. Estimates above ${Zn} are censored at this value.`,"Support for positive selection":"Empirical Bayes Factors for >1 at a particular branch and site (only tested branches are included).","Q-Q plots":"Comparison of asymptotic vs bootstrap LRT distributions (limited to 60 sites)."}[t]||""}function UQ(t,e){return Re({width:800,height:300,marginBottom:40,x:{label:"Codon position",grid:!0},y:{label:"p-value",type:"log",grid:!0},color:{type:"categorical",domain:Object.keys(Xa),range:Object.values(Xa),legend:!0},marks:[cn([e],{stroke:"black",strokeWidth:2,strokeDasharray:"4,2"}),Mn(t,{x:"Codon",y:"p-value",fill:"class",r:3,tip:!0})]})}function WQ(t){const e=t.flatMap(n=>{const r=Math.min(n.alpha,Zn),i=Math.min(n["beta-"],Zn),a=Math.min(n["beta+"],Zn);return[{codon:n.Codon,rate:r,type:"alpha",weight:1,class:n.class},{codon:n.Codon,rate:i,type:"beta-",weight:n["p-"],class:n.class},{codon:n.Codon,rate:a,type:"beta+",weight:n["p+"],class:n.class}]});return Re({width:800,height:400,marginBottom:40,x:{label:"Codon position",grid:!0},y:{label:"Rate estimate",type:"sqrt",grid:!0},color:{type:"categorical",domain:Object.keys(Xa),range:Object.values(Xa),legend:!0},marks:[gX(e.filter(n=>n.type==="alpha"),{x:"codon",y:"rate",stroke:"class",strokeWidth:2}),Mn(e.filter(n=>n.type.startsWith("beta")),{x:"codon",y:"rate",fill:"class",r:n=>Math.sqrt(n.weight)*8,fillOpacity:.7,tip:!0}),M1(t.map(n=>({codon:n.Codon,y1:Math.min(n["beta-"],Zn),y2:Math.min(n["beta+"],Zn),class:n.class})),{x:"codon",y1:"y1",y2:"y2",stroke:"class",strokeWidth:1,strokeOpacity:.5})]})}function qQ(t){const e=t.flatMap(n=>[{codon:n.Codon,rate:Math.min(n.alpha,Zn),type:"",class:n.class,pvalue:n["p-value"]},{codon:n.Codon,rate:Math.min(n["beta-"],Zn),type:"-",class:n.class,pvalue:n["p-value"]},{codon:n.Codon,rate:Math.min(n["beta+"],Zn),type:"+",class:n.class,pvalue:n["p-value"]}]);return Re({width:800,height:500,facet:{data:e,y:"type",marginRight:80},x:{label:"Codon position"},y:{label:"Rate estimate",grid:!0},color:{type:"categorical",domain:Object.keys(Xa),range:Object.values(Xa),legend:!0},marks:[Ga(e,{x:"codon",y:"rate",fill:"class",fillOpacity:.7,tip:!0})]})}function HQ(t){const e=t.map(c=>Math.min(c.alpha,Zn)),n=t.map(c=>Math.min(c["beta-"],Zn)),r=t.map(c=>Math.min(c["beta+"],Zn)),i=Hl(e),a=Hl(n),o=Hl(r),u=[...e.map(c=>({value:c,type:""})),...n.map(c=>({value:c,type:"-"})),...r.map(c=>({value:c,type:"+"}))];return Re({width:600,height:400,x:{label:"Rate value",grid:!0},y:{label:"Density",grid:!0},color:{domain:["","-","+"],range:["steelblue","orange","red"]},marks:[Ig(u,Ao({y:"count"},{x:"value",fill:"type",fillOpacity:.3,curve:"basis"})),sa([i],{stroke:"steelblue",strokeWidth:2,strokeDasharray:"4,2"}),sa([a],{stroke:"orange",strokeWidth:2,strokeDasharray:"4,2"}),sa([o],{stroke:"red",strokeWidth:2,strokeDasharray:"4,2"}),za([{x:i,y:0,text:`: ${i.toFixed(2)}`,type:""},{x:a,y:0,text:`-: ${a.toFixed(2)}`,type:"-"},{x:o,y:0,text:`+: ${o.toFixed(2)}`,type:"+"}],{x:"x",y:"y",text:"text",fill:c=>c.type===""?"steelblue":c.type==="-"?"orange":"red",dy:-10,fontSize:12})]})}function VQ(t){return!t||t.length===0?null:Re({width:800,height:400,x:{label:"Codon position",grid:!0},y:{label:"Empirical Bayes Factor",type:"log",grid:!0},marks:[Mn(t,{x:"Codon",y:"ER",fill:"Branch",r:3,fillOpacity:.7,tip:!0}),cn([1],{stroke:"black",strokeDasharray:"2,2"})]})}function YQ(t,e,n,r){switch(t){case"p-values for selection":return UQ(e,n);case"Site rates":return WQ(e);case"Dense rate plot":return qQ(e);case"Rate density plots":return HQ(e);case"Support for positive selection":return VQ(r||[]);default:return null}}var GQ=xt('<div class="loading svelte-12fwk7p">Loading MEME data...</div>'),XQ=xt('<div class="tile svelte-12fwk7p"><div class="tile-number svelte-12fwk7p"> </div> <div class="tile-description svelte-12fwk7p"> </div></div>'),KQ=xt('<div class="summary-tiles svelte-12fwk7p"></div>'),jQ=xt("<option> </option>"),ZQ=xt('<label class="checkbox-label svelte-12fwk7p"><input type="checkbox"> </label>'),QQ=xt('<th class="svelte-12fwk7p"> </th>'),JQ=xt('<td class="svelte-12fwk7p"><!></td>'),tJ=xt('<tr class="svelte-12fwk7p"></tr>'),eJ=xt('<div class="table-container svelte-12fwk7p"><table class="svelte-12fwk7p"><thead class="svelte-12fwk7p"><tr></tr></thead><tbody class="svelte-12fwk7p"></tbody></table></div>'),nJ=xt('<p class="no-data svelte-12fwk7p">No sites match the current filter criteria.</p>'),rJ=xt(`<!> <div class="controls-section svelte-12fwk7p"><div class="control-group svelte-12fwk7p"><label for="pvalue-threshold" class="svelte-12fwk7p">p-value threshold:</label> <input id="pvalue-threshold" type="number" min="0" max="1" step="0.01" class="svelte-12fwk7p"></div> <div class="control-group svelte-12fwk7p"><label for="plot-select" class="svelte-12fwk7p">Plot type:</label> <select id="plot-select" class="svelte-12fwk7p"></select></div> <div class="control-group svelte-12fwk7p"><fieldset><legend>Show classes:</legend> <div class="checkbox-group svelte-12fwk7p"></div></fieldset></div></div> <div class="plot-section svelte-12fwk7p"><h3 class="svelte-12fwk7p">Figure 1</h3> <p class="plot-description svelte-12fwk7p"> </p> <div class="plot-container svelte-12fwk7p"></div></div> <div class="tree-section svelte-12fwk7p"><h3>Figure 2</h3> <p class="tree-description svelte-12fwk7p">Phylogenetic tree used in the MEME analysis. Branches can be colored by evolutionary rates.</p> <div class="tree-controls svelte-12fwk7p"><div class="tree-control-group svelte-12fwk7p"><label for="tree-width" class="svelte-12fwk7p"> </label> <input id="tree-width" type="range" min="400" max="2400" step="50" class="tree-slider svelte-12fwk7p"></div> <div class="tree-control-group svelte-12fwk7p"><label for="tree-height" class="svelte-12fwk7p"> </label> <input id="tree-height" type="range" min="300" max="1600" step="25" class="tree-slider svelte-12fwk7p"></div></div> <!></div> <div class="table-section svelte-12fwk7p"><h3>Table 1</h3> <p class="table-description"> </p> <!></div> <div class="citation svelte-12fwk7p"><h3>Citation</h3> <code class="svelte-12fwk7p">Murrell B, Wertheim JO, Moola S, Weighill T, Scheffler K, Kosakovsky Pond SL. 
        Detecting individual sites subject to episodic diversifying selection. 
        PLoS Genet. 2012;8(7):e1002764. doi:10.1371/journal.pgen.1002764</code></div>`,1),iJ=xt('<div class="meme-visualization svelte-12fwk7p"><!></div>');function aJ(t,e){$i(e,!1);const n=[];let r=Ye(e,"data",8,null),i=Ye(e,"pvalueThreshold",12,.1),a=Ye(e,"showColumns",28,()=>["Diversifying","Neutral","Invariable"]),o=Ye(e,"plotType",12,"p-values for selection"),u=gt(800),c=gt(500),f={},d=gt([[],[],{}]),p=gt([]),g=gt(""),y=gt([]),_=gt(),b=gt(0),w=[],x=gt(!1),M=[],A=gt([]);function $(j){return Xa[j]||"#000000"}function P(){M=v(d)[0]||[],ut(A,M.filter(j=>a().includes(j.class)))}async function L(){var C;if(!((C=r())!=null&&C.MLE))return;f=X1(r()),ut(d,RQ(r(),i())),ut(p,OQ(r(),i())),ut(b,K1(r(),i()));try{w=zQ(r())}catch{w=[]}const j=BQ(f.hasSiteLRT,f.hasResamples,w);ut(y,j.filter(z=>z.available(r())).map(z=>z.label)),!v(y).includes(o())&&v(y).length>0&&o(v(y)[0]),P(),ut(x,!0),await wf(),v(_)&&F()}function F(){if(!(!r()||!o()||v(A).length===0||!v(_))){ut(g,DQ(o(),f.hasResamples)),Ge(_,v(_).innerHTML="");try{const j=YQ(o(),v(A),i(),w);j&&v(_).appendChild(j)}catch(j){console.error("Error creating plot:",j),Ge(_,v(_).innerHTML='<p class="error">Error rendering plot</p>')}}}Ci(async()=>{await wf(),r()&&(ut(x,!1),await L())});function V(j,C){return C?C(j):String(j)}Yt(()=>(Oe(r()),Oe(i())),()=>{r()&&i()!==void 0&&(ut(x,!1),L())}),Yt(()=>(Oe(a()),v(d)),()=>{var j;a()&&((j=v(d)[0])==null?void 0:j.length)>0&&(P(),F())}),Yt(()=>(Oe(o()),v(A),v(_)),()=>{o()&&v(A).length>0&&v(_)&&F()}),Ai(),Ei();var K=iJ(),W=N(K);{var R=j=>{var C=GQ();bt(j,C)},et=j=>{var C=rJ(),z=Qn(C);{var U=jt=>{var Zt=KQ();Pe(Zt,5,()=>v(p),Ie,(Qt,pe)=>{var ft=XQ(),wt=N(ft),Tt=N(wt),Pt=D(wt,2),Et=N(Pt);Ft(()=>{un(wt,"style",`color: ${v(pe).color||"#333"}`),Mt(Tt,v(pe).number),Mt(Et,v(pe).description)}),bt(Qt,ft)}),bt(jt,Zt)};Ht(z,jt=>{v(x)&&v(p).length>0&&jt(U)})}var B=D(z,2),at=N(B),Z=D(N(at),2),I=D(at,2),E=D(N(I),2);Ft(()=>{o(),Zr(()=>{v(y)})}),Pe(E,5,()=>v(y),Ie,(jt,Zt)=>{var Qt=jQ(),pe={},ft=N(Qt);Ft(()=>{pe!==(pe=v(Zt))&&(Qt.value=(Qt.__value=v(Zt))==null?"":v(Zt)),Mt(ft,v(Zt))}),bt(jt,Qt)});var H=D(I,2),Y=N(H),J=D(N(Y),2);Pe(J,5,()=>Object.keys(Xa),Ie,(jt,Zt)=>{var Qt=ZQ(),pe=N(Qt),ft,wt=D(pe);Ft(Tt=>{un(Qt,"style",`border-bottom: 2px solid ${Tt??""}`),ft!==(ft=v(Zt))&&(pe.value=(pe.__value=v(Zt))==null?"":v(Zt)),Mt(wt,` ${v(Zt)??""}`)},[()=>$(v(Zt))],Nn),Bw(n,[],pe,()=>(v(Zt),a()),a),bt(jt,Qt)});var ht=D(B,2),nt=D(N(ht),2),rt=N(nt),lt=D(nt,2);nn(lt,jt=>ut(_,jt),()=>v(_));var tt=D(ht,2),ot=D(N(tt),4),_t=N(ot),Q=N(_t),At=N(Q),vt=D(Q,2),St=D(_t,2),zt=N(St),mt=N(zt),Nt=D(zt,2),oe=D(ot,2);G1(oe,{get data(){return r()},get width(){return v(u)},get height(){return v(c)},branchLengthProperty:"branch length",showScale:!0,isRadial:!1,treeIndex:0});var ae=D(tt,2),qt=D(N(ae),2),Vt=N(qt),Se=D(qt,2);{var Fe=jt=>{var Zt=eJ(),Qt=N(Zt),pe=N(Qt),ft=N(pe);Pe(ft,5,()=>v(d)[1],Ie,(Tt,Pt)=>{let Et=()=>v(Pt)[0],Ot=()=>v(Pt)[1];var kt=QQ(),Lt=N(kt);Ft(()=>{un(kt,"title",Ot()),Mt(Lt,Et())}),bt(Tt,kt)});var wt=D(pe);Pe(wt,5,()=>v(A),Ie,(Tt,Pt)=>{var Et=tJ();Pe(Et,5,()=>v(d)[1],Ie,(Ot,kt)=>{let Lt=()=>v(kt)[0];var It=JQ(),Dt=N(It);Fw(Dt,()=>V(v(Pt)[Lt()],v(d)[2][Lt()])),bt(Ot,It)}),bt(Tt,Et)}),bt(jt,Zt)},_e=jt=>{var Zt=nJ();bt(jt,Zt)};Ht(Se,jt=>{v(A).length>0?jt(Fe):jt(_e,!1)})}Ft(()=>{Mt(rt,v(g)),Mt(At,`Width: ${v(u)??""}px`),Mt(mt,`Height: ${v(c)??""}px`),Mt(Vt,`${v(b)??""} sites found to be under positive selection at p  ${i()??""}`)}),aa(Z,i),Qr(E,o),aa(vt,()=>v(u),jt=>ut(u,jt)),aa(Nt,()=>v(c),jt=>ut(c,jt)),bt(j,C)};Ht(W,j=>{r()?j(et,!1):j(R)})}bt(t,K),ki()}aJ.__docgen={version:3,name:"MemeVisualization.svelte",data:[{name:"data",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1,defaultValue:"null"},{name:"pvalueThreshold",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"0.1"},{name:"showColumns",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"string[]"},static:!1,readonly:!1,defaultValue:'["Diversifying", "Neutral", "Invariable"]'},{name:"plotType",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"p-values for selection"'}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};function Lw(t){return{sequences:t.sequences,sites:t.sites,branchesTested:t["branches tested"],branchesWithSelection:t["branches with selection"],pValueThreshold:t["p-value threshold"],baselineLogLikelihood:t.fits["Baseline model"]["log-likelihood"],fullModelLogLikelihood:t.fits["Full adaptive model"]["log-likelihood"],lrt:2*(t.fits["Full adaptive model"]["log-likelihood"]-t.fits["Baseline model"]["log-likelihood"]),baselineAIC:t.fits["Baseline model"].AIC,fullModelAIC:t.fits["Full adaptive model"].AIC}}function Iw(t){const e=t["test results"],n=t["branch attributes"];return Object.keys(e).map(r=>{const i=e[r],a=(n==null?void 0:n[r])||{},o=a["Rate Distributions"]||a["Rate classes"]||[];return{name:r,"Rate classes":i["Rate classes"],"Uncorrected P-value":i["Uncorrected P-value"],"Corrected P-value":i["Corrected P-value"],"Bayes Factor":i["Bayes Factor"]," distribution":Array.isArray(o)?o:[]}})}function Ow(t){var a;const e=(a=t["Site Log Likelihood"])==null?void 0:a.tested;if(!e)return[];const n=Object.keys(e),r=e[n[0]];if(!r||!Array.isArray(r))return[];const i=r.length;return Array.from({length:i},(o,u)=>{const c={site:u+1,partition:1};return n.forEach(f=>{const d=e[f];if(Array.isArray(d)&&d[u]!==void 0){const p=Array.isArray(d[u])?d[u][0]:d[u];c[f]=typeof p=="number"?p:0}}),c})}function Rw(t,e=.05){return t.filter(n=>n["Corrected P-value"]<=e)}function zw(){return[{key:"name",label:"Branch",sortable:!0},{key:"Rate classes",label:"Rate Classes",sortable:!0},{key:"Uncorrected P-value",label:"Uncorrected p-value",sortable:!0},{key:"Corrected P-value",label:"Corrected p-value",sortable:!0},{key:"Bayes Factor",label:"Bayes Factor",sortable:!0}]}function sJ(t,e){return typeof t!="number"?String(t):e.includes("p-value")||e.includes("P-value")?t<.001?t.toExponential(2):t.toFixed(4):e==="Bayes Factor"?t.toFixed(2):e==="Rate classes"?t.toString():t.toFixed(4)}function oJ(t,e=.05){return t<=.001?"#8B0000":t<=.01?"#DC143C":t<=e?"#FF6347":"#000000"}function lJ(t,e=.05){if(!t.length)return null;const n=t.map((i,a)=>({branch:i.name,index:a,uncorrectedPValue:i["Uncorrected P-value"],correctedPValue:i["Corrected P-value"],logUncorrected:-Math.log10(Math.max(i["Uncorrected P-value"],1e-10)),logCorrected:-Math.log10(Math.max(i["Corrected P-value"],1e-10)),significant:i["Corrected P-value"]<=e})),r=-Math.log10(e);return Re({title:"Branch Selection Significance",subtitle:`p-value threshold: ${e}`,width:800,height:400,marginLeft:100,marginBottom:120,x:{type:"band",domain:n.map(i=>i.branch),label:"Branch",tickRotate:-45},y:{label:"-log(p-value)",grid:!0},color:{legend:!0,range:["#1f77b4","#ff7f0e"]},marks:[cn([r],{stroke:"#d62728",strokeDasharray:"5,5",strokeWidth:2}),Mn(n,{x:"branch",y:"logUncorrected",fill:"#1f77b4",r:6,title:i=>`${i.branch}
Uncorrected: ${i.uncorrectedPValue.toExponential(2)}`}),Mn(n,{x:"branch",y:"logCorrected",fill:"#ff7f0e",r:6,title:i=>`${i.branch}
Corrected: ${i.correctedPValue.toExponential(2)}`}),Mn(n.filter(i=>i.significant),{x:"branch",y:"logCorrected",stroke:"#d62728",strokeWidth:3,fill:"none",r:8})]})}function uJ(t){if(!t.length)return null;const e=t.map((n,r)=>({branch:n.name,index:r,bayesFactor:n["Bayes Factor"],logBayesFactor:Math.log10(Math.max(n["Bayes Factor"],1e-10)),evidenceLevel:dJ(n["Bayes Factor"])}));return Re({title:"Bayes Factor Evidence for Selection",subtitle:"Higher values indicate stronger evidence for selection",width:800,height:400,marginLeft:100,marginBottom:120,x:{type:"band",domain:e.map(n=>n.branch),label:"Branch",tickRotate:-45},y:{label:"log(Bayes Factor)",grid:!0},color:{type:"ordinal",domain:["Very Strong","Strong","Substantial","Weak","No Evidence"],range:["#8B0000","#DC143C","#FF6347","#FFA500","#808080"]},marks:[cn([0],{stroke:"#666",strokeDasharray:"3,3"}),cn([Math.log10(3)],{stroke:"#999",strokeDasharray:"3,3"}),cn([Math.log10(10)],{stroke:"#999",strokeDasharray:"3,3"}),cn([Math.log10(100)],{stroke:"#999",strokeDasharray:"3,3"}),Ga(e,{x:"branch",y:"logBayesFactor",fill:"evidenceLevel",title:n=>`${n.branch}
Bayes Factor: ${n.bayesFactor.toFixed(2)}
Evidence: ${n.evidenceLevel}`})]})}function cJ(t){if(!t[" distribution"]||!t[" distribution"].length)return null;const e=t[" distribution"].map((n,r)=>({rateClass:n["rate class"]||r+1,omega:n.omega,weight:n.weight,category:n.omega>1?"Positive Selection ( > 1)":n.omega===1?"Neutral ( = 1)":"Purifying Selection ( < 1)"}));return Re({title:` Distribution for ${t.name}`,subtitle:"Rate classes and their weights",width:600,height:300,marginLeft:80,x:{label:"Rate Class",grid:!0},y:{label:" (dN/dS)",grid:!0},color:{type:"ordinal",domain:["Purifying Selection ( < 1)","Neutral ( = 1)","Positive Selection ( > 1)"],range:["#1f77b4","#2ca02c","#d62728"]},marks:[cn([1],{stroke:"#666",strokeDasharray:"3,3"}),Mn(e,{x:"rateClass",y:"omega",fill:"category",r:n=>Math.sqrt(n.weight)*20,title:n=>`Rate Class ${n.rateClass}
 = ${n.omega.toFixed(3)}
Weight = ${n.weight.toFixed(3)}`})]})}function fJ(t,e=[]){if(!t.length)return null;const n=Object.keys(t[0]).filter(a=>a!=="site"&&a!=="partition"),r=e.length>0?e:n.slice(0,3),i=t.flatMap(a=>r.map(o=>({site:a.site,branch:o,logLikelihood:a[o]||0})));return Re({title:"Site-Level Log Likelihood",subtitle:`Showing ${r.join(", ")}`,width:1e3,height:400,marginLeft:80,x:{label:"Site",grid:!0},y:{label:"Log Likelihood",grid:!0},color:{legend:!0},marks:[gu(i,{x:"site",y:"logLikelihood",stroke:"branch",strokeWidth:2}),Mn(i.filter((a,o)=>o%10===0),{x:"site",y:"logLikelihood",fill:"branch",r:3})]})}function hJ(t){const e=t.fits["Baseline model"],n=t.fits["Full adaptive model"],r=[{model:"Baseline",logLikelihood:e["log-likelihood"],AIC:e.AIC,parameters:e.parameters},{model:"Full Adaptive",logLikelihood:n["log-likelihood"],AIC:n.AIC,parameters:n.parameters}];return Re({title:"Model Comparison",subtitle:"Log Likelihood and AIC values",width:500,height:300,marginLeft:100,x:{type:"band",domain:["Baseline","Full Adaptive"],label:"Model"},y:{label:"Log Likelihood",grid:!0},marks:[Ga(r,{x:"model",y:"logLikelihood",fill:"#1f77b4",title:i=>`${i.model}
Log-L: ${i.logLikelihood.toFixed(2)}
AIC: ${i.AIC.toFixed(2)}
Parameters: ${i.parameters}`})]})}function dJ(t){return t>=100?"Very Strong":t>=10?"Strong":t>=3?"Substantial":t>=1?"Weak":"No Evidence"}var pJ=xt('<div class="loading svelte-bazkt5">Loading ABSREL data...</div>'),gJ=xt('<div class="summary-tiles svelte-bazkt5"><div class="tile svelte-bazkt5"><div class="tile-number svelte-bazkt5"> </div> <div class="tile-description svelte-bazkt5">Sequences</div></div> <div class="tile svelte-bazkt5"><div class="tile-number svelte-bazkt5"> </div> <div class="tile-description svelte-bazkt5">Sites</div></div> <div class="tile svelte-bazkt5"><div class="tile-number svelte-bazkt5"> </div> <div class="tile-description svelte-bazkt5">Branches Tested</div></div> <div class="tile svelte-bazkt5"><div class="tile-number svelte-bazkt5"> </div> <div class="tile-description svelte-bazkt5">Branches with Selection</div></div> <div class="tile svelte-bazkt5"><div class="tile-number svelte-bazkt5"> </div> <div class="tile-description svelte-bazkt5">Likelihood Ratio Test</div></div></div>'),vJ=xt("<option> </option>"),mJ=xt(`<div class="plot-section svelte-bazkt5"><h3 class="svelte-bazkt5"> Distribution</h3> <p class="plot-description svelte-bazkt5">Rate classes and their weights for the selected branch. 
          Classes with  > 1 indicate positive selection.</p> <div class="plot-container svelte-bazkt5"></div></div>`),yJ=xt('<div class="plot-section svelte-bazkt5"><h3 class="svelte-bazkt5">Site-Level Log Likelihood</h3> <p class="plot-description svelte-bazkt5">Log likelihood values across sites for selected branches.</p> <div class="plot-container svelte-bazkt5"></div></div>'),bJ=xt('<span class="sort-indicator svelte-bazkt5"><!></span>'),_J=xt('<th class="svelte-bazkt5"><div class="header-content svelte-bazkt5"><span> </span> <!></div></th>'),wJ=xt('<td class="svelte-bazkt5"> </td>'),xJ=xt('<tr><td class="svelte-bazkt5"><input type="checkbox"></td><!></tr>'),SJ=xt('<button class="page-btn svelte-bazkt5"> </button>'),MJ=xt('<div class="pagination svelte-bazkt5"><div class="pagination-info svelte-bazkt5"> </div> <div class="pagination-controls svelte-bazkt5"><button class="page-btn svelte-bazkt5"></button> <button class="page-btn svelte-bazkt5"></button> <!> <button class="page-btn svelte-bazkt5"></button> <button class="page-btn svelte-bazkt5"></button></div> <div class="page-size-control svelte-bazkt5"><label for="page-size">Per page:</label> <select id="page-size" class="svelte-bazkt5"><option>25</option><option>50</option><option>100</option></select></div></div>'),TJ=xt(`<div class="analysis-info svelte-bazkt5"><h2 class="svelte-bazkt5">aBSREL Analysis Results</h2> <p><strong>Adaptive Branch-Site Random Effects Likelihood</strong> test for 
        episodic positive selection. This analysis tests whether branches have 
        experienced episodic positive selection without requiring a priori 
        specification of lineages.</p></div> <!> <div class="controls svelte-bazkt5"><div class="control-group svelte-bazkt5"><label for="pvalue-threshold" class="svelte-bazkt5">p-value threshold:</label> <input type="number" id="pvalue-threshold" min="0.001" max="0.1" step="0.001" class="svelte-bazkt5"></div> <div class="control-group svelte-bazkt5"><label class="svelte-bazkt5"><input type="checkbox"> Show only significant branches</label></div> <div class="control-group svelte-bazkt5"><label for="omega-branch" class="svelte-bazkt5"> distribution for branch:</label> <select id="omega-branch" class="svelte-bazkt5"><option>Select a branch...</option><!></select></div></div> <div class="plot-section svelte-bazkt5"><h3 class="svelte-bazkt5">Model Comparison</h3> <p class="plot-description svelte-bazkt5">Comparison of baseline and full adaptive models based on log likelihood.</p> <div class="plot-container svelte-bazkt5"></div></div> <div class="plot-section svelte-bazkt5"><h3 class="svelte-bazkt5">Branch Selection Significance</h3> <p class="plot-description svelte-bazkt5">Uncorrected and corrected p-values for each tested branch. 
        Branches below the threshold line show evidence of selection.</p> <div class="plot-container svelte-bazkt5"></div></div> <div class="plot-section svelte-bazkt5"><h3 class="svelte-bazkt5">Bayes Factor Evidence</h3> <p class="plot-description svelte-bazkt5">Bayes Factor evidence for positive selection on each branch. 
        Higher values indicate stronger evidence.</p> <div class="plot-container svelte-bazkt5"></div></div> <!> <!> <div class="table-section svelte-bazkt5"><h3 class="svelte-bazkt5">Branch Test Results</h3> <p class="table-description svelte-bazkt5">Statistical test results for each branch. Click column headers to sort. 
        Select branches to view in site-level plots.</p> <div class="table-container svelte-bazkt5"><table class="svelte-bazkt5"><thead><tr><th class="svelte-bazkt5">Select</th><!></tr></thead><tbody></tbody></table></div> <!></div> <div class="citation svelte-bazkt5"><h3 class="svelte-bazkt5">Citation</h3> <code class="svelte-bazkt5">Smith MD, Wertheim JO, Weaver S, Murrell B, Scheffler K, Kosakovsky Pond SL. 
        Less is more: an adaptive branch-site random effects model for efficient 
        detection of episodic diversifying selection. Mol Biol Evol. 2015;32(5):1342-53.</code></div>`,1),$J=xt('<div class="absrel-visualization svelte-bazkt5"><!></div>');function AJ(t,e){$i(e,!1);const n=gt(),r=gt(),i=gt(),a=gt(),o=gt(),u=gt(),c=gt(),f=gt(),d=gt();let p=Ye(e,"data",8),g=gt(.05),y=gt([]),_=gt(!1),b=gt(""),w=gt("Corrected P-value"),x=gt("asc"),M=gt(1),A=gt(25),$=gt(),P=gt(),L=gt(),F=gt(),V=gt(),K=gt(!1);Ci(()=>{ut(K,!0)});function W(){if(v($)){const B=lJ(v(r),v(g));B&&(Ge($,v($).innerHTML=""),v($).appendChild(B))}if(v(P)){const B=uJ(v(r));B&&(Ge(P,v(P).innerHTML=""),v(P).appendChild(B))}if(v(L)&&v(b)){const B=v(r).find(at=>at.name===v(b));if(B){const at=cJ(B);at&&(Ge(L,v(L).innerHTML=""),v(L).appendChild(at))}}if(v(F)&&v(a).length>0){const B=fJ(v(a),v(y));B&&(Ge(F,v(F).innerHTML=""),v(F).appendChild(B))}if(v(V)&&p()){const B=hJ(p());B&&(Ge(V,v(V).innerHTML=""),v(V).appendChild(B))}}function R(B){v(w)===B?ut(x,v(x)==="asc"?"desc":"asc"):(ut(w,B),ut(x,"asc")),ut(M,1)}function et(B){v(y).includes(B)?ut(y,v(y).filter(at=>at!==B)):ut(y,[...v(y),B])}Yt(()=>(Oe(p()),Lw),()=>{ut(n,p()?Lw(p()):null)}),Yt(()=>(Oe(p()),Iw),()=>{ut(r,p()?Iw(p()):[])}),Yt(()=>(v(r),Rw),()=>{ut(i,v(r)?Rw(v(r)):[])}),Yt(()=>(Oe(p()),Ow),()=>{ut(a,p()?Ow(p()):[])}),Yt(()=>(v(_),v(i),v(r)),()=>{ut(o,v(_)?v(i):v(r))}),Yt(()=>(v(o),v(w),v(x)),()=>{ut(u,[...v(o)].sort((B,at)=>{const Z=B[v(w)],I=at[v(w)],E=typeof Z=="number"&&typeof I=="number"?Z-I:String(Z).localeCompare(String(I));return v(x)==="asc"?E:-E}))}),Yt(()=>(v(u),v(A)),()=>{ut(c,Math.ceil(v(u).length/v(A)))}),Yt(()=>(v(u),v(M),v(A)),()=>{ut(f,v(u).slice((v(M)-1)*v(A),v(M)*v(A)))}),Yt(()=>(v(K),v(r)),()=>{v(K)&&v(r).length>0&&W()}),Yt(()=>zw,()=>{ut(d,zw())}),Ai(),Ei();var j=$J(),C=N(j);{var z=B=>{var at=pJ();bt(B,at)},U=B=>{var at=TJ(),Z=D(Qn(at),2);{var I=ft=>{var wt=gJ(),Tt=N(wt),Pt=N(Tt),Et=N(Pt),Ot=D(Tt,2),kt=N(Ot),Lt=N(kt),It=D(Ot,2),Dt=N(It),ye=N(Dt),Jt=D(It,2),ge=N(Jt),Xt=N(ge),te=D(Jt,2),ee=N(te),ve=N(ee);Ft(Te=>{Mt(Et,v(n).sequences),Mt(Lt,v(n).sites),Mt(ye,v(n).branchesTested),Mt(Xt,v(n).branchesWithSelection),Mt(ve,Te)},[()=>v(n).lrt.toFixed(2)],Nn),bt(ft,wt)};Ht(Z,ft=>{v(n)&&ft(I)})}var E=D(Z,2),H=N(E),Y=D(N(H),2),J=D(H,2),ht=N(J),nt=N(ht),rt=D(J,2),lt=D(N(rt),2);Ft(()=>{v(b),Zr(()=>{v(r)})});var tt=N(lt);tt.value=((tt.__value="")==null,"");var ot=D(tt);Pe(ot,1,()=>v(r),Ie,(ft,wt)=>{var Tt=vJ(),Pt={},Et=N(Tt);Ft(()=>{Pt!==(Pt=v(wt).name)&&(Tt.value=(Tt.__value=v(wt).name)==null?"":v(wt).name),Mt(Et,v(wt).name)}),bt(ft,Tt)});var _t=D(E,2),Q=D(N(_t),4);nn(Q,ft=>ut(V,ft),()=>v(V));var At=D(_t,2),vt=D(N(At),4);nn(vt,ft=>ut($,ft),()=>v($));var St=D(At,2),zt=D(N(St),4);nn(zt,ft=>ut(P,ft),()=>v(P));var mt=D(St,2);{var Nt=ft=>{var wt=mJ(),Tt=D(N(wt),4);nn(Tt,Pt=>ut(L,Pt),()=>v(L)),bt(ft,wt)};Ht(mt,ft=>{v(b)&&ft(Nt)})}var oe=D(mt,2);{var ae=ft=>{var wt=yJ(),Tt=D(N(wt),4);nn(Tt,Pt=>ut(F,Pt),()=>v(F)),bt(ft,wt)};Ht(oe,ft=>{v(y).length>0&&ft(ae)})}var qt=D(oe,2),Vt=D(N(qt),4),Se=N(Vt),Fe=N(Se),_e=N(Fe),jt=D(N(_e));Pe(jt,1,()=>v(d),Ie,(ft,wt)=>{var Tt=_J(),Pt=N(Tt),Et=N(Pt),Ot=N(Et),kt=D(Et,2);{var Lt=It=>{var Dt=bJ(),ye=N(Dt);{var Jt=Xt=>{var te=Fa();Ft(()=>Mt(te,v(x)==="asc"?"":"")),bt(Xt,te)},ge=Xt=>{var te=Fa("");bt(Xt,te)};Ht(ye,Xt=>{v(w)===v(wt).key?Xt(Jt):Xt(ge,!1)})}bt(It,Dt)};Ht(kt,It=>{v(wt).sortable&&It(Lt)})}Ft(()=>{mi(Tt,"sortable",v(wt).sortable),mi(Tt,"sorted",v(w)===v(wt).key),Mt(Ot,v(wt).label)}),Ee("click",Tt,()=>v(wt).sortable&&R(v(wt).key)),bt(ft,Tt)});var Zt=D(Fe);Pe(Zt,5,()=>v(f),Ie,(ft,wt)=>{var Tt=xJ(),Pt=N(Tt),Et=N(Pt),Ot=D(Pt);Pe(Ot,1,()=>v(d),Ie,(kt,Lt)=>{var It=wJ(),Dt=N(It);Ft((ye,Jt)=>{un(It,"style",`color: ${ye??""}`),Mt(Dt,Jt)},[()=>v(Lt).key.includes("p-value")||v(Lt).key.includes("P-value")?oJ(v(wt)[v(Lt).key],v(g)):"inherit",()=>sJ(v(wt)[v(Lt).key],v(Lt).key)],Nn),bt(kt,It)}),Ft(kt=>zE(Et,kt),[()=>v(y).includes(v(wt).name)],Nn),Ee("change",Et,()=>et(v(wt).name)),bt(ft,Tt)});var Qt=D(Vt,2);{var pe=ft=>{var wt=MJ(),Tt=N(wt),Pt=N(Tt),Et=D(Tt,2),Ot=N(Et),kt=D(Ot,2),Lt=D(kt,2);Pe(Lt,1,()=>Array.from({length:Math.min(5,v(c))},(ee,ve)=>Math.max(1,v(M)-2)+ve).filter(ee=>ee<=v(c)),Ie,(ee,ve)=>{var Te=SJ(),sn=N(Te);Ft(()=>{mi(Te,"active",v(ve)===v(M)),Mt(sn,v(ve))}),Ee("click",Te,()=>ut(M,v(ve))),bt(ee,Te)});var It=D(Lt,2),Dt=D(It,2),ye=D(Et,2),Jt=D(N(ye),2);Ft(()=>{v(A),Zr(()=>{v(M)})});var ge=N(Jt);ge.value=(ge.__value=25)==null?"":25;var Xt=D(ge);Xt.value=(Xt.__value=50)==null?"":50;var te=D(Xt);te.value=(te.__value=100)==null?"":100,Ft(ee=>{Mt(Pt,`Showing ${(v(M)-1)*v(A)+1}-${ee??""} 
            of ${v(u).length??""} branches`),Ot.disabled=v(M)===1,kt.disabled=v(M)===1,It.disabled=v(M)===v(c),Dt.disabled=v(M)===v(c)},[()=>Math.min(v(M)*v(A),v(u).length)],Nn),Ee("click",Ot,()=>ut(M,1)),Ee("click",kt,()=>Ba(M,-1)),Ee("click",It,()=>Ba(M)),Ee("click",Dt,()=>ut(M,v(c))),Qr(Jt,()=>v(A),ee=>ut(A,ee)),Ee("change",Jt,()=>ut(M,1)),bt(ft,wt)};Ht(Qt,ft=>{v(c)>1&&ft(pe)})}aa(Y,()=>v(g),ft=>ut(g,ft)),Lo(nt,()=>v(_),ft=>ut(_,ft)),Qr(lt,()=>v(b),ft=>ut(b,ft)),bt(B,at)};Ht(C,B=>{p()?B(U,!1):B(z)})}bt(t,j),ki()}AJ.__docgen={version:3,name:"AbsrelVisualization.svelte",data:[{name:"data",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"object",text:"AbsrelResults"},static:!1,readonly:!1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};var kJ=xt('<div class="loading svelte-wt5wak">Loading BUSTED data...</div>'),EJ=xt('<div class="summary-tiles svelte-wt5wak"><div class="tile svelte-wt5wak"><div class="tile-number svelte-wt5wak"> </div> <div class="tile-description svelte-wt5wak">Sequences</div></div> <div class="tile svelte-wt5wak"><div class="tile-number svelte-wt5wak"> </div> <div class="tile-description svelte-wt5wak">Sites</div></div> <div class="tile svelte-wt5wak"><div class="tile-number svelte-wt5wak"> </div> <div class="tile-description svelte-wt5wak">p-value</div></div> <div class="tile svelte-wt5wak"><div class="tile-number svelte-wt5wak"> </div> <div class="tile-description svelte-wt5wak">Test Statistic</div></div> <div class="tile svelte-wt5wak"><div class="tile-number svelte-wt5wak"> </div> <div class="tile-description svelte-wt5wak">Selection Detected</div></div></div>'),CJ=xt(`<div class="plot-section svelte-wt5wak"><h3 class="svelte-wt5wak">Evidence Ratios for Positive Selection</h3> <p class="plot-description svelte-wt5wak">Sites with higher evidence ratios show stronger statistical support for positive selection.
          Thresholds: Strong (100), Moderate (10), Weak (3).</p> <div class="plot-container svelte-wt5wak"></div></div>`),NJ=xt('<div class="plot-section svelte-wt5wak"><h3 class="svelte-wt5wak">Synonymous Substitution Rates</h3> <p class="plot-description svelte-wt5wak">Rate of synonymous substitutions across sites, indicating background mutation rate.</p> <div class="plot-container svelte-wt5wak"></div></div>'),PJ=xt('<span class="sort-indicator svelte-wt5wak"><!></span>'),LJ=xt('<th class="svelte-wt5wak"><div class="header-content svelte-wt5wak"><span> </span> <!></div></th>'),IJ=xt('<td class="svelte-wt5wak"> </td>'),OJ=xt("<tr></tr>"),RJ=xt('<button class="page-btn svelte-wt5wak"> </button>'),zJ=xt('<div class="pagination svelte-wt5wak"><div class="pagination-info svelte-wt5wak"> </div> <div class="pagination-controls svelte-wt5wak"><button class="page-btn svelte-wt5wak"></button> <button class="page-btn svelte-wt5wak"></button> <!> <button class="page-btn svelte-wt5wak"></button> <button class="page-btn svelte-wt5wak"></button></div> <div class="page-size-control svelte-wt5wak"><label for="page-size">Per page:</label> <select id="page-size" class="svelte-wt5wak"><option>25</option><option>50</option><option>100</option></select></div></div>'),FJ=xt(`<div class="analysis-info svelte-wt5wak"><h2 class="svelte-wt5wak">BUSTED Analysis Results</h2> <p><strong>Branch-site Unrestricted Statistical Test for Episodic Diversification</strong> tests whether a gene has experienced positive selection at some sites along some branches.</p></div> <!> <div class="controls svelte-wt5wak"><div class="control-group svelte-wt5wak"><label for="evidence-threshold" class="svelte-wt5wak">Evidence threshold:</label> <input type="number" id="evidence-threshold" min="1" max="1000" step="10" class="svelte-wt5wak"></div> <div class="control-group svelte-wt5wak"><label class="svelte-wt5wak"><input type="checkbox"> Show only sites above threshold</label></div> <div class="control-group svelte-wt5wak"><label for="visualization-type" class="svelte-wt5wak">Show plots:</label> <select id="visualization-type" class="svelte-wt5wak"><option>Evidence Ratios</option><option>Synonymous Rates</option><option>All Plots</option></select></div></div> <div class="plot-section svelte-wt5wak"><h3 class="svelte-wt5wak">Model Comparison</h3> <p class="plot-description svelte-wt5wak">Comparison of baseline and alternative models. The likelihood ratio test determines 
        if positive selection is present.</p> <div class="plot-container svelte-wt5wak"></div></div> <!> <!> <div class="table-section svelte-wt5wak"><h3 class="svelte-wt5wak">Site-Level Results</h3> <p class="table-description svelte-wt5wak">Statistical evidence for positive selection at each site. Click column headers to sort.</p> <div class="table-container svelte-wt5wak"><table class="svelte-wt5wak"><thead><tr></tr></thead><tbody></tbody></table></div> <!></div> <div class="citation svelte-wt5wak"><h3 class="svelte-wt5wak">Citation</h3> <code class="svelte-wt5wak">Murrell B, Weaver S, Smith MD, Wertheim JO, Murrell S, Aylward A, Eren K, Pollner T, 
        Martin DP, Smith DM, Scheffler K, Kosakovsky Pond SL. Gene-wide identification of 
        episodic selection. Mol Biol Evol. 2015;32(5):1365-71.</code></div>`,1),BJ=xt('<div class="busted-visualization svelte-wt5wak"><!></div>');function DJ(t,e){$i(e,!1);const n=gt(),r=gt(),i=gt(),a=gt(),o=gt(),u=gt(),c=gt();let f=Ye(e,"data",8),d=gt(100),p=gt(!1),g=gt("evidence"),y=gt("Evidence Ratio"),_=gt("desc"),b=gt(1),w=gt(50),x=gt(),M=gt(),A=gt();function $(E){var J,ht,nt,rt,lt;const H=E["test results"],Y=E.fits;return{sequences:((J=E.input)==null?void 0:J.sequences)||0,sites:((ht=E.input)==null?void 0:ht.sites)||0,pValue:(H==null?void 0:H["p-value"])||1,testStatistic:(H==null?void 0:H["test statistic"])||0,baselineLogL:((nt=Y==null?void 0:Y["Baseline MG94xREV"])==null?void 0:nt["log-likelihood"])||0,alternativeLogL:((rt=Y==null?void 0:Y["Alternative model"])==null?void 0:rt["log-likelihood"])||0,hasSelection:((H==null?void 0:H["p-value"])||1)<=.05,branchesTestedCount:((lt=E.tested)==null?void 0:lt.length)||0}}function P(E){const H=E["Evidence Ratios"],Y=E["Synonymous site-posteriors"];return H?Object.keys(H).map(Number).sort((ht,nt)=>ht-nt).map(ht=>{const nt=H[ht]||0,rt=(Y==null?void 0:Y[ht])||0;return{site:ht,partition:1,"Evidence Ratio":nt,"Synonymous Rate":rt,Selection:F(nt)}}):[]}function L(E){const H=E.fits;if(!H)return null;const Y=H["Baseline MG94xREV"],J=H["Alternative model"];return{baseline:{logL:(Y==null?void 0:Y["log-likelihood"])||0,parameters:(Y==null?void 0:Y.parameters)||0,AIC:(Y==null?void 0:Y.AIC)||0},alternative:{logL:(J==null?void 0:J["log-likelihood"])||0,parameters:(J==null?void 0:J.parameters)||0,AIC:(J==null?void 0:J.AIC)||0},lrt:2*(((J==null?void 0:J["log-likelihood"])||0)-((Y==null?void 0:Y["log-likelihood"])||0))}}function F(E){return E>=100?"Strong Positive":E>=10?"Moderate Positive":E>=3?"Weak Positive":"Neutral/Purifying"}function V(E){switch(E){case"Strong Positive":return"#e3243b";case"Moderate Positive":return"#ff6b35";case"Weak Positive":return"#ffa500";default:return"#666"}}function K(E){if(!E.length)return null;const H=E.map(Y=>({...Y,cappedRatio:Math.min(Y["Evidence Ratio"],1e3)}));return Re({title:"Evidence Ratios for Positive Selection",subtitle:"Sites with higher ratios show stronger evidence for selection",width:1e3,height:300,marginLeft:60,x:{label:"Site",grid:!0},y:{label:"Evidence Ratio (capped at 1000)",grid:!0},color:{type:"ordinal",domain:["Strong Positive","Moderate Positive","Weak Positive","Neutral/Purifying"],range:["#e3243b","#ff6b35","#ffa500","#666"]},marks:[cn([100],{stroke:"#e3243b",strokeDasharray:"5,5"}),cn([10],{stroke:"#ff6b35",strokeDasharray:"3,3"}),cn([3],{stroke:"#ffa500",strokeDasharray:"2,2"}),Mn(H,{x:"site",y:"cappedRatio",fill:"Selection",r:3,title:Y=>`Site ${Y.site}
Evidence Ratio: ${Y["Evidence Ratio"].toFixed(2)}
Category: ${Y.Selection}`}),gu(H,{x:"site",y:"cappedRatio",stroke:"#999",strokeWidth:1})]})}function W(E){return E.length?Re({title:"Synonymous Substitution Rates",subtitle:"Rate of synonymous substitutions across sites",width:1e3,height:300,marginLeft:60,x:{label:"Site",grid:!0},y:{label:"Synonymous Rate",grid:!0},marks:[gu(E,{x:"site",y:"Synonymous Rate",stroke:"#1f77b4",strokeWidth:2}),Mn(E.filter((H,Y)=>Y%20===0),{x:"site",y:"Synonymous Rate",fill:"#1f77b4",r:3,title:H=>`Site ${H.site}
Synonymous Rate: ${H["Synonymous Rate"].toFixed(4)}`})]}):null}function R(E){if(!E)return null;const H=[{model:"Baseline",logL:E.baseline.logL,AIC:E.baseline.AIC,parameters:E.baseline.parameters},{model:"Alternative",logL:E.alternative.logL,AIC:E.alternative.AIC,parameters:E.alternative.parameters}];return Re({title:"Model Comparison",subtitle:`LRT = ${E.lrt.toFixed(2)}`,width:500,height:300,marginLeft:100,x:{type:"band",domain:["Baseline","Alternative"],label:"Model"},y:{label:"Log Likelihood",grid:!0},marks:[Ga(H,{x:"model",y:"logL",fill:"#1f77b4",title:Y=>`${Y.model}
Log-L: ${Y.logL.toFixed(2)}
AIC: ${Y.AIC.toFixed(2)}
Parameters: ${Y.parameters}`})]})}let et=gt(!1);Ci(()=>{ut(et,!0)});function j(){if(v(x)&&(v(g)==="evidence"||v(g)==="all")){const E=K(v(r));E&&(Ge(x,v(x).innerHTML=""),v(x).appendChild(E))}if(v(M)&&(v(g)==="synonymous"||v(g)==="all")){const E=W(v(r));E&&(Ge(M,v(M).innerHTML=""),v(M).appendChild(E))}if(v(A)&&v(i)){const E=R(v(i));E&&(Ge(A,v(A).innerHTML=""),v(A).appendChild(E))}}function C(E){v(y)===E?ut(_,v(_)==="asc"?"desc":"asc"):(ut(y,E),ut(_,"desc")),ut(b,1)}function z(E,H){return typeof E!="number"?String(E):H==="Evidence Ratio"?E<.001?E.toExponential(2):E.toFixed(2):H==="Synonymous Rate"?E.toFixed(4):E.toString()}const U=[{key:"site",label:"Site",sortable:!0},{key:"Evidence Ratio",label:"Evidence Ratio",sortable:!0},{key:"Synonymous Rate",label:"Synonymous Rate",sortable:!0},{key:"Selection",label:"Selection Category",sortable:!0}];Yt(()=>Oe(f()),()=>{ut(n,f()?$(f()):null)}),Yt(()=>Oe(f()),()=>{ut(r,f()?P(f()):[])}),Yt(()=>Oe(f()),()=>{ut(i,f()?L(f()):null)}),Yt(()=>(v(p),v(r),v(d)),()=>{ut(a,v(p)?v(r).filter(E=>E["Evidence Ratio"]>=v(d)):v(r))}),Yt(()=>(v(a),v(y),v(_)),()=>{ut(o,[...v(a)].sort((E,H)=>{const Y=E[v(y)],J=H[v(y)],ht=typeof Y=="number"&&typeof J=="number"?Y-J:String(Y).localeCompare(String(J));return v(_)==="asc"?ht:-ht}))}),Yt(()=>(v(o),v(w)),()=>{ut(u,Math.ceil(v(o).length/v(w)))}),Yt(()=>(v(o),v(b),v(w)),()=>{ut(c,v(o).slice((v(b)-1)*v(w),v(b)*v(w)))}),Yt(()=>(v(et),v(r)),()=>{v(et)&&v(r).length>0&&j()}),Ai(),Ei();var B=BJ(),at=N(B);{var Z=E=>{var H=kJ();bt(E,H)},I=E=>{var H=FJ(),Y=D(Qn(H),2);{var J=ft=>{var wt=EJ(),Tt=N(wt),Pt=N(Tt),Et=N(Pt),Ot=D(Tt,2),kt=N(Ot),Lt=N(kt),It=D(Ot,2),Dt=N(It),ye=N(Dt),Jt=D(It,2),ge=N(Jt),Xt=N(ge),te=D(Jt,2),ee=N(te),ve=N(ee);Ft((Te,sn)=>{Mt(Et,v(n).sequences),Mt(Lt,v(n).sites),un(Dt,"style",`color: ${(v(n).hasSelection?"#e3243b":"#666")??""}`),Mt(ye,Te),Mt(Xt,sn),un(ee,"style",`color: ${(v(n).hasSelection?"#e3243b":"#666")??""}`),Mt(ve,v(n).hasSelection?"YES":"NO")},[()=>v(n).pValue.toExponential(3),()=>v(n).testStatistic.toFixed(2)],Nn),bt(ft,wt)};Ht(Y,ft=>{v(n)&&ft(J)})}var ht=D(Y,2),nt=N(ht),rt=D(N(nt),2),lt=D(nt,2),tt=N(lt),ot=N(tt),_t=D(lt,2),Q=D(N(_t),2);Ft(()=>{v(g),Zr(()=>{})});var At=N(Q);At.value=(At.__value="evidence")==null?"":"evidence";var vt=D(At);vt.value=(vt.__value="synonymous")==null?"":"synonymous";var St=D(vt);St.value=(St.__value="all")==null?"":"all";var zt=D(ht,2),mt=D(N(zt),4);nn(mt,ft=>ut(A,ft),()=>v(A));var Nt=D(zt,2);{var oe=ft=>{var wt=CJ(),Tt=D(N(wt),4);nn(Tt,Pt=>ut(x,Pt),()=>v(x)),bt(ft,wt)};Ht(Nt,ft=>{(v(g)==="evidence"||v(g)==="all")&&ft(oe)})}var ae=D(Nt,2);{var qt=ft=>{var wt=NJ(),Tt=D(N(wt),4);nn(Tt,Pt=>ut(M,Pt),()=>v(M)),bt(ft,wt)};Ht(ae,ft=>{(v(g)==="synonymous"||v(g)==="all")&&ft(qt)})}var Vt=D(ae,2),Se=D(N(Vt),4),Fe=N(Se),_e=N(Fe),jt=N(_e);Pe(jt,5,()=>U,Ie,(ft,wt)=>{var Tt=LJ(),Pt=N(Tt),Et=N(Pt),Ot=N(Et),kt=D(Et,2);{var Lt=It=>{var Dt=PJ(),ye=N(Dt);{var Jt=Xt=>{var te=Fa();Ft(()=>Mt(te,v(_)==="asc"?"":"")),bt(Xt,te)},ge=Xt=>{var te=Fa("");bt(Xt,te)};Ht(ye,Xt=>{v(y)===v(wt).key?Xt(Jt):Xt(ge,!1)})}bt(It,Dt)};Ht(kt,It=>{v(wt).sortable&&It(Lt)})}Ft(()=>{mi(Tt,"sortable",v(wt).sortable),mi(Tt,"sorted",v(y)===v(wt).key),Mt(Ot,v(wt).label)}),Ee("click",Tt,()=>v(wt).sortable&&C(v(wt).key)),bt(ft,Tt)});var Zt=D(_e);Pe(Zt,5,()=>v(c),Ie,(ft,wt)=>{var Tt=OJ();Pe(Tt,5,()=>U,Ie,(Pt,Et)=>{var Ot=IJ(),kt=N(Ot);Ft((Lt,It)=>{un(Ot,"style",`color: ${Lt??""}`),Mt(kt,It)},[()=>v(Et).key==="Selection"?V(v(wt)[v(Et).key]):"inherit",()=>z(v(wt)[v(Et).key],v(Et).key)],Nn),bt(Pt,Ot)}),bt(ft,Tt)});var Qt=D(Se,2);{var pe=ft=>{var wt=zJ(),Tt=N(wt),Pt=N(Tt),Et=D(Tt,2),Ot=N(Et),kt=D(Ot,2),Lt=D(kt,2);Pe(Lt,1,()=>Array.from({length:Math.min(5,v(u))},(ee,ve)=>Math.max(1,v(b)-2)+ve).filter(ee=>ee<=v(u)),Ie,(ee,ve)=>{var Te=RJ(),sn=N(Te);Ft(()=>{mi(Te,"active",v(ve)===v(b)),Mt(sn,v(ve))}),Ee("click",Te,()=>ut(b,v(ve))),bt(ee,Te)});var It=D(Lt,2),Dt=D(It,2),ye=D(Et,2),Jt=D(N(ye),2);Ft(()=>{v(w),Zr(()=>{v(b)})});var ge=N(Jt);ge.value=(ge.__value=25)==null?"":25;var Xt=D(ge);Xt.value=(Xt.__value=50)==null?"":50;var te=D(Xt);te.value=(te.__value=100)==null?"":100,Ft(ee=>{Mt(Pt,`Showing ${(v(b)-1)*v(w)+1}-${ee??""} 
            of ${v(o).length??""} sites`),Ot.disabled=v(b)===1,kt.disabled=v(b)===1,It.disabled=v(b)===v(u),Dt.disabled=v(b)===v(u)},[()=>Math.min(v(b)*v(w),v(o).length)],Nn),Ee("click",Ot,()=>ut(b,1)),Ee("click",kt,()=>Ba(b,-1)),Ee("click",It,()=>Ba(b)),Ee("click",Dt,()=>ut(b,v(u))),Qr(Jt,()=>v(w),ee=>ut(w,ee)),Ee("change",Jt,()=>ut(b,1)),bt(ft,wt)};Ht(Qt,ft=>{v(u)>1&&ft(pe)})}aa(rt,()=>v(d),ft=>ut(d,ft)),Lo(ot,()=>v(p),ft=>ut(p,ft)),Qr(Q,()=>v(g),ft=>ut(g,ft)),bt(E,H)};Ht(at,E=>{f()?E(I,!1):E(Z)})}bt(t,B),ki()}DJ.__docgen={version:3,name:"BustedVisualization.svelte",data:[{name:"data",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};var UJ=xt('<div class="loading svelte-hopano">Loading RELAX data...</div>'),WJ=xt('<div class="summary-tiles svelte-hopano"><div class="tile svelte-hopano"><div class="tile-number svelte-hopano"> </div> <div class="tile-description svelte-hopano">Sequences</div></div> <div class="tile svelte-hopano"><div class="tile-number svelte-hopano"> </div> <div class="tile-description svelte-hopano">Sites</div></div> <div class="tile svelte-hopano"><div class="tile-number svelte-hopano"> </div> <div class="tile-description svelte-hopano">Test Branches</div></div> <div class="tile svelte-hopano"><div class="tile-number svelte-hopano"> </div> <div class="tile-description svelte-hopano">Reference Branches</div></div> <div class="tile k-value-tile svelte-hopano"><div class="tile-number svelte-hopano"><span class="k-icon svelte-hopano"> </span> </div> <div class="tile-description svelte-hopano">K Parameter</div></div> <div class="tile svelte-hopano"><div class="tile-number svelte-hopano"> </div> <div class="tile-description svelte-hopano">p-value</div></div> <div class="tile selection-tile svelte-hopano"><div class="tile-number svelte-hopano"> </div> <div class="tile-description svelte-hopano">Selection Change</div></div></div>'),qJ=xt(`<div class="plot-section svelte-hopano"><h3 class="svelte-hopano">Rate Distributions</h3> <p class="plot-description svelte-hopano">Distribution of  (dN/dS) values across rate categories for the selected branch set.
          Categories with  > 1 indicate positive selection.</p> <div class="plot-container svelte-hopano"></div></div>`),HJ=xt('<tr><td class="svelte-hopano"><strong>K Parameter</strong></td><td class="svelte-hopano"><span class="k-icon svelte-hopano"> </span> </td><td class="svelte-hopano"> </td></tr> <tr><td class="svelte-hopano"><strong>p-value</strong></td><td class="svelte-hopano"> </td><td class="svelte-hopano"> </td></tr> <tr><td class="svelte-hopano"><strong>LRT Statistic</strong></td><td class="svelte-hopano"> </td><td class="svelte-hopano">Likelihood ratio test statistic</td></tr> <tr><td class="svelte-hopano"><strong>Test Branches</strong></td><td class="svelte-hopano"> </td><td class="svelte-hopano">Number of branches tested for selection change</td></tr> <tr><td class="svelte-hopano"><strong>Reference Branches</strong></td><td class="svelte-hopano"> </td><td class="svelte-hopano">Number of reference branches</td></tr>',1),VJ=xt(`<div class="analysis-info svelte-hopano"><h2 class="svelte-hopano">RELAX Analysis Results</h2> <p><strong>RELAX</strong> tests whether selection pressure has been relaxed or intensified 
        on a specified set of test branches relative to a set of reference branches.</p></div> <!> <div class="controls svelte-hopano"><div class="control-group svelte-hopano"><label for="branch-set" class="svelte-hopano">Branch set for distribution:</label> <select id="branch-set" class="svelte-hopano"><option>Test Branches</option><option>Reference Branches</option></select></div> <div class="control-group svelte-hopano"><label class="svelte-hopano"><input type="checkbox"> Show rate distributions</label></div></div> <div class="plot-section svelte-hopano"><h3 class="svelte-hopano">Selection Intensity Parameter (K)</h3> <p class="plot-description svelte-hopano">K measures the change in selection intensity. K &gt; 1 indicates intensification, 
        K &lt; 1 indicates relaxation, and K = 1 indicates no change.</p> <div class="plot-container svelte-hopano"></div></div> <!> <div class="plot-section svelte-hopano"><h3 class="svelte-hopano">Model Comparison</h3> <p class="plot-description svelte-hopano">Comparison of null and alternative models. The model with lower AICc provides better fit.</p> <div class="plot-container svelte-hopano"></div></div> <div class="table-section svelte-hopano"><h3 class="svelte-hopano">Statistical Results</h3> <p class="table-description svelte-hopano">Summary of the likelihood ratio test for selection intensity changes.</p> <div class="table-container svelte-hopano"><table class="svelte-hopano"><thead><tr><th class="svelte-hopano">Parameter</th><th class="svelte-hopano">Value</th><th class="svelte-hopano">Interpretation</th></tr></thead><tbody><!></tbody></table></div></div> <div class="citation svelte-hopano"><h3 class="svelte-hopano">Citation</h3> <code class="svelte-hopano">Wertheim JO, Murrell B, Smith MD, Kosakovsky Pond SL, Scheffler K. RELAX: detecting 
        relaxed selection in a phylogenetic framework. Mol Biol Evol. 2015;32(3):820-32.</code></div>`,1),YJ=xt('<div class="relax-visualization svelte-hopano"><!></div>');function GJ(t,e){$i(e,!1);const n=gt(),r=gt(),i=gt();let a=Ye(e,"data",8),o=gt("Test"),u=gt(!0),c=gt(),f=gt(),d=gt();function p(W){var at,Z,I,E,H,Y;const R=W["test results"],et=W.tested||{},j=W.fits||{},C=(R==null?void 0:R.K)||1,z=(R==null?void 0:R["p-value"])||1,U=(R==null?void 0:R.LRT)||0;let B="No Change";return z<=.05&&(B=C>1?"Intensification":"Relaxation"),{sequences:((at=W.input)==null?void 0:at.sequences)||0,sites:((Z=W.input)==null?void 0:Z.sites)||0,partitions:Object.keys(W["data partitions"]||{}).length,testBranches:((I=et==null?void 0:et.Test)==null?void 0:I.length)||0,referenceBranches:((E=et==null?void 0:et.Reference)==null?void 0:E.length)||0,kValue:C,pValue:z,lrt:U,isSignificant:z<=.05,selectionType:B,nullLogL:((H=j["RELAX null"])==null?void 0:H["log-likelihood"])||0,alternativeLogL:((Y=j["RELAX alternative"])==null?void 0:Y["log-likelihood"])||0}}function g(W){const R=W["branch attributes"]||{},et=[];return["Test","Reference"].forEach(j=>{var C;(C=R[j])!=null&&C["Rate Distributions"]&&R[j]["Rate Distributions"].forEach((U,B)=>{et.push({omega:U.omega||0,proportion:U.proportion||0,branchSet:j,category:B+1})})}),et}function y(W){const R=W.fits||{},et=[];return Object.entries(R).forEach(([j,C])=>{et.push({model:j,logL:C["log-likelihood"]||0,parameters:C.parameters||0,AICc:C.AICc||0})}),et.sort((j,C)=>j.AICc-C.AICc)}function _(W,R){return R?W>1?"#e3243b":W<1?"#1f77b4":"#666":"#666"}function b(W,R){return R?W>1?"":W<1?"":"":""}function w(W){switch(W){case"Intensification":return"Selection has been intensified on test branches (K > 1)";case"Relaxation":return"Selection has been relaxed on test branches (K < 1)";default:return"No significant change in selection pressure"}}function x(W){const R=[{k:W.kValue,pValue:W.pValue,significant:W.isSignificant,type:W.selectionType}];return Re({title:"Selection Intensity Parameter (K)",subtitle:w(W.selectionType),width:600,height:300,marginLeft:80,x:{domain:[0,Math.max(2,W.kValue*1.2)],label:"K Value",grid:!0},y:{domain:[-.5,.5],label:"",axis:null},color:{type:"ordinal",domain:["Intensification","Relaxation","No Change"],range:["#e3243b","#1f77b4","#666"]},marks:[sa([1],{stroke:"#666",strokeDasharray:"5,5",strokeWidth:2}),Mn(R,{x:"k",y:0,fill:"type",r:W.isSignificant?15:10,stroke:W.isSignificant?"#000":"#666",strokeWidth:W.isSignificant?2:1,title:et=>`K = ${et.k.toFixed(3)}
p-value = ${et.pValue.toExponential(3)}
${et.type}`}),za([{x:1,y:-.3,text:`K = 1
(Neutral)`}],{x:"x",y:"y",text:"text",fontSize:12,fill:"#666",textAnchor:"middle"}),za([{x:W.kValue,y:.3,text:`K = ${W.kValue.toFixed(3)}`}],{x:"x",y:"y",text:"text",fontSize:14,fill:_(W.kValue,W.isSignificant),fontWeight:"bold",textAnchor:"middle"})]})}function M(W,R){const et=W.filter(j=>j.branchSet===R);return et.length?Re({title:` Distribution - ${R} Branches`,subtitle:"Rate categories and their proportions",width:600,height:300,marginLeft:80,x:{label:" (dN/dS)",grid:!0},y:{label:"Proportion",grid:!0,domain:[0,1]},color:{type:"ordinal",domain:["Purifying ( < 1)","Neutral ( = 1)","Positive ( > 1)"],range:["#1f77b4","#2ca02c","#e3243b"]},marks:[sa([1],{stroke:"#666",strokeDasharray:"3,3"}),Ga(et,{x:"omega",y:"proportion",fill:j=>j.omega>1?"Positive ( > 1)":j.omega===1?"Neutral ( = 1)":"Purifying ( < 1)",title:j=>`Category ${j.category}
 = ${j.omega.toFixed(3)}
Proportion = ${j.proportion.toFixed(3)}`}),za(et,{x:"omega",y:j=>j.proportion+.05,text:j=>j.proportion.toFixed(2),fontSize:10,textAnchor:"middle"})]}):null}function A(W){return W.length?Re({title:"Model Comparison",subtitle:"Lower AICc indicates better model fit",width:600,height:300,marginLeft:120,x:{type:"band",domain:W.map(R=>R.model),label:"Model"},y:{label:"AICc",grid:!0},marks:[Ga(W,{x:"model",y:"AICc",fill:(R,et)=>et===0?"#e3243b":"#1f77b4",title:R=>`${R.model}
Log-L: ${R.logL.toFixed(2)}
Parameters: ${R.parameters}
AICc: ${R.AICc.toFixed(2)}`})]}):null}let $=gt(!1);Ci(()=>{ut($,!0)});function P(){if(v(c)&&v(n)){const W=x(v(n));W&&(Ge(c,v(c).innerHTML=""),v(c).appendChild(W))}if(v(f)&&v(r).length>0&&v(u)){const W=M(v(r),v(o));W&&(Ge(f,v(f).innerHTML=""),v(f).appendChild(W))}if(v(d)&&v(i).length>0){const W=A(v(i));W&&(Ge(d,v(d).innerHTML=""),v(d).appendChild(W))}}Yt(()=>Oe(a()),()=>{ut(n,a()?p(a()):null)}),Yt(()=>Oe(a()),()=>{ut(r,a()?g(a()):[])}),Yt(()=>Oe(a()),()=>{ut(i,a()?y(a()):[])}),Yt(()=>(v($),v(n)),()=>{v($)&&v(n)&&P()}),Ai(),Ei();var L=YJ(),F=N(L);{var V=W=>{var R=UJ();bt(W,R)},K=W=>{var R=VJ(),et=D(Qn(R),2);{var j=vt=>{var St=WJ(),zt=N(St),mt=N(zt),Nt=N(mt),oe=D(zt,2),ae=N(oe),qt=N(ae),Vt=D(oe,2),Se=N(Vt),Fe=N(Se),_e=D(Vt,2),jt=N(_e),Zt=N(jt),Qt=D(_e,2),pe=N(Qt),ft=N(pe),wt=N(ft),Tt=D(ft),Pt=D(Qt,2),Et=N(Pt),Ot=N(Et),kt=D(Pt,2),Lt=N(kt),It=N(Lt);Ft((Dt,ye,Jt,ge)=>{Mt(Nt,v(n).sequences),Mt(qt,v(n).sites),Mt(Fe,v(n).testBranches),Mt(Zt,v(n).referenceBranches),un(pe,"style",`color: ${Dt??""}`),Mt(wt,ye),Mt(Tt,` ${Jt??""}`),un(Et,"style",`color: ${(v(n).isSignificant?"#e3243b":"#666")??""}`),Mt(Ot,ge),un(Lt,"style",`color: ${Dt??""}`),Mt(It,v(n).selectionType)},[()=>_(v(n).kValue,v(n).isSignificant),()=>b(v(n).kValue,v(n).isSignificant),()=>v(n).kValue.toFixed(3),()=>v(n).pValue.toExponential(3)],Nn),bt(vt,St)};Ht(et,vt=>{v(n)&&vt(j)})}var C=D(et,2),z=N(C),U=D(N(z),2);Ft(()=>{v(o),Zr(()=>{})});var B=N(U);B.value=(B.__value="Test")==null?"":"Test";var at=D(B);at.value=(at.__value="Reference")==null?"":"Reference";var Z=D(z,2),I=N(Z),E=N(I),H=D(C,2),Y=D(N(H),4);nn(Y,vt=>ut(c,vt),()=>v(c));var J=D(H,2);{var ht=vt=>{var St=qJ(),zt=D(N(St),4);nn(zt,mt=>ut(f,mt),()=>v(f)),bt(vt,St)};Ht(J,vt=>{v(u)&&vt(ht)})}var nt=D(J,2),rt=D(N(nt),4);nn(rt,vt=>ut(d,vt),()=>v(d));var lt=D(nt,2),tt=D(N(lt),4),ot=N(tt),_t=D(N(ot)),Q=N(_t);{var At=vt=>{var St=HJ(),zt=Qn(St),mt=D(N(zt)),Nt=N(mt),oe=N(Nt),ae=D(Nt),qt=D(mt),Vt=N(qt),Se=D(zt,2),Fe=D(N(Se)),_e=N(Fe),jt=D(Fe),Zt=N(jt),Qt=D(Se,2),pe=D(N(Qt)),ft=N(pe),wt=D(Qt,2),Tt=D(N(wt)),Pt=N(Tt),Et=D(wt,2),Ot=D(N(Et)),kt=N(Ot);Ft((Lt,It,Dt,ye,Jt,ge)=>{un(mt,"style",`color: ${Lt??""}`),Mt(oe,It),Mt(ae,` ${Dt??""}`),Mt(Vt,ye),un(Fe,"style",`color: ${(v(n).isSignificant?"#e3243b":"#666")??""}`),Mt(_e,Jt),Mt(Zt,v(n).isSignificant?"Statistically significant":"Not significant"),Mt(ft,ge),Mt(Pt,v(n).testBranches),Mt(kt,v(n).referenceBranches)},[()=>_(v(n).kValue,v(n).isSignificant),()=>b(v(n).kValue,v(n).isSignificant),()=>v(n).kValue.toFixed(4),()=>w(v(n).selectionType),()=>v(n).pValue.toExponential(4),()=>v(n).lrt.toFixed(4)],Nn),bt(vt,St)};Ht(Q,vt=>{v(n)&&vt(At)})}Qr(U,()=>v(o),vt=>ut(o,vt)),Lo(E,()=>v(u),vt=>ut(u,vt)),bt(W,R)};Ht(F,W=>{a()?W(K,!1):W(V)})}bt(t,L),ki()}GJ.__docgen={version:3,name:"RelaxVisualization.svelte",data:[{name:"data",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};var XJ=xt('<div class="loading svelte-1yppdpz">Loading SLAC data...</div>'),KJ=xt('<div class="summary-tiles svelte-1yppdpz"><div class="tile svelte-1yppdpz"><div class="tile-number svelte-1yppdpz"> </div> <div class="tile-description svelte-1yppdpz">Sequences</div></div> <div class="tile svelte-1yppdpz"><div class="tile-number svelte-1yppdpz"> </div> <div class="tile-description svelte-1yppdpz">Sites</div></div> <div class="tile svelte-1yppdpz"><div class="tile-number svelte-1yppdpz"> </div> <div class="tile-description svelte-1yppdpz">Significant Sites</div></div> <div class="tile svelte-1yppdpz"><div class="tile-number svelte-1yppdpz" style="color: #e3243b"> </div> <div class="tile-description svelte-1yppdpz">Positive Selection</div></div> <div class="tile svelte-1yppdpz"><div class="tile-number svelte-1yppdpz" style="color: #1f77b4"> </div> <div class="tile-description svelte-1yppdpz">Negative Selection</div></div></div>'),jJ=xt(`<div class="plot-section svelte-1yppdpz"><h3 class="svelte-1yppdpz">dN/dS Ratios</h3> <p class="plot-description svelte-1yppdpz">Ratio of non-synonymous to synonymous substitution rates. 
          Values > 1 may indicate positive selection.</p> <div class="plot-container svelte-1yppdpz"></div></div>`),ZJ=xt(`<div class="plot-section svelte-1yppdpz"><h3 class="svelte-1yppdpz">Normalized dN - dS</h3> <p class="plot-description svelte-1yppdpz">Normalized difference between non-synonymous and synonymous rates. 
          Positive values indicate excess non-synonymous substitutions.</p> <div class="plot-container svelte-1yppdpz"></div></div>`),QJ=xt('<div class="plot-section svelte-1yppdpz"><h3 class="svelte-1yppdpz">Statistical Significance</h3> <p class="plot-description svelte-1yppdpz">-log(p-value) for each site. Sites above the threshold line are significant.</p> <div class="plot-container svelte-1yppdpz"></div></div>'),JJ=xt('<span class="sort-indicator svelte-1yppdpz"><!></span>'),ttt=xt('<th class="svelte-1yppdpz"><div class="header-content svelte-1yppdpz"><span> </span> <!></div></th>'),ett=xt('<td class="svelte-1yppdpz"> </td>'),ntt=xt("<tr></tr>"),rtt=xt('<button class="page-btn svelte-1yppdpz"> </button>'),itt=xt('<div class="pagination svelte-1yppdpz"><div class="pagination-info svelte-1yppdpz"> </div> <div class="pagination-controls svelte-1yppdpz"><button class="page-btn svelte-1yppdpz"></button> <button class="page-btn svelte-1yppdpz"></button> <!> <button class="page-btn svelte-1yppdpz"></button> <button class="page-btn svelte-1yppdpz"></button></div> <div class="page-size-control svelte-1yppdpz"><label for="page-size">Per page:</label> <select id="page-size" class="svelte-1yppdpz"><option>25</option><option>50</option><option>100</option></select></div></div>'),att=xt(`<div class="analysis-info svelte-1yppdpz"><h2 class="svelte-1yppdpz">SLAC Analysis Results</h2> <p><strong>Single Likelihood Ancestor Counting (SLAC)</strong> uses a maximum likelihood 
        approach to infer the number of synonymous and non-synonymous substitutions at each site.</p></div> <!> <div class="controls svelte-1yppdpz"><div class="control-group svelte-1yppdpz"><label for="pvalue-threshold" class="svelte-1yppdpz">p-value threshold:</label> <input type="number" id="pvalue-threshold" min="0.001" max="0.5" step="0.01" class="svelte-1yppdpz"></div> <div class="control-group svelte-1yppdpz"><label class="svelte-1yppdpz"><input type="checkbox"> Show only significant sites</label></div> <div class="control-group svelte-1yppdpz"><label for="visualization-type" class="svelte-1yppdpz">Show plots:</label> <select id="visualization-type" class="svelte-1yppdpz"><option>dN/dS Ratios</option><option>Normalized dN-dS</option><option>p-values</option><option>All Plots</option></select></div></div> <!> <!> <!> <div class="table-section svelte-1yppdpz"><h3 class="svelte-1yppdpz">Site-Level Results</h3> <p class="table-description svelte-1yppdpz">SLAC results for each site. Click column headers to sort.</p> <div class="table-container svelte-1yppdpz"><table class="svelte-1yppdpz"><thead><tr></tr></thead><tbody></tbody></table></div> <!></div> <div class="citation svelte-1yppdpz"><h3 class="svelte-1yppdpz">Citation</h3> <code class="svelte-1yppdpz">Kosakovsky Pond SL, Frost SDW. Not so different after all: a comparison of methods 
        for detecting amino acid sites under selection. Mol Biol Evol. 2005;22(5):1208-22.</code></div>`,1),stt=xt('<div class="slac-visualization svelte-1yppdpz"><!></div>');function ott(t,e){$i(e,!1);const n=gt(),r=gt(),i=gt(),a=gt(),o=gt(),u=gt();let c=Ye(e,"data",8),f=gt(.1),d=gt(!1),p=gt("dnds"),g=gt("p-value"),y=gt("asc"),_=gt(1),b=gt(50),w=gt(),x=gt(),M=gt();function A(I){var nt,rt,lt;const E=((rt=(nt=I.MLE)==null?void 0:nt.content)==null?void 0:rt["0"])||[],H=.1;let Y=0,J=0,ht=0;return E.forEach(tt=>{const ot=tt[4]||1,_t=tt[3]||0;ot<=H&&(Y++,_t>1?J++:ht++)}),{sequences:((lt=I.input)==null?void 0:lt.sequences)||0,sites:E.length,partitions:Object.keys(I["data partitions"]||{}).length,testedSites:E.length,significantSites:Y,positivelySelected:J,negativelySelected:ht,pValueThreshold:H}}function $(I){var H,Y;const E=((Y=(H=I.MLE)==null?void 0:H.content)==null?void 0:Y["0"])||[];return I["data partitions"],E.map((J,ht)=>{const nt=J[0]||0,rt=J[1]||0,lt=J[3]||0,tt=J[4]||1,ot=J[5]!==void 0?J[5]:nt-rt;return{site:ht+1,partition:P(),"dN/dS":lt,dN:nt,dS:rt,"Normalized dN-dS":ot,"p-value":tt,significance:L(tt,lt)}})}function P(I,E){return 1}function L(I,E){return I>v(f)?"Not Significant":E>1?"Positive Selection":"Negative Selection"}function F(I){switch(I){case"Positive Selection":return"#e3243b";case"Negative Selection":return"#1f77b4";default:return"#666"}}function V(I){if(!I.length)return null;const E=I.map(H=>({...H,cappedDNDS:Math.min(H["dN/dS"],10)}));return Re({title:"dN/dS Ratios Across Sites",subtitle:"Sites with dN/dS > 1 may be under positive selection",width:1e3,height:300,marginLeft:60,x:{label:"Site",grid:!0},y:{label:"dN/dS (capped at 10)",grid:!0},color:{type:"ordinal",domain:["Positive Selection","Negative Selection","Not Significant"],range:["#e3243b","#1f77b4","#666"]},marks:[cn([1],{stroke:"#666",strokeDasharray:"5,5"}),Mn(E,{x:"site",y:"cappedDNDS",fill:"significance",r:3,title:H=>`Site ${H.site}
dN/dS: ${H["dN/dS"].toFixed(3)}
p-value: ${H["p-value"].toFixed(4)}
${H.significance}`}),gu(E,{x:"site",y:"cappedDNDS",stroke:"#999",strokeWidth:1})]})}function K(I){return I.length?Re({title:"Normalized dN - dS",subtitle:"Positive values indicate excess of non-synonymous substitutions",width:1e3,height:300,marginLeft:60,x:{label:"Site",grid:!0},y:{label:"Normalized dN - dS",grid:!0},color:{type:"ordinal",domain:["Positive Selection","Negative Selection","Not Significant"],range:["#e3243b","#1f77b4","#666"]},marks:[cn([0],{stroke:"#666",strokeDasharray:"5,5"}),Mn(I,{x:"site",y:"Normalized dN-dS",fill:"significance",r:3,title:E=>`Site ${E.site}
Normalized dN-dS: ${E["Normalized dN-dS"].toFixed(3)}
p-value: ${E["p-value"].toFixed(4)}`}),gu(I,{x:"site",y:"Normalized dN-dS",stroke:"#999",strokeWidth:1})]}):null}function W(I){if(!I.length)return null;const E=I.map(Y=>({...Y,negLogP:-Math.log10(Math.max(Y["p-value"],1e-10))})),H=-Math.log10(v(f));return Re({title:"Statistical Significance",subtitle:`p-value threshold: ${v(f)}`,width:1e3,height:300,marginLeft:60,x:{label:"Site",grid:!0},y:{label:"-log(p-value)",grid:!0},color:{type:"ordinal",domain:["Positive Selection","Negative Selection","Not Significant"],range:["#e3243b","#1f77b4","#666"]},marks:[cn([H],{stroke:"#e3243b",strokeDasharray:"5,5"}),Mn(E,{x:"site",y:"negLogP",fill:"significance",r:3,title:Y=>`Site ${Y.site}
p-value: ${Y["p-value"].toExponential(3)}
${Y.significance}`})]})}let R=gt(!1);Ci(()=>{ut(R,!0)});function et(){if(v(w)&&(v(p)==="dnds"||v(p)==="all")){const I=V(v(r));I&&(Ge(w,v(w).innerHTML=""),v(w).appendChild(I))}if(v(x)&&(v(p)==="normalized"||v(p)==="all")){const I=K(v(r));I&&(Ge(x,v(x).innerHTML=""),v(x).appendChild(I))}if(v(M)&&(v(p)==="pvalue"||v(p)==="all")){const I=W(v(r));I&&(Ge(M,v(M).innerHTML=""),v(M).appendChild(I))}}function j(I){v(g)===I?ut(y,v(y)==="asc"?"desc":"asc"):(ut(g,I),ut(y,I==="p-value"?"asc":"desc")),ut(_,1)}function C(I,E){return typeof I!="number"?String(I):E==="p-value"?I<.001?I.toExponential(2):I.toFixed(4):E==="dN/dS"||E==="dN"||E==="dS"?I.toFixed(4):E==="Normalized dN-dS"?I.toFixed(3):I.toString()}const z=[{key:"site",label:"Site",sortable:!0},{key:"dN/dS",label:"dN/dS",sortable:!0},{key:"dN",label:"dN",sortable:!0},{key:"dS",label:"dS",sortable:!0},{key:"Normalized dN-dS",label:"Normalized dN-dS",sortable:!0},{key:"p-value",label:"p-value",sortable:!0},{key:"significance",label:"Significance",sortable:!0}];Yt(()=>Oe(c()),()=>{ut(n,c()?A(c()):null)}),Yt(()=>Oe(c()),()=>{ut(r,c()?$(c()):[])}),Yt(()=>(v(d),v(r),v(f)),()=>{ut(i,v(d)?v(r).filter(I=>I["p-value"]<=v(f)):v(r))}),Yt(()=>(v(i),v(g),v(y)),()=>{ut(a,[...v(i)].sort((I,E)=>{const H=I[v(g)],Y=E[v(g)],J=typeof H=="number"&&typeof Y=="number"?H-Y:String(H).localeCompare(String(Y));return v(y)==="asc"?J:-J}))}),Yt(()=>(v(a),v(b)),()=>{ut(o,Math.ceil(v(a).length/v(b)))}),Yt(()=>(v(a),v(_),v(b)),()=>{ut(u,v(a).slice((v(_)-1)*v(b),v(_)*v(b)))}),Yt(()=>(v(R),v(r)),()=>{v(R)&&v(r).length>0&&et()}),Ai(),Ei();var U=stt(),B=N(U);{var at=I=>{var E=XJ();bt(I,E)},Z=I=>{var E=att(),H=D(Qn(E),2);{var Y=ft=>{var wt=KJ(),Tt=N(wt),Pt=N(Tt),Et=N(Pt),Ot=D(Tt,2),kt=N(Ot),Lt=N(kt),It=D(Ot,2),Dt=N(It),ye=N(Dt),Jt=D(It,2),ge=N(Jt),Xt=N(ge),te=D(Jt,2),ee=N(te),ve=N(ee);Ft(()=>{Mt(Et,v(n).sequences),Mt(Lt,v(n).sites),Mt(ye,v(n).significantSites),Mt(Xt,v(n).positivelySelected),Mt(ve,v(n).negativelySelected)}),bt(ft,wt)};Ht(H,ft=>{v(n)&&ft(Y)})}var J=D(H,2),ht=N(J),nt=D(N(ht),2),rt=D(ht,2),lt=N(rt),tt=N(lt),ot=D(rt,2),_t=D(N(ot),2);Ft(()=>{v(p),Zr(()=>{})});var Q=N(_t);Q.value=(Q.__value="dnds")==null?"":"dnds";var At=D(Q);At.value=(At.__value="normalized")==null?"":"normalized";var vt=D(At);vt.value=(vt.__value="pvalue")==null?"":"pvalue";var St=D(vt);St.value=(St.__value="all")==null?"":"all";var zt=D(J,2);{var mt=ft=>{var wt=jJ(),Tt=D(N(wt),4);nn(Tt,Pt=>ut(w,Pt),()=>v(w)),bt(ft,wt)};Ht(zt,ft=>{(v(p)==="dnds"||v(p)==="all")&&ft(mt)})}var Nt=D(zt,2);{var oe=ft=>{var wt=ZJ(),Tt=D(N(wt),4);nn(Tt,Pt=>ut(x,Pt),()=>v(x)),bt(ft,wt)};Ht(Nt,ft=>{(v(p)==="normalized"||v(p)==="all")&&ft(oe)})}var ae=D(Nt,2);{var qt=ft=>{var wt=QJ(),Tt=D(N(wt),4);nn(Tt,Pt=>ut(M,Pt),()=>v(M)),bt(ft,wt)};Ht(ae,ft=>{(v(p)==="pvalue"||v(p)==="all")&&ft(qt)})}var Vt=D(ae,2),Se=D(N(Vt),4),Fe=N(Se),_e=N(Fe),jt=N(_e);Pe(jt,5,()=>z,Ie,(ft,wt)=>{var Tt=ttt(),Pt=N(Tt),Et=N(Pt),Ot=N(Et),kt=D(Et,2);{var Lt=It=>{var Dt=JJ(),ye=N(Dt);{var Jt=Xt=>{var te=Fa();Ft(()=>Mt(te,v(y)==="asc"?"":"")),bt(Xt,te)},ge=Xt=>{var te=Fa("");bt(Xt,te)};Ht(ye,Xt=>{v(g)===v(wt).key?Xt(Jt):Xt(ge,!1)})}bt(It,Dt)};Ht(kt,It=>{v(wt).sortable&&It(Lt)})}Ft(()=>{mi(Tt,"sortable",v(wt).sortable),mi(Tt,"sorted",v(g)===v(wt).key),Mt(Ot,v(wt).label)}),Ee("click",Tt,()=>v(wt).sortable&&j(v(wt).key)),bt(ft,Tt)});var Zt=D(_e);Pe(Zt,5,()=>v(u),Ie,(ft,wt)=>{var Tt=ntt();Pe(Tt,5,()=>z,Ie,(Pt,Et)=>{var Ot=ett(),kt=N(Ot);Ft((Lt,It)=>{un(Ot,"style",`color: ${Lt??""}`),Mt(kt,It)},[()=>v(Et).key==="significance"?F(v(wt)[v(Et).key]):"inherit",()=>C(v(wt)[v(Et).key],v(Et).key)],Nn),bt(Pt,Ot)}),bt(ft,Tt)});var Qt=D(Se,2);{var pe=ft=>{var wt=itt(),Tt=N(wt),Pt=N(Tt),Et=D(Tt,2),Ot=N(Et),kt=D(Ot,2),Lt=D(kt,2);Pe(Lt,1,()=>Array.from({length:Math.min(5,v(o))},(ee,ve)=>Math.max(1,v(_)-2)+ve).filter(ee=>ee<=v(o)),Ie,(ee,ve)=>{var Te=rtt(),sn=N(Te);Ft(()=>{mi(Te,"active",v(ve)===v(_)),Mt(sn,v(ve))}),Ee("click",Te,()=>ut(_,v(ve))),bt(ee,Te)});var It=D(Lt,2),Dt=D(It,2),ye=D(Et,2),Jt=D(N(ye),2);Ft(()=>{v(b),Zr(()=>{v(_)})});var ge=N(Jt);ge.value=(ge.__value=25)==null?"":25;var Xt=D(ge);Xt.value=(Xt.__value=50)==null?"":50;var te=D(Xt);te.value=(te.__value=100)==null?"":100,Ft(ee=>{Mt(Pt,`Showing ${(v(_)-1)*v(b)+1}-${ee??""} 
            of ${v(a).length??""} sites`),Ot.disabled=v(_)===1,kt.disabled=v(_)===1,It.disabled=v(_)===v(o),Dt.disabled=v(_)===v(o)},[()=>Math.min(v(_)*v(b),v(a).length)],Nn),Ee("click",Ot,()=>ut(_,1)),Ee("click",kt,()=>Ba(_,-1)),Ee("click",It,()=>Ba(_)),Ee("click",Dt,()=>ut(_,v(o))),Qr(Jt,()=>v(b),ee=>ut(b,ee)),Ee("change",Jt,()=>ut(_,1)),bt(ft,wt)};Ht(Qt,ft=>{v(o)>1&&ft(pe)})}aa(nt,()=>v(f),ft=>ut(f,ft)),Lo(tt,()=>v(d),ft=>ut(d,ft)),Qr(_t,()=>v(p),ft=>ut(p,ft)),bt(I,E)};Ht(B,I=>{c()?I(Z,!1):I(at)})}bt(t,U),ki()}ott.__docgen={version:3,name:"SlacVisualization.svelte",data:[{name:"data",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};var ltt=xt('<div class="loading svelte-295fdw">Loading BGM data...</div>'),utt=xt('<div class="summary-tiles svelte-295fdw"><div class="tile svelte-295fdw"><div class="tile-number svelte-295fdw"> </div> <div class="tile-description svelte-295fdw">Sequences</div></div> <div class="tile svelte-295fdw"><div class="tile-number svelte-295fdw"> </div> <div class="tile-description svelte-295fdw">Sites</div></div> <div class="tile svelte-295fdw"><div class="tile-number svelte-295fdw"> </div> <div class="tile-description svelte-295fdw">Tested Pairs</div></div> <div class="tile svelte-295fdw"><div class="tile-number svelte-295fdw" style="color: #e3243b"> </div> <div class="tile-description svelte-295fdw">Significant Correlations</div></div></div>'),ctt=xt('<div class="analysis-info svelte-295fdw"><h2 class="svelte-295fdw">BGM Analysis Results</h2> <p><strong>Bayesian Graphical Model</strong> for detecting correlated evolution between sites.</p></div> <!> <div class="plot-section svelte-295fdw"><h3 class="svelte-295fdw">Site Correlations</h3> <div class="plot-container svelte-295fdw"></div></div> <div class="citation svelte-295fdw"><h3 class="svelte-295fdw">Citation</h3> <code class="svelte-295fdw">Poon AFY, Lewis FI, Pond SLK, Frost SDW. An evolutionary-network model reveals stratified interactions in the V3 loop of the HIV-1 envelope. PLoS Comput Biol. 2007;3(11):e231.</code></div>',1),ftt=xt('<div class="bgm-visualization svelte-295fdw"><!></div>');function htt(t,e){$i(e,!1);const n=gt(),r=gt();let i=Ye(e,"data",8),a=gt();function o(b){var x,M;const w=b["test results"]||{};return{sequences:((x=b.input)==null?void 0:x.sequences)||0,sites:((M=b.input)==null?void 0:M.sites)||0,partitions:Object.keys(b["data partitions"]||{}).length,correlations:Object.keys(w).length,significantCorrelations:Object.values(w).filter(A=>(A["p-value"]||1)<=.05).length}}function u(b){const w=b["test results"]||{};return Object.entries(w).map(([x,M])=>({pair:x,correlation:M.correlation||0,pValue:M["p-value"]||1,significant:(M["p-value"]||1)<=.05}))}function c(b){return b.length?Re({title:"Site-to-Site Correlations",width:800,height:400,x:{label:"Site Pair",type:"band"},y:{label:"Correlation Coefficient",grid:!0},color:{legend:!0},marks:[cn([0],{stroke:"#666",strokeDasharray:"3,3"}),Ga(b,{x:"pair",y:"correlation",fill:"significant",title:w=>`${w.pair}
Correlation: ${w.correlation.toFixed(3)}
p-value: ${w.pValue.toFixed(4)}`})]}):null}let f=gt(!1);Ci(()=>{ut(f,!0)});function d(){if(v(a)){const b=c(v(r));b&&(Ge(a,v(a).innerHTML=""),v(a).appendChild(b))}}Yt(()=>Oe(i()),()=>{ut(n,i()?o(i()):null)}),Yt(()=>Oe(i()),()=>{ut(r,i()?u(i()):[])}),Yt(()=>(v(f),v(r)),()=>{v(f)&&v(r).length>0&&d()}),Ai(),Ei();var p=ftt(),g=N(p);{var y=b=>{var w=ltt();bt(b,w)},_=b=>{var w=ctt(),x=D(Qn(w),2);{var M=P=>{var L=utt(),F=N(L),V=N(F),K=N(V),W=D(F,2),R=N(W),et=N(R),j=D(W,2),C=N(j),z=N(C),U=D(j,2),B=N(U),at=N(B);Ft(()=>{Mt(K,v(n).sequences),Mt(et,v(n).sites),Mt(z,v(n).correlations),Mt(at,v(n).significantCorrelations)}),bt(P,L)};Ht(x,P=>{v(n)&&P(M)})}var A=D(x,2),$=D(N(A),2);nn($,P=>ut(a,P),()=>v(a)),bt(b,w)};Ht(g,b=>{i()?b(_,!1):b(y)})}bt(t,p),ki()}htt.__docgen={version:3,name:"BgmVisualization.svelte",data:[{name:"data",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};var dtt=xt('<div class="loading svelte-8tjx1k">Loading FADE data...</div>'),ptt=xt('<div class="summary-tiles svelte-8tjx1k"><div class="tile svelte-8tjx1k"><div class="tile-number svelte-8tjx1k"> </div> <div class="tile-description svelte-8tjx1k">Sequences</div></div> <div class="tile svelte-8tjx1k"><div class="tile-number svelte-8tjx1k"> </div> <div class="tile-description svelte-8tjx1k">Sites</div></div> <div class="tile svelte-8tjx1k"><div class="tile-number svelte-8tjx1k"> </div> <div class="tile-description svelte-8tjx1k">p-value</div></div> <div class="tile svelte-8tjx1k"><div class="tile-number svelte-8tjx1k"> </div> <div class="tile-description svelte-8tjx1k">Directional Bias</div></div></div>'),gtt=xt('<div class="analysis-info svelte-8tjx1k"><h2 class="svelte-8tjx1k">FADE Analysis Results</h2> <p><strong>FUBAR Approach to Directional Evolution</strong> tests for directional selection toward specific amino acids.</p></div> <!> <div class="plot-section svelte-8tjx1k"><h3 class="svelte-8tjx1k">Directional Selection Bias</h3> <div class="plot-container svelte-8tjx1k"></div></div> <div class="citation svelte-8tjx1k"><h3 class="svelte-8tjx1k">Citation</h3> <code class="svelte-8tjx1k">Kosakovsky Pond SL, Poon AFY, Leigh Brown AJ, Frost SDW. A maximum likelihood method for detecting directional evolution in protein sequences and its application to influenza A virus. Mol Biol Evol. 2008;25(9):1809-24.</code></div>',1),vtt=xt('<div class="fade-visualization svelte-8tjx1k"><!></div>');function mtt(t,e){$i(e,!1);const n=gt(),r=gt();let i=Ye(e,"data",8),a=gt();function o(b){var x,M;const w=b["test results"]||{};return{sequences:((x=b.input)==null?void 0:x.sequences)||0,sites:((M=b.input)==null?void 0:M.sites)||0,partitions:Object.keys(b["data partitions"]||{}).length,pValue:w["p-value"]||1,lrt:w.LRT||0,hasDirectionalBias:(w["p-value"]||1)<=.05}}function u(b){const w=b["branch attributes"]||{},x=[];return Object.entries(w).forEach(([M,A])=>{A&&A.bias&&x.push({branch:M,bias:A.bias,direction:A.bias>0?"Positive":"Negative"})}),x}function c(b){return b.length?Re({title:"Directional Selection Bias",width:800,height:300,x:{label:"Branch",type:"band"},y:{label:"Bias Score",grid:!0},color:{legend:!0},marks:[cn([0],{stroke:"#666",strokeDasharray:"3,3"}),Ga(b,{x:"branch",y:"bias",fill:"direction",title:w=>`${w.branch}
Bias: ${w.bias.toFixed(3)}
Direction: ${w.direction}`})]}):null}let f=gt(!1);Ci(()=>{ut(f,!0)});function d(){if(v(a)){const b=c(v(r));b&&(Ge(a,v(a).innerHTML=""),v(a).appendChild(b))}}Yt(()=>Oe(i()),()=>{ut(n,i()?o(i()):null)}),Yt(()=>Oe(i()),()=>{ut(r,i()?u(i()):[])}),Yt(()=>(v(f),v(r)),()=>{v(f)&&v(r).length>0&&d()}),Ai(),Ei();var p=vtt(),g=N(p);{var y=b=>{var w=dtt();bt(b,w)},_=b=>{var w=gtt(),x=D(Qn(w),2);{var M=P=>{var L=ptt(),F=N(L),V=N(F),K=N(V),W=D(F,2),R=N(W),et=N(R),j=D(W,2),C=N(j),z=N(C),U=D(j,2),B=N(U),at=N(B);Ft(Z=>{Mt(K,v(n).sequences),Mt(et,v(n).sites),un(C,"style",`color: ${(v(n).hasDirectionalBias?"#e3243b":"#666")??""}`),Mt(z,Z),un(B,"style",`color: ${(v(n).hasDirectionalBias?"#e3243b":"#666")??""}`),Mt(at,v(n).hasDirectionalBias?"YES":"NO")},[()=>v(n).pValue.toExponential(3)],Nn),bt(P,L)};Ht(x,P=>{v(n)&&P(M)})}var A=D(x,2),$=D(N(A),2);nn($,P=>ut(a,P),()=>v(a)),bt(b,w)};Ht(g,b=>{i()?b(_,!1):b(y)})}bt(t,p),ki()}mtt.__docgen={version:3,name:"FadeVisualization.svelte",data:[{name:"data",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};var ytt=xt('<div class="loading svelte-1pfa5eb">Loading GARD data...</div>'),btt=xt('<div class="summary-tiles svelte-1pfa5eb"><div class="tile svelte-1pfa5eb"><div class="tile-number svelte-1pfa5eb"> </div> <div class="tile-description svelte-1pfa5eb">Sequences</div></div> <div class="tile svelte-1pfa5eb"><div class="tile-number svelte-1pfa5eb"> </div> <div class="tile-description svelte-1pfa5eb">Sites</div></div> <div class="tile svelte-1pfa5eb"><div class="tile-number svelte-1pfa5eb" style="color: #e3243b"> </div> <div class="tile-description svelte-1pfa5eb">Breakpoints</div></div> <div class="tile svelte-1pfa5eb"><div class="tile-number svelte-1pfa5eb"> </div> <div class="tile-description svelte-1pfa5eb">Recombination</div></div></div>'),_tt=xt('<div class="analysis-info svelte-1pfa5eb"><h2 class="svelte-1pfa5eb">GARD Analysis Results</h2> <p><strong>Genetic Algorithm for Recombination Detection</strong> identifies recombination breakpoints in alignments.</p></div> <!> <div class="plot-section svelte-1pfa5eb"><h3 class="svelte-1pfa5eb">Breakpoint Locations</h3> <div class="plot-container svelte-1pfa5eb"></div></div> <div class="citation svelte-1pfa5eb"><h3 class="svelte-1pfa5eb">Citation</h3> <code class="svelte-1pfa5eb">Kosakovsky Pond SL, Posada D, Gravenor MB, Woelk CH, Frost SDW. GARD: a genetic algorithm for recombination detection. Bioinformatics. 2006;22(24):3096-8.</code></div>',1),wtt=xt('<div class="gard-visualization svelte-1pfa5eb"><!></div>');function xtt(t,e){$i(e,!1);const n=gt(),r=gt();let i=Ye(e,"data",8),a=gt();function o(b){var x,M,A;const w=b.breakpoints||[];return{sequences:((x=b.input)==null?void 0:x.sequences)||0,sites:((M=b.input)==null?void 0:M.sites)||0,breakpoints:w.length,recombinants:((A=b.recombinants)==null?void 0:A.length)||0,pValue:b["p-value"]||1,hasRecombination:(b["p-value"]||1)<=.05}}function u(b){return(b.breakpoints||[]).map((x,M)=>({id:M+1,position:x.position||0,support:x.support||0,confidence:x.confidence||0}))}function c(b){return b.length?Re({title:"Recombination Breakpoints",width:800,height:300,x:{label:"Sequence Position",grid:!0},y:{label:"Support",grid:!0},marks:[Mn(b,{x:"position",y:"support",r:6,fill:"#e3243b",title:w=>`Breakpoint ${w.id}
Position: ${w.position}
Support: ${w.support.toFixed(3)}
Confidence: ${w.confidence.toFixed(3)}`}),sa(b,{x:"position",stroke:"#e3243b",strokeDasharray:"2,2",strokeOpacity:.5})]}):null}let f=gt(!1);Ci(()=>{ut(f,!0)});function d(){if(v(a)){const b=c(v(r));b&&(Ge(a,v(a).innerHTML=""),v(a).appendChild(b))}}Yt(()=>Oe(i()),()=>{ut(n,i()?o(i()):null)}),Yt(()=>Oe(i()),()=>{ut(r,i()?u(i()):[])}),Yt(()=>(v(f),v(r)),()=>{v(f)&&v(r).length>0&&d()}),Ai(),Ei();var p=wtt(),g=N(p);{var y=b=>{var w=ytt();bt(b,w)},_=b=>{var w=_tt(),x=D(Qn(w),2);{var M=P=>{var L=btt(),F=N(L),V=N(F),K=N(V),W=D(F,2),R=N(W),et=N(R),j=D(W,2),C=N(j),z=N(C),U=D(j,2),B=N(U),at=N(B);Ft(()=>{Mt(K,v(n).sequences),Mt(et,v(n).sites),Mt(z,v(n).breakpoints),un(B,"style",`color: ${(v(n).hasRecombination?"#e3243b":"#666")??""}`),Mt(at,v(n).hasRecombination?"YES":"NO")}),bt(P,L)};Ht(x,P=>{v(n)&&P(M)})}var A=D(x,2),$=D(N(A),2);nn($,P=>ut(a,P),()=>v(a)),bt(b,w)};Ht(g,b=>{i()?b(_,!1):b(y)})}bt(t,p),ki()}xtt.__docgen={version:3,name:"GardVisualization.svelte",data:[{name:"data",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};export{AJ as A,htt as B,mtt as F,xtt as G,aJ as M,_n as P,GJ as R,ott as S,we as a,G1 as b,DJ as c,LQ as d,Ih as o,M5 as s};
