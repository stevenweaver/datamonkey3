import{h as ue,a as o,t as v}from"./template-Bf37FghY.js";import{p as ve,n as e,O as k,P as ce,f as fe,a as pe,Q as m,s as n,R as b,T as g,U as y,V as t}from"./runtime-D_5eIJdB.js";import{i as w,s as C}from"./if-qkq15gDy.js";import{e as me,i as be}from"./each-BHgmS7vF.js";import{h as ge}from"./html-CxodrJdO.js";import{i as ye,e as A}from"./store-DSaKCGfv.js";import{s as z,t as we}from"./class-BhzPnwhT.js";import{p as d}from"./props-Byy7dS6_.js";import{c as xe,o as he}from"./index-client-DTALjsIX.js";import"./index-BzKHlfNo.js";var _e=v('<button aria-label="Dismiss"><svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button>'),ke=v('<div class="mt-2 rounded bg-white bg-opacity-50 p-3 text-sm"><p> </p></div>'),ze=v('<div class="mt-2"><button type="button"><span>Details</span> <svg class="ml-1 h-4 w-4 transform transition-transform" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button> <!></div>'),De=v('<button class="inline-flex items-center rounded border border-current px-2 py-1 text-xs opacity-90 hover:opacity-100"> </button>'),Ve=v('<div class="mt-3"><p class="text-sm font-medium">Suggestions:</p> <div class="mt-1 flex flex-wrap gap-2"></div></div>'),Me=v('<div role="alert"><div class="flex"><div><!></div> <div class="flex-grow"><div class="flex items-start justify-between"><div><p class="font-medium"> </p></div> <!></div> <!> <!></div></div></div>');function Le(q,a){ve(a,!1);const E=m(),D=m(),c=m();let l=d(a,"error",8,null),T=d(a,"level",8,"error"),F=d(a,"dismissable",8,!0),H=d(a,"autoDismiss",8,!1),S=d(a,"dismissAfter",8,5e3),G=d(a,"showDetails",8,!0),V=d(a,"suggestions",24,()=>[]),x=m(null),h=m(!1);const j=xe();function J(){switch(T()){case"error":return{container:"bg-red-50 border-red-300 text-red-900",icon:"text-red-500",button:"hover:bg-red-100 focus:ring-red-600"};case"warning":return{container:"bg-yellow-50 border-yellow-300 text-yellow-900",icon:"text-yellow-500",button:"hover:bg-yellow-100 focus:ring-yellow-600"};case"info":default:return{container:"bg-blue-50 border-blue-300 text-blue-900",icon:"text-blue-500",button:"hover:bg-blue-100 focus:ring-blue-600"}}}function K(){switch(T()){case"error":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
        </svg>`;case"warning":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
        </svg>`;case"info":default:return`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zm-1 7a1 1 0 102 0v-3a1 1 0 10-2 0v3z" clip-rule="evenodd" />
        </svg>`}}function I(){j("dismiss")}function N(){g(h,!e(h))}function W(s){j("suggestion",s)}he(()=>()=>{clearTimeout(e(x))}),k(()=>(y(H()),y(l()),e(x),y(S())),()=>{H()&&l()&&(clearTimeout(e(x)),g(x,setTimeout(()=>{I()},S())))}),k(()=>y(l()),()=>{var s;g(E,typeof l()=="string"?l():((s=l())==null?void 0:s.message)||"An error occurred")}),k(()=>y(l()),()=>{var s;g(D,typeof l()=="string"?null:((s=l())==null?void 0:s.details)||null)}),k(()=>{},()=>{g(c,J())}),ce(),ye();var O=ue(),X=fe(O);{var Y=s=>{var M=Me(),Z=t(M),L=t(Z),$=t(L);ge($,K);var ee=n(L,2),P=t(ee),Q=t(P),te=t(Q),se=t(te),ie=n(Q,2);{var le=i=>{var r=_e();b(()=>z(r,`ml-4 inline-flex rounded p-1.5 transition-colors ${e(c).button??""} focus:outline-none focus:ring-2 focus:ring-offset-2`)),A("click",r,I),o(i,r)};w(ie,i=>{F()&&i(le)})}var R=n(P,2);{var re=i=>{var r=ze(),u=t(r),B=n(t(u),2),_=n(u,2);{var f=p=>{var U=ke(),ne=t(U),de=t(ne);b(()=>C(de,e(D))),o(p,U)};w(_,p=>{e(h)&&p(f)})}b(()=>{z(u,`inline-flex items-center text-sm ${e(c).button??""} rounded px-2 py-1 transition-colors focus:outline-none`),we(B,"rotate-180",e(h))}),A("click",u,N),o(i,r)};w(R,i=>{e(D)&&G()&&i(re)})}var ae=n(R,2);{var oe=i=>{var r=Ve(),u=n(t(r),2);me(u,5,V,be,(B,_)=>{var f=De(),p=t(f);b(()=>C(p,e(_).label)),A("click",f,()=>W(e(_))),o(B,f)}),o(i,r)};w(ae,i=>{V()&&V().length>0&&i(oe)})}b(()=>{z(M,`error-handler mb-4 rounded border p-4 shadow-sm ${e(c).container??""}`),z(L,`mr-3 flex-shrink-0 ${e(c).icon??""}`),C(se,e(E))}),o(s,M)};w(X,s=>{l()&&s(Y)})}o(q,O),pe()}Le.__docgen={version:3,name:"ErrorHandler.svelte",data:[{name:"error",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"other",text:"null"},static:!1,readonly:!1,defaultValue:"null"},{name:"level",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"error"'},{name:"dismissable",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"true"},{name:"autoDismiss",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"dismissAfter",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"5000"},{name:"showDetails",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"true"},{name:"suggestions",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"any[]"},static:!1,readonly:!1,defaultValue:"[]"}],computed:[],methods:[],components:[],description:null,keywords:[],events:[{visibility:"public",description:null,keywords:[],name:"dismiss"},{visibility:"public",description:null,keywords:[],name:"suggestion"}],slots:[],refs:[]};export{Le as default};
